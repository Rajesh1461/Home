/*! For license information please see main.5573e82b.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),o=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var R=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var j=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===j?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case E:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var N=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],z=-1;function F(e){return{current:e}}function U(e){0>z||(e.current=M[z],M[z]=null,z--)}function B(e,t){z++,M[z]=e.current,e.current=t}var V=F(null),$=F(null),W=F(null),H=F(null);function q(e,t){switch(B(W,t),B($,e),B(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),B(V,e)}function K(){U(V),U($),U(W)}function G(e){null!==e.memoizedState&&B(H,e);var t=V.current,n=od(t,e.type);t!==n&&(B($,e),B(V,n))}function Q(e){$.current===e&&(U(V),U($)),H.current===e&&(U(H),Gd._currentValue=L)}var Y=Object.prototype.hasOwnProperty,J=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,ae=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=ve(r):0!==(a&=s)?i=ve(a):n||0!==(n=s&~e)&&(i=ve(n)):0!==(s=r&~o)?i=ve(s):0!==a?i=ve(a):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var je=Math.random().toString(36).slice(2),Pe="__reactFiber$"+je,Ne="__reactProps$"+je,Oe="__reactContainer$"+je,De="__reactEvents$"+je,Le="__reactListeners$"+je,Me="__reactHandles$"+je,ze="__reactResources$"+je,Fe="__reactMarker$"+je;function Ue(e){delete e[Pe],delete e[Ne],delete e[De],delete e[Le],delete e[Me]}function Be(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Pe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Pe]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function We(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Fe]=!0}var qe=new Set,Ke={};function Ge(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Ye,Je,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Ze,i)&&(Xe.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Je}var ot=!1;function at(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(N(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Et(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function jt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Nt=null;function Ot(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Ne]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ne]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Lt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Pt||null!==Nt)&&(Bc(),Pt&&(t=Pt,e=Nt,Nt=Pt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ne]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(zt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Nh){Ft=!1}var Bt=null,Vt=null,$t=null;function Wt(){if($t)return $t;var e,t,n=Vt,r=n.length,i="value"in Bt?Bt.value:Bt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Kt(){return!1}function Gt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Qt,Yt,Jt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Xt),en=h({},Xt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Qt=e.screenX-Jt.screenX,Yt=e.screenY-Jt.screenY):Yt=Qt=0,Jt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Gt(nn),on=Gt(h({},nn,{dataTransfer:0})),an=Gt(h({},en,{relatedTarget:0})),sn=Gt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Gt(h({},Xt,{newState:0,oldState:0})),xn=[9,13,27,32],Sn=zt&&"CompositionEvent"in window,kn=null;zt&&"documentMode"in document&&(kn=document.documentMode);var En=zt&&"TextEvent"in window&&!kn,_n=zt&&(!Sn||kn&&8<kn&&11>=kn),Tn=String.fromCharCode(32),Cn=!1;function In(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Nn(e,t,n,r){Pt?Nt?Nt.push(r):Nt=[r]:Pt=r,0<(t=Wu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Dn=null;function Ln(e){Lu(e,0)}function Mn(e){if(ht($e(e)))return e}function zn(e,t){if("change"===e)return t}var Fn=!1;if(zt){var Un;if(zt){var Bn="oninput"in document;if(!Bn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Bn="function"===typeof Vn.oninput}Un=Bn}else Un=!1;Fn=Un&&(!document.documentMode||9<document.documentMode)}function $n(){On&&(On.detachEvent("onpropertychange",Wn),Dn=On=null)}function Wn(e){if("value"===e.propertyName&&Mn(Dn)){var t=[];Nn(t,Dn,e,jt(e)),Lt(Ln,t)}}function Hn(e,t,n){"focusin"===e?($n(),Dn=n,(On=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&$n()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(Dn)}function Kn(e,t){if("click"===e)return Mn(t)}function Gn(e,t){if("input"===e||"change"===e)return Mn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=zt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Yn(or,r)||(or=r,0<(r=Wu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}zt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),Ge(t,[e])}xr.push("scrollEnd");var kr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var _r=[],Tr=0,Cr=0;function Ir(){for(var e=Tr,t=Cr=Tr=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var i=_r[t];_r[t++]=null;var o=_r[t];if(_r[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Pr(n,i,o)}}function Rr(e,t,n,r){_r[Tr++]=e,_r[Tr++]=t,_r[Tr++]=n,_r[Tr++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Rr(e,t,n,r),Nr(e)}function jr(e,t){return Rr(e,null,null,t),Nr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Nr(e){if(50<Pc)throw Pc=0,Nc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Dr(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,i,o){var s=0;if(r=e,"function"===typeof e)Mr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Lr(31,n,t,i)).elementType=C,e.lanes=o,e;case g:return Br(n.children,i,o,t);case y:s=8,i|=24;break;case v:return(e=Lr(12,n,t,2|i)).elementType=v,e.lanes=o,e;case k:return(e=Lr(13,n,t,i)).elementType=k,e.lanes=o,e;case E:return(e=Lr(19,n,t,i)).elementType=E,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:s=10;break e;case w:s=9;break e;case S:s=11;break e;case _:s=14;break e;case T:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function $r(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Hr=0,qr=null,Kr=0,Gr=[],Qr=0,Yr=null,Jr=1,Xr="";function Zr(e,t){Wr[Hr++]=Kr,Wr[Hr++]=qr,qr=e,Kr=t}function ei(e,t,n){Gr[Qr++]=Jr,Gr[Qr++]=Xr,Gr[Qr++]=Yr,Yr=e;var r=Jr;e=Xr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var o=32-fe(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Jr=1<<32-fe(t)+i|n<<i|r,Xr=o+e}else Jr=1<<o|n<<i|r,Xr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===qr;)qr=Wr[--Hr],Wr[Hr]=null,Kr=Wr[--Hr],Wr[Hr]=null;for(;e===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,Xr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null}var ri=null,ii=null,oi=!1,ai=null,si=!1,li=Error(a(519));function ci(e){throw mi(Er(Error(a(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Ne]=r,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Mu(Ou[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=r.onScroll&&Mu("scroll",t),null!=r.onScrollEnd&&Mu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(si=!1);case 27:case 3:return void(si=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!oi)return di(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ad(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=vd,vd=null,ii=e):ii=n):ii=ri?yd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,oi=!1}function pi(){var e=ai;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),ai=null),e}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=F(null),yi=null,vi=null;function bi(e,t,n){B(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,U(gi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xi(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),xi(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function ki(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}i=i.return}null!==e&&Si(t,e,n,r),t.flags|=262144}function Ei(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ii(yi,e)}function Ci(e,t){return null===yi&&_i(e),Ii(e,t)}function Ii(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(a(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ri="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ai=r.unstable_scheduleCallback,ji=r.unstable_NormalPriority,Pi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ni(){return{controller:new Ri,data:new Map,refCount:0}}function Oi(e){e.refCount--,0===e.refCount&&Ai(ji,function(){e.controller.abort()})}var Di=null,Li=0,Mi=0,zi=null;function Fi(){if(0===--Li&&null!==Di){null!==zi&&(zi.status="fulfilled");var e=Di;Di=null,Mi=0,zi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ui=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Di){var n=Di=[];Li=0,Mi=Ru(),zi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Li++,t.then(Fi,Fi)}(0,t),null!==Ui&&Ui(e,t)};var Bi=F(null);function Vi(){var e=Bi.current;return null!==e?e:rc.pooledCache}function $i(e,t){B(Bi,null===t?Bi.current:t.pool)}function Wi(){var e=Vi();return null===e?null:{parent:Pi._currentValue,pool:e}}var Hi=Error(a(460)),qi=Error(a(474)),Ki=Error(a(542)),Gi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Xi=t,Hi}}var Xi=null;function Zi(){if(null===Xi)throw Error(a(459));var e=Xi;return Xi=null,e}function eo(e){if(e===Hi||e===Ki)throw Error(a(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Nr(e),Pr(e,null,n),t}return Rr(e,r,t,n),Nr(e)}function ao(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function so(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==zi)throw zi}}function uo(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(oc&f)===f:(r&f)===f){0!==f&&f===Mi&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:to=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),fc|=a,e.lanes=a,e.memoizedState=d}}function ho(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function fo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var po=F(null),mo=F(0);function go(e,t){B(mo,e=dc),B(po,t),dc=e|t.baseLanes}function yo(){B(mo,dc),B(po,po.current)}function vo(){dc=mo.current,U(po),U(mo)}var bo=0,wo=null,xo=null,So=null,ko=!1,Eo=!1,_o=!1,To=0,Co=0,Io=null,Ro=0;function Ao(){throw Error(a(321))}function jo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Po(e,t,n,r,i,o){return bo=o,wo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?qa:Ka,_o=!1,o=n(r,i),_o=!1,Eo&&(o=Oo(t,n,r,i)),No(e),o}function No(e){O.H=Ha;var t=null!==xo&&null!==xo.next;if(bo=0,So=xo=wo=null,ko=!1,Co=0,Io=null,t)throw Error(a(300));null===e||Cs||null!==(e=e.dependencies)&&Ei(e)&&(Cs=!0)}function Oo(e,t,n,r){wo=e;var i=0;do{if(Eo&&(Io=null),Co=0,Eo=!1,25<=i)throw Error(a(301));if(i+=1,So=xo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}O.H=Ga,o=t(n,r)}while(Eo);return o}function Do(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Bo(t):t,e=e.useState()[0],(null!==xo?xo.memoizedState:null)!==e&&(wo.flags|=1024),t}function Lo(){var e=0!==To;return To=0,e}function Mo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zo(e){if(ko){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ko=!1}bo=0,So=xo=wo=null,Eo=!1,Co=To=0,Io=null}function Fo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===So?wo.memoizedState=So=e:So=So.next=e,So}function Uo(){if(null===xo){var e=wo.alternate;e=null!==e?e.memoizedState:null}else e=xo.next;var t=null===So?wo.memoizedState:So.next;if(null!==t)So=t,xo=e;else{if(null===e){if(null===wo.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(xo=e).memoizedState,baseState:xo.baseState,baseQueue:xo.baseQueue,queue:xo.queue,next:null},null===So?wo.memoizedState=So=e:So=So.next=e}return So}function Bo(e){var t=Co;return Co+=1,null===Io&&(Io=[]),e=Ji(Io,e,t),t=wo,null===(null===So?t.memoizedState:So.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?qa:Ka),e}function Vo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bo(e);if(e.$$typeof===x)return Ti(e)}throw Error(a(438,String(e)))}function $o(e){var t=null,n=wo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function Wo(e,t){return"function"===typeof t?t(e):t}function Ho(e){return qo(Uo(),xo,e)}function qo(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=s=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(bo&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Mi&&(d=!0);else{if((bo&f)===f){u=u.next,f===Mi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=o):c=c.next=h,wo.lanes|=f,fc|=f}h=u.action,_o&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=o):c=c.next=f,wo.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!Qn(o,e.memoizedState)&&(Cs=!0,d&&null!==(n=zi)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ko(e){var t=Uo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Qn(o,t.memoizedState)||(Cs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Go(e,t,n){var r=wo,i=Uo(),o=oi;if(o){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Qn((xo||i).memoizedState,n);if(s&&(i.memoizedState=n,Cs=!0),i=i.queue,ya(2048,8,Jo.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==So&&1&So.memoizedState.tag){if(r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,i,n,t),null),null===rc)throw Error(a(349));o||0!==(124&bo)||Qo(r,t,n)}return n}function Qo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yo(e,t,n,r){t.value=n,t.getSnapshot=r,Xo(t)&&Zo(e)}function Jo(e,t,n){return n(function(){Xo(t)&&Zo(e)})}function Xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Zo(e){var t=jr(e,2);null!==t&&Lc(t,e,2)}function ea(e){var t=Fo();if("function"===typeof e){var n=e;if(e=n(),_o){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t}function ta(e,t,n,r){return e.baseState=n,qo(e,xo,"function"===typeof r?r:Wo)}function na(e,t,n,r,i){if(Va(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==O.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,ra(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ra(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=O.T,a={};O.T=a;try{var s=n(i,r),l=O.S;null!==l&&l(a,s),ia(e,t,s)}catch(c){aa(e,t,c)}finally{O.T=o}}else try{ia(e,t,o=n(i,r))}catch(u){aa(e,t,u)}}function ia(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){oa(e,t,n)},function(n){return aa(e,t,n)}):oa(e,t,n)}function oa(e,t,n){t.status="fulfilled",t.value=n,sa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ra(e,n)))}function aa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,sa(t),t=t.next}while(t!==r)}e.action=null}function sa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function la(e,t){return t}function ca(e,t){if(oi){var n=rc.formState;if(null!==n){e:{var r=wo;if(oi){if(ii){t:{for(var i=ii,o=si;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=yd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=yd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Fo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},n.queue=r,n=Fa.bind(null,wo,r),r.dispatch=n,r=ea(!1),o=Ba.bind(null,wo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fo()).queue=i,n=na.bind(null,wo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ua(e){return da(Uo(),xo,e)}function da(e,t,n){if(t=qo(e,t,la)[0],e=Ho(Wo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bo(t)}catch(a){if(a===Hi)throw Ki;throw a}else r=t;var i=(t=Uo()).queue,o=i.dispatch;return n!==t.memoizedState&&(wo.flags|=2048,pa(9,{destroy:void 0,resource:void 0},ha.bind(null,i,n),null)),[r,o,e]}function ha(e,t){e.action=t}function fa(e){var t=Uo(),n=xo;if(null!==n)return da(t,n,e);Uo(),t=t.memoizedState;var r=(n=Uo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function pa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(){return Uo().memoizedState}function ga(e,t,n,r){var i=Fo();r=void 0===r?null:r,wo.flags|=e,i.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},n,r)}function ya(e,t,n,r){var i=Uo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==xo&&null!==r&&jo(r,xo.memoizedState.deps)?i.memoizedState=pa(t,o,n,r):(wo.flags|=e,i.memoizedState=pa(1|t,o,n,r))}function va(e,t){ga(8390656,8,e,t)}function ba(e,t){ya(2048,8,e,t)}function wa(e,t){return ya(4,2,e,t)}function xa(e,t){return ya(4,4,e,t)}function Sa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ka(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ya(4,4,Sa.bind(null,t,e),n)}function Ea(){}function _a(e,t){var n=Uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&jo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=Uo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&jo(t,r[1]))return r[0];if(r=e(),_o){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ca(e,t,n){return void 0===n||0!==(1073741824&bo)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),wo.lanes|=e,fc|=e,n)}function Ia(e,t,n,r){return Qn(n,t)?n:null!==po.current?(e=Ca(e,n,r),Qn(e,t)||(Cs=!0),e):0===(42&bo)?(Cs=!0,e.memoizedState=n):(e=Dc(),wo.lanes|=e,fc|=e,t)}function Ra(e,t,n,r,i){var o=D.p;D.p=0!==o&&8>o?o:8;var a=O.T,s={};O.T=s,Ba(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ua(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Oc());else Ua(e,t,r,Oc())}catch(u){Ua(e,t,{then:function(){},status:"rejected",reason:u},Oc())}finally{D.p=o,O.T=a}}function Aa(){}function ja(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=Pa(e).queue;Ra(e,i,t,L,null===n?Aa:function(){return Na(e),n(r)})}function Pa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Na(e){Ua(e,Pa(e).next.queue,{},Oc())}function Oa(){return Ti(Gd)}function Da(){return Uo().memoizedState}function La(){return Uo().memoizedState}function Ma(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=oo(t,e=io(n),n);return null!==r&&(Lc(r,t,n),ao(r,t,n)),t={cache:Ni()},void(e.payload=t)}t=t.return}}function za(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Va(e)?$a(t,n):null!==(n=Ar(e,t,n,r))&&(Lc(n,e,r),Wa(n,t,r))}function Fa(e,t,n){Ua(e,t,n,Oc())}function Ua(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Va(e))$a(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Qn(s,a))return Rr(e,t,i,0),null===rc&&Ir(),!1}catch(l){}if(null!==(n=Ar(e,t,i,r)))return Lc(n,e,r),Wa(n,t,r),!0}return!1}function Ba(e,t,n,r){if(r={lane:2,revertLane:Ru(),action:r,hasEagerState:!1,eagerState:null,next:null},Va(e)){if(t)throw Error(a(479))}else null!==(t=Ar(e,n,r,2))&&Lc(t,e,2)}function Va(e){var t=e.alternate;return e===wo||null!==t&&t===wo}function $a(e,t){Eo=ko=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var Ha={readContext:Ti,use:Vo,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useLayoutEffect:Ao,useInsertionEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useSyncExternalStore:Ao,useId:Ao,useHostTransitionStatus:Ao,useFormState:Ao,useActionState:Ao,useOptimistic:Ao,useMemoCache:Ao,useCacheRefresh:Ao},qa={readContext:Ti,use:Vo,useCallback:function(e,t){return Fo().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4194308,4,Sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){ga(4,2,e,t)},useMemo:function(e,t){var n=Fo();t=void 0===t?null:t;var r=e();if(_o){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fo();if(void 0!==n){var i=n(t);if(_o){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=za.bind(null,wo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fo().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,n=Fa.bind(null,wo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ea,useDeferredValue:function(e,t){return Ca(Fo(),e,t)},useTransition:function(){var e=ea(!1);return e=Ra.bind(null,wo,e.queue,!0,!1),Fo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wo,i=Fo();if(oi){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&oc)||Qo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,va(Jo.bind(null,r,o,e),[e]),r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,o,n,t),null),n},useId:function(){var e=Fo(),t=rc.identifierPrefix;if(oi){var n=Xr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-fe(Jr)-1)).toString(32)+n),0<(n=To++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ro++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Oa,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=Fo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ba.bind(null,wo,!0,n),n.dispatch=t,[e,t]},useMemoCache:$o,useCacheRefresh:function(){return Fo().memoizedState=Ma.bind(null,wo)}},Ka={readContext:Ti,use:Vo,useCallback:_a,useContext:Ti,useEffect:ba,useImperativeHandle:ka,useInsertionEffect:wa,useLayoutEffect:xa,useMemo:Ta,useReducer:Ho,useRef:ma,useState:function(){return Ho(Wo)},useDebugValue:Ea,useDeferredValue:function(e,t){return Ia(Uo(),xo.memoizedState,e,t)},useTransition:function(){var e=Ho(Wo)[0],t=Uo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Go,useId:Da,useHostTransitionStatus:Oa,useFormState:ua,useActionState:ua,useOptimistic:function(e,t){return ta(Uo(),0,e,t)},useMemoCache:$o,useCacheRefresh:La},Ga={readContext:Ti,use:Vo,useCallback:_a,useContext:Ti,useEffect:ba,useImperativeHandle:ka,useInsertionEffect:wa,useLayoutEffect:xa,useMemo:Ta,useReducer:Ko,useRef:ma,useState:function(){return Ko(Wo)},useDebugValue:Ea,useDeferredValue:function(e,t){var n=Uo();return null===xo?Ca(n,e,t):Ia(n,xo.memoizedState,e,t)},useTransition:function(){var e=Ko(Wo)[0],t=Uo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Go,useId:Da,useHostTransitionStatus:Oa,useFormState:fa,useActionState:fa,useOptimistic:function(e,t){var n=Uo();return null!==xo?ta(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$o,useCacheRefresh:La},Qa=null,Ya=0;function Ja(e){var t=Ya;return Ya+=1,null===Qa&&(Qa=[]),Ji(Qa,e,t)}function Xa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Za(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&es(o)===t.type)?(Xa(t=i(t,n.props),n),t.return=e,t):(Xa(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Br(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xa(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=$r(t,e.mode,n)).return=e,t;case T:return h(e,t=(0,t._init)(t._payload),n)}if(N(t)||A(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ja(t),n);if(t.$$typeof===x)return h(e,Ci(e,t),n);Za(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=(i=n._init)(n._payload),r)}if(N(n)||A(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Ja(n),r);if(n.$$typeof===x)return f(e,t,Ci(e,n),r);Za(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(N(r)||A(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Ja(r),i);if(r.$$typeof===x)return y(e,t,n,Ci(t,r),i);Za(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&es(b)===c.type){n(l,c.sibling),Xa(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xa(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=$r(u,l.mode,d)).return=l,l=d}return s(l);case T:return v(l,c,u=(b=u._init)(u._payload),d)}if(N(u))return function(i,a,s,l){for(var c=null,u=null,d=a,p=a=0,m=null;null!==d&&p<s.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,s[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===s.length)return n(i,d),oi&&Zr(i,p),c;if(null===d){for(;p<s.length;p++)null!==(d=h(i,s[p],l))&&(a=o(d,a,p),null===u?c=d:u.sibling=d,u=d);return oi&&Zr(i,p),c}for(d=r(d);p<s.length;p++)null!==(m=y(d,i,p,s[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),a=o(m,a,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),oi&&Zr(i,p),c}(l,c,u,d);if(A(u)){if("function"!==typeof(b=A(u)))throw Error(a(150));return function(i,s,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,p=s,m=s=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),s=o(b,s,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(i,p),oi&&Zr(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(s=o(v,s,m),null===d?u=v:d.sibling=v,d=v);return oi&&Zr(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),s=o(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(i,e)}),oi&&Zr(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Ja(u),d);if(u.$$typeof===x)return v(l,c,Ci(l,u),d);Za(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{Ya=0;var i=v(e,t,n,r);return Qa=null,i}catch(a){if(a===Hi||a===Ki)throw a;var o=Lr(29,a,null,e.mode);return o.lanes=r,o.return=e,o}}}var ns=ts(!0),rs=ts(!1),is=F(null),os=null;function as(e){var t=e.alternate;B(us,1&us.current),B(is,e),null===os&&(null===t||null!==po.current||null!==t.memoizedState)&&(os=e)}function ss(e){if(22===e.tag){if(B(us,us.current),B(is,e),null===os){var t=e.alternate;null!==t&&null!==t.memoizedState&&(os=e)}}else ls()}function ls(){B(us,us.current),B(is,is.current)}function cs(e){U(is),os===e&&(os=null),U(us)}var us=F(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Lc(t,e,r),ao(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Lc(t,e,r),ao(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Lc(t,e,n),ao(t,e,n))}};function ps(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,o))}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ys="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){ys(e)}function bs(e){console.error(e)}function ws(e){ys(e)}function xs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ss(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ks(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){xs(e,t)},n}function Es(e){return(e=io(e)).tag=3,e}function _s(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Ss(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Ss(t,n,r),"function"!==typeof i&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ts=Error(a(461)),Cs=!1;function Is(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Rs(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return _i(t),r=Po(e,t,n,a,o,i),s=Lo(),null===e||Cs?(oi&&s&&ti(t),t.flags|=1,Is(e,t,r,i),t.child):(Mo(e,t,i),Qs(e,t,i))}function As(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Mr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,js(e,t,o,r,i))}if(o=e.child,!Ys(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,r)&&e.ref===t.ref)return Qs(e,t,i)}return t.flags|=1,(e=zr(o,r)).ref=t.ref,e.return=t,t.child=e}function js(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Yn(o,r)&&e.ref===t.ref){if(Cs=!1,t.pendingProps=r=o,!Ys(e,i))return t.lanes=e.lanes,Qs(e,t,i);0!==(131072&e.flags)&&(Cs=!0)}}return Ds(e,t,n,r,i)}function Ps(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Ns(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ns(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$i(0,null!==o?o.cachePool:null),null!==o?go(t,o):yo(),ss(t)}else null!==o?($i(0,o.cachePool),go(t,o),ls(),t.memoizedState=null):(null!==e&&$i(0,null),yo(),ls());return Is(e,t,i,n),t.child}function Ns(e,t,n,r){var i=Vi();return i=null===i?null:{parent:Pi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&$i(0,null),yo(),ss(t),null!==e&&ki(e,t,r,!0),null}function Os(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ds(e,t,n,r,i){return _i(t),n=Po(e,t,n,r,void 0,i),r=Lo(),null===e||Cs?(oi&&r&&ti(t),t.flags|=1,Is(e,t,n,i),t.child):(Mo(e,t,i),Qs(e,t,i))}function Ls(e,t,n,r,i,o){return _i(t),t.updateQueue=null,n=Oo(t,r,n,i),No(e),r=Lo(),null===e||Cs?(oi&&r&&ti(t),t.flags|=1,Is(e,t,n,o),t.child):(Mo(e,t,o),Qs(e,t,o))}function Ms(e,t,n,r,i){if(_i(t),null===t.stateNode){var o=Or,a=n.contextType;"object"===typeof a&&null!==a&&(o=Ti(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=fs,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),a=n.contextType,o.context="object"===typeof a&&null!==a?Ti(a):Or,o.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(hs(t,n,a,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&fs.enqueueReplaceState(o,o.state,null),uo(t,r,o,i),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=gs(n,s);o.props=l;var c=o.context,u=n.contextType;a=Or,"object"===typeof u&&null!==u&&(a=Ti(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==a)&&ms(t,o,r,a),to=!1;var h=t.memoizedState;o.state=h,uo(t,r,o,i),co(),c=t.memoizedState,s||h!==c||to?("function"===typeof d&&(hs(t,n,d,r),c=t.memoizedState),(l=to||ps(t,n,l,r,h,c,a))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=gs(n,a=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&ms(t,o,r,l),to=!1,h=t.memoizedState,o.state=h,uo(t,r,o,i),co();var f=t.memoizedState;a!==d||h!==f||to||null!==e&&null!==e.dependencies&&Ei(e.dependencies)?("function"===typeof s&&(hs(t,n,s,r),f=t.memoizedState),(u=to||ps(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ei(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Os(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,i),t.child=ns(t,null,n,i)):Is(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Qs(e,t,i),e}function zs(e,t,n,r){return fi(),t.flags|=256,Is(e,t,n,r),t.child}var Fs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Us(e){return{baseLanes:e,cachePool:Wi()}}function Bs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Vs(e,t,n){var r,i=t.pendingProps,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?as(t):ls(),oi){var l,c=ii;if(l=c){e:{for(l=c,c=si;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Jr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=i.children,i=i.fallback,o?(ls(),c=Ws({mode:"hidden",children:c},o=t.mode),i=Br(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=Us(n),o.childLanes=Bs(e,r,n),t.memoizedState=Fs,i):(as(t),$s(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(as(t),t.flags&=-257,t=Hs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),o=i.fallback,c=t.mode,i=Ws({mode:"visible",children:i.children},c),(o=Br(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,ns(t,e.child,null,n),(i=t.child).memoizedState=Us(n),i.childLanes=Bs(e,r,n),t.memoizedState=Fs,t=o);else if(as(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Hs(e,t,n)}else if(Cs||ki(e,t,n,!1),r=0!==(n&e.childLanes),Cs||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ie(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,jr(e,i),Lc(r,e,i),Ts;"$?"===c.data||Kc(),t=Hs(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yd(c.nextSibling),ri=t,oi=!0,ai=null,si=!1,null!==e&&(Gr[Qr++]=Jr,Gr[Qr++]=Xr,Gr[Qr++]=Yr,Jr=e.id,Xr=e.overflow,Yr=t),(t=$s(t,i.children)).flags|=4096);return t}return o?(ls(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=zr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=zr(u,o):(o=Br(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=Us(n):(null!==(l=c.cachePool)?(u=Pi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Wi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Bs(e,r,n),t.memoizedState=Fs,i):(as(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $s(e,t){return(t=Ws({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ws(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hs(e,t,n){return ns(t,e.child,null,n),(e=$s(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function Ks(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Is(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,n,t);else if(19===e.tag)qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(us,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ks(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ds(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ks(t,!0,n,null,o);break;case"together":Ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ki(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ei(e))}function Js(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Cs=!0;else{if(!Ys(e,n)&&0===(128&t.flags))return Cs=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),bi(0,Pi,e.memoizedState.cache),fi();break;case 27:case 5:G(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(as(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vs(e,t,n):(as(t),null!==(e=Qs(e,t,n))?e.sibling:null);as(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ki(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Ps(e,t,n);case 24:bi(0,Pi,e.memoizedState.cache)}return Qs(e,t,n)}(e,t,n);Cs=0!==(131072&e.flags)}else Cs=!1,oi&&0!==(1048576&t.flags)&&ei(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===S){t.tag=11,t=Rs(null,t,r,e,n);break e}if(i===_){t.tag=14,t=As(null,t,r,e,n);break e}}throw t=P(r)||r,Error(a(306,t,""))}Mr(r)?(e=gs(r,e),t.tag=1,t=Ms(null,t,r,e,n)):(t.tag=0,t=Ds(null,t,r,e,n))}return t;case 0:return Ds(e,t,t.type,t.pendingProps,n);case 1:return Ms(e,t,r=t.type,i=gs(r,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),uo(t,r,null,n);var s=t.memoizedState;if(r=s.cache,bi(0,Pi,r),r!==o.cache&&Si(t,[Pi],n,!0),co(),r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=zs(e,t,r,n);break e}if(r!==i){mi(i=Er(Error(a(424)),t)),t=zs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yd(e.firstChild),ri=t,oi=!0,ai=null,si=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Qs(e,t,n);break e}Is(e,t,r,n)}t=t.child}return t;case 26:return Os(e,t),null===e?(n=Id(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=rd(W.current).createElement(n))[Pe]=t,r[Ne]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=Id(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&oi&&(r=t.stateNode=wd(t.type,t.pendingProps,W.current),ri=t,si=!0,i=ii,fd(t.type)?(vd=i,ii=yd(r.firstChild)):ii=i),Is(e,t,t.pendingProps.children,n),Os(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,si))?(t.stateNode=r,ri=t,ii=yd(r.firstChild),si=!1,i=!0):i=!1),i||ci(t)),G(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,ad(i,o)?r=null:null!==s&&ad(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Po(e,t,Do,null,null,n),Gd._currentValue=i),Os(e,t),Is(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,si))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Vs(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):Is(e,t,r,n),t.child;case 11:return Rs(e,t,t.type,t.pendingProps,n);case 7:return Is(e,t,t.pendingProps,n),t.child;case 8:case 12:return Is(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Is(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,_i(t),r=r(i=Ti(i)),t.flags|=1,Is(e,t,r,n),t.child;case 14:return As(e,t,t.type,t.pendingProps,n);case 15:return js(e,t,t.type,t.pendingProps,n);case 19:return Gs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ws(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=zr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ps(e,t,n);case 24:return _i(t),r=Ti(Pi),null===e?(null===(i=Vi())&&(i=rc,o=Ni(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),bi(0,Pi,i)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Pi,r)):(r=o.cache,bi(0,Pi,r),r!==i.cache&&Si(t,[Pi],n,!0))),Is(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Xs(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=is.current)&&((4194048&oc)===oc?null!==os:(62914560&oc)!==oc&&0===(536870912&oc)||t!==os))throw Xi=Gi,qi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Pi),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Xs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xs(t),null!==n?(nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xs(t),nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xs(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=W.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=V.current,hi(t)?ui(t):(e=wd(i,r,n),t.stateNode=e,Xs(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=V.current,hi(t))ui(t);else{switch(i=rd(W.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Pe]=t,e[Ne]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xs(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=W.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Pe]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(U(us),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ds(e))){for(t.flags|=128,tl(i,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return B(us,1&us.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Sc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return nl(t),null}else 2*te()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=us.current,B(us,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),vo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Bi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Pi),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Pi),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(us),null;case 4:return K(),null;case 10:return wi(t.type),null;case 22:case 23:return cs(t),vo(),null!==e&&U(Bi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Pi),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:wi(Pi),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:cs(t);break;case 19:U(us);break;case 10:wi(t.type);break;case 22:case 23:cs(t),vo(),null!==e&&U(Bi);break;case 24:wi(Pi)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fo(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Xu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Xu(e,t,f,p,r,h)}}return void gt(e,s,l,c,u,d,o,i);case"select":for(o in p=s=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||Xu(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&Xu(e,t,i,o,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,i)}for(s in r)if(i=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&Xu(e,t,s,i,r,o)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Xu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Xu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Xu(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Xu(e,t,h,f,r,p)}(r,e.type,n,t),r[Ne]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Pe]=e,t[Ne]=n}catch(o){uu(e,e.return,o)}}var bl=!1,wl=!1,xl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,kl=null;function El(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&r&&al(5,n);break;case 1:if(Ml(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var i=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ml(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fo(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ml(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&r&&Al(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var o=wl;bl=r,(wl=t)&&!o?Fl(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),bl=i,wl=o}break;case 30:break;default:Ml(e,n)}}function _l(e){var t=e.alternate;null!==t&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Cl=!1;function Il(e,t,n){for(n=n.child;null!==n;)Rl(e,t,n),n=n.sibling}function Rl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:wl||dl(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=Tl,i=Cl;fd(n.type)&&(Tl=n.stateNode,Cl=!1),Il(e,t,n),xd(n.stateNode),Tl=r,Cl=i;break;case 5:wl||dl(n,t);case 6:if(r=Tl,i=Cl,Tl=null,Il(e,t,n),Cl=i,null!==(Tl=r))if(Cl)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{Tl.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==Tl&&(Cl?(pd(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):pd(Tl,n.stateNode));break;case 4:r=Tl,i=Cl,Tl=n.stateNode.containerInfo,Cl=!0,Il(e,t,n),Tl=r,Cl=i;break;case 0:case 11:case 14:case 15:wl||sl(2,n,t),wl||sl(4,n,t),Il(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Il(e,t,n),wl=r;break;default:Il(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ch(e)}catch(n){uu(t,t.return,n)}}function jl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){Tl=l.stateNode,Cl=!1;break e}break;case 5:Tl=l.stateNode,Cl=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===Tl)throw Error(a(160));Rl(o,s,i),Tl=null,Cl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Nl=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Dl(e),4&r&&(sl(3,e,e.return),al(3,e),sl(5,e,e.return));break;case 1:Pl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Nl;if(Pl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Fe]||o[Pe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),ed(o,r,n),o[Pe]=e,He(o),r=o;break e;case"link":var s=Fd("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(s=Fd("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(a(468,r))}o[Pe]=e,He(o),r=o}e.stateNode=r}else Ud(i,e.type,e.stateNode);else e.stateNode=Od(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Ud(i,e.type,e.stateNode):Od(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(xl=!0);break;case 6:if(Pl(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(zd=null,i=Nl,Nl=Ed(t.containerInfo),Pl(t,e),Nl=i,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(p){uu(e,e.return,p)}xl&&(xl=!1,Ll(e));break;case 4:r=Nl,Nl=Ed(e.stateNode.containerInfo),Pl(t,e),Dl(e),Nl=r;break;case 12:default:Pl(t,e),Dl(e);break;case 13:Pl(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,jl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||i,wl=d||c,Pl(t,e),wl=d,bl=u,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||wl||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,jl(e,n))));break;case 19:Pl(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,jl(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,ml(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),yl(e,ml(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,ml(e),s);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),zl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),zl(t);break;case 27:xd(t.stateNode);case 26:case 5:dl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Fl(i,o,n),al(4,o);break;case 1:if(Fl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ho(l[i],s)}catch(c){uu(r,r.return,c)}}n&&64&a&&ll(o),ul(o,o.return);break;case 27:vl(o);case 26:case 5:Fl(i,o,n),n&&null===r&&4&a&&hl(o),ul(o,o.return);break;case 12:Fl(i,o,n);break;case 13:Fl(i,o,n),n&&4&a&&Al(i,o);break;case 22:null===o.memoizedState&&Fl(i,o,n),ul(o,o.return);break;case 30:break;default:Fl(i,o,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oi(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,n,r),t=t.sibling}function $l(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&i&&al(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e)));break;case 12:if(2048&i){Vl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?Vl(e,t,n,r):Hl(e,t):2&o._visibility?Vl(e,t,n,r):(o._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Ul(a,t);break;case 24:Vl(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Wl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Wl(o,a,s,l,i),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Wl(o,a,s,l,i):Hl(o,a):(u._visibility|=2,Wl(o,a,s,l,i)),i&&2048&c&&Ul(a.alternate,a);break;case 24:Wl(o,a,s,l,i),i&&2048&c&&Bl(a.alternate,a);break;default:Wl(o,a,s,l,i)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Hl(n,r),2048&i&&Ul(r.alternate,r);break;case 24:Hl(n,r),2048&i&&Bl(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var ql=8192;function Kl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Kl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(a(475));var r=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Rd(n.href),o=e.querySelector(Ad(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void He(o);o=e.ownerDocument||e,n=jd(n),(i=Sd.get(i))&&Ld(n,i),He(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Nl,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Nl;Nl=Ed(e.stateNode.containerInfo),Kl(e),Nl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Kl(e),ql=t):Kl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Yl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var i=(r=kl).sibling,o=r.return;if(_l(r),r===n){kl=null;break e}if(null!==i){i.return=o,kl=i;break e}kl=o}}}var ec={getCacheForType:function(e){var t=Ti(Pi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,oc=0,ac=0,sc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,wc=!1,xc=0,Sc=1/0,kc=null,Ec=null,_c=0,Tc=null,Cc=null,Ic=0,Rc=0,Ac=null,jc=null,Pc=0,Nc=null;function Oc(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==O.T){return 0!==Mi?Mi:Ru()}return Ae()}function Dc(){0===gc&&(gc=0===(536870912&oc)||oi?Se():536870912);var e=is.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||($c(e,0),Uc(e,oc,gc,!1)),_e(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&Uc(e,oc,gc,!1)),Su(e))}function Mc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Hc(),i=qc();rc!==e||oc!==t?(kc=null,Sc=te()+500,$c(e,t)):cc=we(e,t);e:for(;;)try{if(0!==ac&&null!==ic){t=ic;var o=sc;t:switch(ac){case 1:ac=0,sc=null,Zc(e,t,o,1);break;case 2:case 9:if(Qi(o)){ac=0,sc=null,Xc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),Su(e)},o.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Qi(o)?(ac=0,sc=null,Xc(t)):(ac=0,sc=null,Zc(e,t,o,7));break;case 5:var s=null;switch(ic.tag){case 26:s=ic.memoizedState;case 5:case 27:var l=ic;if(!s||Bd(s)){ac=0,sc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}ac=0,sc=null,Zc(e,t,o,5);break;case 6:ac=0,sc=null,Zc(e,t,o,6);break;case 8:Vc(),hc=6;break e;default:throw Error(a(462))}}Yc();break}catch(d){Wc(e,d)}return vi=yi=null,O.H=r,O.A=i,nc=n,null!==ic?0:(rc=null,oc=0,Ir(),hc)}(e,t):Gc(e,t,!0),o=r;;){if(0===i){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!o||Fc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,s).flags|=256),2!==(s=Gc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,pc|=o,i=4;break e}o=bc,bc=i,null!==o&&(null===bc?bc=o:bc.push.apply(bc,o))}i=s}if(o=!1,2!==i)continue}}if(1===i){$c(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=xc+300-te())){if(Uc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(zc.bind(null,r,n,bc,kc,wc,t,gc,pc,yc,lc,o,2,-0,0),i)}else zc(r,n,bc,kc,wc,t,gc,pc,yc,lc,o,0,-0,0)}break}i=Gc(e,t,!1),o=!1}Su(e)}function zc(e,t,n,r,i,o,s,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Vd={stylesheets:null,count:0,unsuspend:$d},Gl(t),null!==(h=function(){if(null===Vd)throw Error(a(475));var e=Vd;return e.stylesheets&&0===e.count&&qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,o,n,r,i,s,l,c,d,1,f,p)),void Uc(e,o,s,!u);nu(e,t,o,n,r,i,s,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qn(o(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-fe(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&Te(e,n,t)}function Bc(){return 0!==(6&nc)||(ku(0,!1),!1)}function Vc(){if(null!==ic){if(0===ac)var e=ic.return;else vi=yi=null,zo(e=ic),Qa=null,Ya=0,e=ic;for(;null!==e;)ol(e.alternate,e),e=e.return;ic=null}}function $c(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),rc=e,ic=n=zr(e.current,null),oc=t,ac=0,sc=null,lc=!1,cc=we(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),o=1<<i;t|=e[i],r&=~o}return dc=t,Ir(),n}function Wc(e,t){wo=null,O.H=Ha,t===Hi||t===Ki?(t=Zi(),ac=3):t===qi?(t=Zi(),ac=4):ac=t===Ts?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===ic&&(hc=1,xs(e,Er(t,e.current)))}function Hc(){var e=O.H;return O.H=Ha,null===e?Ha:e}function qc(){var e=O.A;return O.A=ec,e}function Kc(){hc=4,lc||(4194048&oc)!==oc&&null!==is.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Uc(rc,oc,gc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var i=Hc(),o=qc();rc===e&&oc===t||(kc=null,$c(e,t)),t=!1;var a=hc;e:for(;;)try{if(0!==ac&&null!==ic){var s=ic,l=sc;switch(ac){case 8:Vc(),a=6;break e;case 3:case 2:case 9:case 6:null===is.current&&(t=!0);var c=ac;if(ac=0,sc=null,Zc(e,s,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,sc=null,Zc(e,s,l,c)}}Qc(),a=hc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,O.H=i,O.A=o,null===ic&&(rc=null,oc=0,Ir()),a}function Qc(){for(;null!==ic;)Jc(ic)}function Yc(){for(;null!==ic&&!Z();)Jc(ic)}function Jc(e){var t=Js(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ls(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Ls(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:zo(t);default:ol(n,t),t=Js(n,t=ic=Fr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e,t,n,r){vi=yi=null,zo(t),Qa=null,Ya=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ki(t,n,i,!0),null!==(n=is.current)){switch(n.tag){case 13:return null===os?Kc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(a(435,n.tag))}return du(e,r,i),Kc(),!1}if(oi)return null!==(t=is.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Er(e=Error(a(422),{cause:r}),n))):(r!==li&&mi(Er(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Er(r,n),so(e,i=ks(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var o=Error(a(520),{cause:r});if(o=Er(o,n),null===vc?vc=[o]:vc.push(o),4!==hc&&(hc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,so(n,e=ks(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Ec||!Ec.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,_s(i=Es(i),e,n,r),so(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return hc=1,xs(e,Er(n,e.current)),void(ic=null)}catch(o){if(null!==i)throw ic=i,o;return hc=1,xs(e,Er(n,e.current)),void(ic=null)}32768&t.flags?(oi||1===r?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=is.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,o,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==_c);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Te(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,o|=Cr,s,l,c),e===rc&&(ic=rc=null,oc=0),Cc=t,Tc=e,Ic=n,Rc=o,Ac=i,jc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(oe,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=D.p,D.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(o=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=gs(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=s,D.p=i,O.T=r}}_c=1,ru(),iu(),ou()}}function ru(){if(1===_c){_c=0;var e=Tc,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{Ol(t,e);var o=nd,a=er(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=Xn(s,m),v=Xn(s,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=i,D.p=r,O.T=n}}e.current=t,_c=2}}function iu(){if(2===_c){_c=0;var e=Tc,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{El(e,t.alternate,t)}finally{nc=i,D.p=r,O.T=n}}_c=3}}function ou(){if(4===_c||3===_c){_c=0,ee();var e=Tc,t=Cc,n=Ic,r=jc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?_c=5:(_c=0,Cc=Tc=null,au(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Ec=null),Re(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=D.p,D.p=2,O.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{O.T=t,D.p=i}}0!==(3&Ic)&&su(),Su(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Nc?Pc++:(Pc=0,Nc=e):Pc=0,ku(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oi(t)))}function su(e){return ru(),iu(),ou(),lu()}function lu(){if(5!==_c)return!1;var e=Tc,t=Rc;Rc=0;var n=Re(Ic),r=O.T,i=D.p;try{D.p=32>n?32:n,O.T=null,n=Ac,Ac=null;var o=Tc,s=Ic;if(_c=0,Cc=Tc=null,Ic=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Jl(o.current),$l(o,o.current,s,n),nc=l,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{D.p=i,O.T=r,au(e,t)}}function cu(e,t,n){t=Er(n,t),null!==(e=oo(e,t=ks(e.stateNode,t,2),2))&&(_e(e,2),Su(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Er(n,e),null!==(r=oo(t,n=Es(2),2))&&(_s(n,r,t,e),_e(r,2),Su(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===hc||3===hc&&(62914560&oc)===oc&&300>te()-xc?0===(2&nc)&&$c(e,0):mc|=n,yc===oc&&(yc=0)),Su(e)}function fu(e,t){0===t&&(t=ke()),null!==(e=jr(e,t))&&(_e(e,t),Su(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,wu=!1,xu=0;function Su(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?J(re,Eu):_u()}))}function ku(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-fe(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Iu(r,o))}else o=oc,0===(3&(o=be(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,o)||(n=!0,Iu(r,o));r=r.next}}while(n);wu=!1}}function Eu(){_u()}function _u(){bu=vu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,o=Tu(r,t);0===o?(r.next=null,null===n?gu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&o))&&(bu=!0)),r=i}ku(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-fe(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=xe(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=oc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Re(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=se}return r=Cu.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==_c&&5!==_c)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function Iu(e,t){if(su())return null;Mc(e,t,!0)}function Ru(){return 0===xu&&(xu=Se()),xu}function Au(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function ju(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<xr.length;Pu++){var Nu=xr[Pu];Sr(Nu.toLowerCase(),"on"+(Nu[0].toUpperCase()+Nu.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(yr,"onTransitionStart"),Sr(vr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){ys(u)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){ys(u)}i.currentTarget=null,o=l}}}}function Mu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function zu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Fu]){e[Fu]=!0,qe.forEach(function(t){"selectionchange"!==t&&(Du.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,zu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=oh}n=i.bind(null,t,n,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==s;){if(null===(a=Be(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=o=a;continue e}s=s.parentNode}}r=r.return}Lt(function(){var r=o,i=jt(n),a=[];e:{var s=wr.get(e);if(void 0!==s){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=sn;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Mt(m,f))&&d.push($u(m,g,p)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Oe])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?s:$e(c),p=null==u?s:$e(u),(s=new d(g,m+"leave",c,n,i)).target=h,s.relatedTarget=p,g=null,Be(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Hu(p))m++;for(p=0,g=f;g;g=Hu(g))p++;for(;0<m-p;)d=Hu(d),m--;for(;0<p-m;)f=Hu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Hu(d),f=Hu(f)}d=null}else d=null;null!==c&&qu(a,s,c,d,!1),null!==u&&null!==h&&qu(a,h,u,d,!0)}if("select"===(c=(s=r?$e(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=zn;else if(Pn(s))if(Fn)y=Gn;else{y=qn;var v=Hn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(y=zn):y=Kn;switch(y&&(y=y(e,r))?Nn(a,y,n,i):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?$e(r):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,i)}var b;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else An?In(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(_n&&"ko"!==n.locale&&(An||"onCompositionStart"!==w?"onCompositionEnd"===w&&An&&(b=Wt()):(Vt="value"in(Bt=i)?Bt.value:Bt.textContent,An=!0)),0<(v=Wu(r,w)).length&&(w=new cn(w,e,null,n,i),a.push({event:w,listeners:v}),b?w.data=b:null!==(b=Rn(n))&&(w.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Cn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!Sn&&In(e,t)?(e=Wt(),$t=Vt=Bt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Wu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Au((i[Ne]||null).action),a=r.submitter;a&&null!==(t=(t=a[Ne]||null)?Au(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new Zt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==xu){var e=a?ju(i,a):new FormData(i);ja(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=a?ju(i,a):new FormData(i),ja(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,r,n,i)}Lu(a,t)})}function $u(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Mt(e,n))&&r.unshift($u(e,i,o)),null!=(i=Mt(e,t))&&r.push($u(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qu(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Mt(n,o))&&a.unshift($u(n,c,l)):i||null!=(c=Mt(n,o))&&a.push($u(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ku=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Ku,"\n").replace(Gu,"")}function Yu(e,t){return t=Qu(t),Qu(e)===t}function Ju(){}function Xu(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":_t(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Xu(e,t,"name",i.name,i,null),Xu(e,t,"formEncType",i.formEncType,i,null),Xu(e,t,"formMethod",i.formMethod,i,null),Xu(e,t,"formTarget",i.formTarget,i,null)):(Xu(e,t,"encType",i.encType,i,null),Xu(e,t,"method",i.method,i,null),Xu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Rt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function Zu(e,t,n,r,i,o){switch(n){case"style":_t(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Ne]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,r,s,n,null)}}return o&&Xu(e,t,"srcSet",n.srcSet,n,null),void(i&&Xu(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var l=r=s=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Xu(e,t,i,d,n,null)}}return yt(e,r,l,c,u,s,o,!1),void dt(e);case"select":for(o in Mu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Xu(e,t,o,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(s in Mu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Xu(e,t,s,l,n,null)}return xt(e,i,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Xu(e,t,c,i,n,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(i=0;i<Ou.length;i++)Mu(Ou[i],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Zu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Xu(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ad(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&xd(a.documentElement),2&n&&xd(a.body),4&n)for(xd(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===i)return e.removeChild(o),void Ch(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Ch(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function xd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var Sd=new Map,kd=new Set;function Ed(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _d=D.d;D.d={f:function(){var e=_d.f(),t=Bc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Na(t):_d.r(e)},D:function(e){_d.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){_d.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){_d.L(e,t,n);var r=Td;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=Rd(e);break;case"script":o=Pd(e)}Sd.has(o)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ad(o))||"script"===t&&r.querySelector(Nd(o))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){_d.m(e,t);var n=Td;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Pd(e)}if(!Sd.has(o)&&(e=h({rel:"modulepreload",href:e},t),Sd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Nd(o)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){_d.X(e,t);var n=Td;if(n&&e){var r=We(n).hoistableScripts,i=Pd(e),o=r.get(i);o||((o=n.querySelector(Nd(i)))||(e=h({src:e,async:!0},t),(t=Sd.get(i))&&Md(e,t),He(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){_d.S(e,t,n);var r=Td;if(r&&e){var i=We(r).hoistableStyles,o=Rd(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Ad(o)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(o))&&Ld(e,n);var l=a=r.createElement("link");He(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Dd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){_d.M(e,t);var n=Td;if(n&&e){var r=We(n).hoistableScripts,i=Pd(e),o=r.get(i);o||((o=n.querySelector(Nd(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=Sd.get(i))&&Md(e,t),He(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Td="undefined"===typeof document?null:document;function Cd(e,t,n){var r=Td;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),kd.has(i)||(kd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Id(e,t,n,r){var i,o,s,l,c=(c=W.current)?Ed(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Rd(n.href),(r=(n=We(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Rd(n.href);var u=We(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ad(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),u||(i=c,o=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),ed(o,"link",s),He(o),i.head.appendChild(o))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(r=(n=We(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Rd(e){return'href="'+mt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function jd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+mt(e)+'"]'}function Nd(e){return"script[async]"+e}function Od(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Rd(n.href);var o=e.querySelector(Ad(i));if(o)return t.state.loading|=4,t.instance=o,He(o),o;r=jd(n),(i=Sd.get(i))&&Ld(r,i),He(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(o,"link",r),t.state.loading|=4,Dd(o,n.precedence,e),t.instance=o;case"script":return o=Pd(n.src),(i=e.querySelector(Nd(o)))?(t.instance=i,He(i),i):(r=n,(i=Sd.get(o))&&Md(r=h({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zd=null;function Fd(e,t,n){if(null===zd){var r=new Map,i=zd=new Map;i.set(n,r)}else(r=(i=zd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Fe]||o[Pe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function $d(){}function Wd(){if(this.count--,0===this.count)if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function qd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Kd,e),Hd=null,Wd.call(e))}function Kd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Wd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Qd(e,t,n,r,i,o,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Yd(e,t,n,r,i,o,a,s,l,c,u,d){return e=new Qd(e,t,n,a,s,l,c,d),t=1,!0===o&&(t|=24),o=Lr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ni()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Jd(e){return e?e=Or:Or}function Xd(e,t,n,r,i,o){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Lc(n,0,t),ao(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=jr(e,67108864);null!==t&&Lc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=O.T;O.T=null;var o=D.p;try{D.p=2,oh(e,t,n,r)}finally{D.p=o,O.T=i}}function ih(e,t,n,r){var i=O.T;O.T=null;var o=D.p;try{D.p=8,oh(e,t,n,r)}finally{D.p=o,O.T=i}}function oh(e,t,n,r){if(nh){var i=ah(r);if(null===i)Vu(e,t,r,sh,n),vh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,i),!0;case"dragenter":return hh=bh(hh,e,t,n,r,i),!0;case"mouseover":return fh=bh(fh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ph.set(o,bh(ph.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,mh.set(o,bh(mh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==i;){var o=Ve(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=ve(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-fe(a);s.entanglements[1]|=l,a&=~l}Su(o),0===(6&nc)&&(Sc=te()+500,ku(0,!1))}}break;case 13:null!==(s=jr(o,2))&&Lc(s,0,2),Bc(),eh(o,2)}if(null===(o=ah(r))&&Vu(e,t,r,sh,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function ah(e){return lh(e=jt(e))}var sh=null;function lh(e){if(sh=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case ae:return 32;case se:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ve(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Oc();e=Ie(e);var t=jr(n,e);null!==t&&Lc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ah(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function Sh(e,t,n){xh(e)&&n.delete(t)}function kh(){uh=!1,null!==dh&&xh(dh)&&(dh=null),null!==hh&&xh(hh)&&(hh=null),null!==fh&&xh(fh)&&(fh=null),ph.forEach(Sh),mh.forEach(Sh)}function Eh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kh)))}var _h=null;function Th(e){_h!==e&&(_h=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_h===e&&(_h=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var o=Ve(n);null!==o&&(e.splice(t,3),t-=3,ja(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ch(e){function t(t){return Eh(t,e)}null!==dh&&Eh(dh,e),null!==hh&&Eh(hh,e),null!==fh&&Eh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)wh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Ne]||null;if("function"===typeof o)a||Th(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Ne]||null)s=a.formAction;else if(null!==lh(i))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Th(n)}}}function Ih(e){this._internalRoot=e}function Rh(e){this._internalRoot=e}Rh.prototype.render=Ih.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xd(t.current,Oc(),e,t,null,null)},Rh.prototype.unmount=Ih.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Bc(),t[Oe]=null}},Rh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&wh(e)}};var Ah=i.version;if("19.1.0"!==Ah)throw Error(a(527,Ah,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var jh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(jh),de=Ph}catch(Oh){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",i=vs,o=bs,l=ws;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,i,o,l,0,null),e[Oe]=t.current,Uu(e),new Ih(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,i="",o=vs,l=bs,c=ws,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Jd(null),n=t.current,(i=io(r=Ie(r=Oc()))).callback=null,oo(n,i,r),n=r,t.current.lanes=n,_e(t,n),Su(t),e[Oe]=t.current,Uu(e),new Rh(t)},t.version="19.1.0"},21:(e,t,n)=>{const r=n(969).getSymbolSize;t.getPositions=function(e){const t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},43:(e,t,n)=>{"use strict";e.exports=n(288)},52:(e,t,n)=>{"use strict";n.d(t,{KO:()=>X,MF:()=>Q,Sx:()=>J,Wp:()=>Y,j6:()=>W,om:()=>$,xZ:()=>H});var r=n(812),i=n(443),o=n(529),a=n(180);class s{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const l="@firebase/app",c="0.13.2",u=new i.Vy("@firebase/app"),d="@firebase/app-compat",h="@firebase/analytics-compat",f="@firebase/analytics",p="@firebase/app-check-compat",m="@firebase/app-check",g="@firebase/auth",y="@firebase/auth-compat",v="@firebase/database",b="@firebase/data-connect",w="@firebase/database-compat",x="@firebase/functions",S="@firebase/functions-compat",k="@firebase/installations",E="@firebase/installations-compat",_="@firebase/messaging",T="@firebase/messaging-compat",C="@firebase/performance",I="@firebase/performance-compat",R="@firebase/remote-config",A="@firebase/remote-config-compat",j="@firebase/storage",P="@firebase/storage-compat",N="@firebase/firestore",O="@firebase/ai",D="@firebase/firestore-compat",L="firebase",M="[DEFAULT]",z={[l]:"fire-core",[d]:"fire-core-compat",[f]:"fire-analytics",[h]:"fire-analytics-compat",[m]:"fire-app-check",[p]:"fire-app-check-compat",[g]:"fire-auth",[y]:"fire-auth-compat",[v]:"fire-rtdb",[b]:"fire-data-connect",[w]:"fire-rtdb-compat",[x]:"fire-fn",[S]:"fire-fn-compat",[k]:"fire-iid",[E]:"fire-iid-compat",[_]:"fire-fcm",[T]:"fire-fcm-compat",[C]:"fire-perf",[I]:"fire-perf-compat",[R]:"fire-rc",[A]:"fire-rc-compat",[j]:"fire-gcs",[P]:"fire-gcs-compat",[N]:"fire-fst",[D]:"fire-fst-compat",[O]:"fire-vertex","fire-js":"fire-js",[L]:"fire-js-all"},F=new Map,U=new Map,B=new Map;function V(e,t){try{e.container.addComponent(t)}catch(n){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function $(e){const t=e.name;if(B.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;B.set(t,e);for(const n of F.values())V(n,e);for(const n of U.values())V(n,e);return!0}function W(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function H(e){return null!==e&&void 0!==e&&void 0!==e.settings}const q={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},K=new o.FA("app","Firebase",q);class G{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw K.create("app-deleted",{appName:this._name})}}const Q="11.10.0";function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:M,automaticDataCollectionEnabled:!0},t),a=i.name;if("string"!==typeof a||!a)throw K.create("bad-app-name",{appName:String(a)});if(n||(n=(0,o.T9)()),!n)throw K.create("no-options");const s=F.get(a);if(s){if((0,o.bD)(n,s.options)&&(0,o.bD)(i,s.config))return s;throw K.create("duplicate-app",{appName:a})}const l=new r.h1(a);for(const r of B.values())l.addComponent(r);const c=new G(n,i,l);return F.set(a,c),c}function J(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;const t=F.get(e);if(!t&&e===M&&(0,o.T9)())return Y();if(!t)throw K.create("no-app",{appName:e});return t}function X(e,t,n){var i;let o=null!==(i=z[e])&&void 0!==i?i:e;n&&(o+=`-${n}`);const a=o.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=[`Unable to register library "${o}" with version "${t}":`];return a&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}$(new r.uA(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}const Z="firebase-heartbeat-store";let ee=null;function te(){return ee||(ee=(0,a.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Z)}catch(n){console.warn(n)}}}).catch(e=>{throw K.create("idb-open",{originalErrorMessage:e.message})})),ee}async function ne(e,t){try{const n=(await te()).transaction(Z,"readwrite"),r=n.objectStore(Z);await r.put(t,re(e)),await n.done}catch(n){if(n instanceof o.g)u.warn(n.message);else{const e=K.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});u.warn(e.message)}}}function re(e){return`${e.name}!${e.options.appId}`}class ie{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ae(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oe();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){u.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=oe(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),se(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),se(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,o.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return u.warn(t),""}}}function oe(){return(new Date).toISOString().substring(0,10)}class ae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await te()).transaction(Z),n=await t.objectStore(Z).get(re(e));return await t.done,n}catch(t){if(t instanceof o.g)u.warn(t.message);else{const e=K.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});u.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function se(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var le;le="",$(new r.uA("platform-logger",e=>new s(e),"PRIVATE")),$(new r.uA("heartbeat",e=>new ie(e),"PRIVATE")),X(l,c,le),X(l,c,"esm2017"),X("fire-js","")},116:e=>{e.exports=function(){return"function"===typeof Promise&&Promise.prototype&&Promise.prototype.then}},147:(e,t,n)=>{"use strict";n.d(t,{getDownloadURL:()=>ke,c7:()=>_e,ref:()=>Ee,uploadBytes:()=>Se});var r=n(52),i=n(529),o=n(812);const a="firebasestorage.googleapis.com",s="storageBucket";class l extends i.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(d(e),`Firebase Storage: ${t} (${d(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,l.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return d(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var c,u;function d(e){return"storage/"+e}function h(){return new l(c.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function f(){return new l(c.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p(){return new l(c.CANCELED,"User canceled the upload/download.")}function m(){return new l(c.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function g(e){return new l(c.INVALID_ARGUMENT,e)}function y(){return new l(c.APP_DELETED,"The Firebase app was deleted.")}function v(e,t){return new l(c.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function b(e){throw new l(c.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(c||(c={}));class w{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=w.makeFromUrl(e,t)}catch(i){return new w(e,"")}if(""===n.path)return n;throw r=e,new l(c.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===a?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let a=0;a<u.length;a++){const t=u[a],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new w(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new l(c.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class x{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function S(e){return"string"===typeof e||e instanceof String}function k(e){return E()&&e instanceof Blob}function E(){return"undefined"!==typeof Blob}function _(e,t,n,r){if(r<t)throw g(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw g(`Invalid value for '${e}'. Expected ${n} or less.`)}function T(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function C(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function I(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(u||(u={}));class R{constructor(e,t,n,r,i,o,a,s,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new A(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===u.NO_ERROR,i=n.getStatus();if(!t||I(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===u.ABORT;return void e(!1,new A(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new A(o,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(o){r(o)}else if(null!==i){const e=h();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?y():p())}else{r(f())}};this.canceled_?t(0,new A(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),d(0)):e||(s=1)))}return d(0),o=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class A{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function j(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function P(){const e=j();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(E())return new Blob(n);throw new l(c.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function N(e){if("undefined"===typeof atob)throw t="base-64",new l(c.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const O="raw",D="base64",L="base64url",M="data_url";class z{constructor(e,t){this.data=e,this.contentType=t||null}}function F(e,t){switch(e){case O:return new z(U(t));case D:case L:return new z(B(e,t));case M:return new z(function(e){const t=new V(e);return t.base64?B(D,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw v(M,"Malformed data URL.")}return U(t)}(t.rest)}(t),new V(t).contentType)}throw h()}function U(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function B(e,t){switch(e){case D:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw v(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case L:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw v(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=N(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw v(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class V{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw v(M,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class ${constructor(e,t){let n=0,r="";k(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(k(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new $(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new $(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(E()){const e=t.map(e=>e instanceof $?e.data_:e);return new $(P.apply(null,e))}{const e=t.map(e=>S(e)?F(O,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new $(r,!0)}}uploadData(){return this.data_}}function W(e){let t;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function H(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function q(e,t){return t}class K{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||q}}let G=null;function Q(){if(G)return G;const e=[];e.push(new K("bucket")),e.push(new K("generation")),e.push(new K("metageneration")),e.push(new K("name","fullPath",!0));const t=new K("name");t.xform=function(e,t){return function(e){return!S(e)||e.length<2?e:H(e)}(t)},e.push(t);const n=new K("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new K("timeCreated")),e.push(new K("updated")),e.push(new K("md5Hash",null,!0)),e.push(new K("cacheControl",null,!0)),e.push(new K("contentDisposition",null,!0)),e.push(new K("contentEncoding",null,!0)),e.push(new K("contentLanguage",null,!0)),e.push(new K("contentType",null,!0)),e.push(new K("metadata","customMetadata",!0)),G=e,G}function Y(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new w(n,r);return t._makeStorageReference(i)}})}(r,e),r}function J(e,t,n){const r=W(t);if(null===r)return null;return Y(e,r,n)}function X(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Z{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ee(e){if(!e)throw h()}function te(e,t){return function(n,r){const i=J(e,r,t);return ee(null!==i),i}}function ne(e,t){return function(n,r){const i=J(e,r,t);return ee(null!==i),function(e,t,n,r){const i=W(t);if(null===i)return null;if(!S(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const a=encodeURIComponent;return o.split(",").map(t=>{const i=e.bucket,o=e.fullPath;return T("/b/"+a(i)+"/o/"+a(o),n,r)+C({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function re(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new l(c.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new l(c.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new l(c.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new l(c.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ie(e){const t=re(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new l(c.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function oe(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ae(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;const l=oe(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+X(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+s+"--",d=$.getBlob(c,r,u);if(null===d)throw m();const h={name:l.fullPath},f=T(o,e.host,e._protocol),p=e.maxUploadRetryTime,g=new Z(f,"POST",te(e,n),p);return g.urlParams=h,g.headers=a,g.body=d.uploadData(),g.errorHandler=re(t),g}let se=null;class le{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=u.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=u.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=u.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,o){if(this.sent_)throw b("cannot .send() more than once");if((0,i.zJ)(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const i in o)o.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,o[i].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw b("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw b("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw b("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw b("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ce extends le{initXhr(){this.xhr_.responseType="text"}}function ue(){return se?se():new ce}class de{constructor(e,t){this._service=e,this._location=t instanceof w?t:w.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new de(e,t)}get root(){const e=new w(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new w(this._location.bucket,e);return new de(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new l(c.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function he(e,t,n){e._throwIfRoot("uploadBytes");const r=ae(e.storage,e._location,Q(),new $(t,!0),n);return e.storage.makeRequestWithTokens(r,ue).then(t=>({metadata:t,ref:e}))}function fe(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=T(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Z(r,"GET",ne(e,n),i);return o.errorHandler=ie(t),o}(e.storage,e._location,Q());return e.storage.makeRequestWithTokens(t,ue).then(e=>{if(null===e)throw new l(c.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function pe(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new w(e._location.bucket,n);return new de(e.storage,r)}function me(e,t){if(e instanceof ve){const n=e;if(null==n._bucket)throw new l(c.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+s+"' property when initializing the app?");const r=new de(n,n._bucket);return null!=t?me(r,t):r}return void 0!==t?pe(e,t):e}function ge(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ve)return new de(e,t);throw g("To use ref(service, url), the first argument must be a Storage instance.")}return me(e,t)}function ye(e,t){const n=null===t||void 0===t?void 0:t[s];return null==n?null:w.makeFromBucketSpec(n,e)}class ve{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=a,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?w.makeFromBucketSpec(r,this._host):ye(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=w.makeFromBucketSpec(this._url,e):this._bucket=ye(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new de(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new x(y());{const o=function(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=C(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new R(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a,s)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const be="@firebase/storage",we="0.13.14",xe="storage";function Se(e,t,n){return he(e=(0,i.Ku)(e),t,n)}function ke(e){return fe(e=(0,i.Ku)(e))}function Ee(e,t){return ge(e=(0,i.Ku)(e),t)}function _e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,i.Ku)(e);const n=(0,r.j6)(e,xe).getImmediate({identifier:t}),o=(0,i.yU)("storage");return o&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`;const o=(0,i.zJ)(t);o&&((0,i.gE)(`https://${e.host}/b`),(0,i.P1)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken="string"===typeof a?a:(0,i.Fy)(a,e.app.options.projectId))}(e,t,n,r)}(n,...o),n}function Te(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new ve(i,o,a,n,r.MF)}(0,r.om)(new o.uA(xe,Te,"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(be,we,""),(0,r.KO)(be,we,"esm2017")},166:(e,t)=>{const n=new Uint8Array(512),r=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)n[t]=e,r[e]=t,e<<=1,256&e&&(e^=285);for(let t=255;t<512;t++)n[t]=n[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[r[e]+r[t]]}},175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},177:(e,t,n)=>{const r=n(312);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=r.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){const e=new Uint8Array(this.degree);return e.set(n,i),e}return n},e.exports=i},180:(e,t,n)=>{"use strict";n.d(t,{P2:()=>g});const r=(e,t)=>t.some(t=>e instanceof t);let i,o;const a=new WeakMap,s=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;let d={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(m(this),n),p(a.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(e.apply(m(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(m(this),t,...r);return l.set(o,t.sort?t.sort():[t]),p(o)}}function f(e){return"function"===typeof e?h(e):(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});s.set(e,t)}(e),r(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,d):e)}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(p(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&a.set(t,e)}).catch(()=>{}),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=f(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const m=e=>u.get(e);function g(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=p(a);return r&&a.addEventListener("upgradeneeded",e=>{r(p(a.result),e.oldVersion,e.newVersion,p(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const y=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],b=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(b.get(t))return b.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return b.set(t,o),o}d=(e=>({...e,get:(t,n,r)=>w(t,n)||e.get(t,n,r),has:(t,n)=>!!w(t,n)||e.has(t,n)}))(d)},182:(e,t,n)=>{const r=n(293);t.render=function(e,t,n){let i=n,o=t;"undefined"!==typeof i||t&&t.getContext||(i=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);const a=r.getImageWidth(e.modules.size,i),s=o.getContext("2d"),l=s.createImageData(a,a);return r.qrToImageData(l.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,o,a),s.putImageData(l,0,0),o},t.renderToDataURL=function(e,n,r){let i=r;"undefined"!==typeof i||n&&n.getContext||(i=n,n=void 0),i||(i={});const o=t.render(e,n,i),a=i.type||"image/png",s=i.rendererOpts||{};return o.toDataURL(a,s.quality)}},200:(e,t,n)=>{const r=n(421),i=n(969);function o(e){this.mode=r.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=i.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=o},253:(e,t,n)=>{"use strict";n.d(t,{auth:()=>Oe,db:()=>De,storage:()=>Le});var r=n(52);(0,r.KO)("firebase","11.10.0","app");var i=n(443),o=n(529),a=n(812),s=n(180);const l="@firebase/installations",c="0.6.18",u=1e4,d=`w:${c}`,h="FIS_v2",f=36e5,p={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},m=new o.FA("installations","Installations",p);function g(e){return e instanceof o.g&&e.code.includes("request-failed")}function y(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function v(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function b(e,t){const n=(await t.json()).error;return m.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function w(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function x(e,t){let{refreshToken:n}=t;const r=w(e);return r.append("Authorization",function(e){return`${h} ${e}`}(n)),r}async function S(e){const t=await e();return t.status>=500&&t.status<600?e():t}function k(e){return new Promise(t=>{setTimeout(t,e)})}const E=/^[cdef][\w-]{21}$/;function _(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return E.test(t)?t:""}catch(e){return""}}function T(e){return`${e.appName}!${e.appId}`}const C=new Map;function I(e,t){const n=T(e);R(n,t),function(e,t){const n=j();n&&n.postMessage({key:e,fid:t});P()}(n,t)}function R(e,t){const n=C.get(e);if(n)for(const r of n)r(t)}let A=null;function j(){return!A&&"BroadcastChannel"in self&&(A=new BroadcastChannel("[Firebase] FID Change"),A.onmessage=e=>{R(e.data.key,e.data.fid)}),A}function P(){0===C.size&&A&&(A.close(),A=null)}const N="firebase-installations-store";let O=null;function D(){return O||(O=(0,s.P2)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(N)}})),O}async function L(e,t){const n=T(e),r=(await D()).transaction(N,"readwrite"),i=r.objectStore(N),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||I(e,t.fid),t}async function M(e){const t=T(e),n=(await D()).transaction(N,"readwrite");await n.objectStore(N).delete(t),await n.done}async function z(e,t){const n=T(e),r=(await D()).transaction(N,"readwrite"),i=r.objectStore(N),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||I(e,a.fid),a}async function F(e){let t;const n=await z(e.appConfig,n=>{const r=function(e){const t=e||{fid:_(),registrationStatus:0};return V(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(m.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=y(n),a=w(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:h,appId:n.appId,sdkVersion:d},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await S(()=>fetch(o,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:v(e.authToken)}}throw await b("Create Installation",u)}(e,t);return L(e.appConfig,n)}catch(n){throw g(n)&&409===n.customData.serverCode?await M(e.appConfig):await L(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:U(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function U(e){let t=await B(e.appConfig);for(;1===t.registrationStatus;)await k(100),t=await B(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await F(e);return n||t}return t}function B(e){return z(e,e=>{if(!e)throw m.create("installation-not-found");return V(e)})}function V(e){return 1===(t=e).registrationStatus&&t.registrationTime+u<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function $(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${y(e)}/${n}/authTokens:generate`}(n,t),o=x(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:d,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(s)},c=await S(()=>fetch(i,l));if(c.ok){return v(await c.json())}throw await b("Generate Auth Token",c)}async function W(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await z(e.appConfig,r=>{if(!q(r))throw m.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+f}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await H(e.appConfig);for(;1===n.authToken.requestStatus;)await k(100),n=await H(e.appConfig);const r=n.authToken;return 0===r.requestStatus?W(e,t):r}(e,n),r;{if(!navigator.onLine)throw m.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await $(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await L(e.appConfig,r),n}catch(n){if(!g(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await L(e.appConfig,n)}else await M(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function H(e){return z(e,e=>{if(!q(e))throw m.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+u<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function q(e){return void 0!==e&&2===e.registrationStatus}async function K(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await F(e);t&&await t}(n);return(await W(n,t)).token}function G(e){return m.create("missing-app-config-values",{valueName:e})}const Q="installations",Y=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw G("App Configuration");if(!e.name)throw G("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw G(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,r.j6)(t,"heartbeat"),_delete:()=>Promise.resolve()}},J=e=>{const t=e.getProvider("app").getImmediate(),n=(0,r.j6)(t,Q).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await F(t);return r?r.catch(console.error):W(t).catch(console.error),n.fid}(n),getToken:e=>K(n,e)}};(0,r.om)(new a.uA(Q,Y,"PUBLIC")),(0,r.om)(new a.uA("installations-internal",J,"PRIVATE")),(0,r.KO)(l,c),(0,r.KO)(l,c,"esm2017");const X="analytics",Z="https://www.googletagmanager.com/gtag/js",ee=new i.Vy("@firebase/analytics"),te={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ne=new o.FA("analytics","Analytics",te);function re(e){if(!e.startsWith(Z)){const t=ne.create("invalid-gtag-resource",{gtagURL:e});return ee.warn(t.message),""}return e}function ie(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function oe(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:re}),r=document.createElement("script"),i=`${Z}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function ae(e,t,n,r){return async function(i){try{for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await ie(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){ee.error(o)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=a;await async function(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const e=(await ie(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(s){ee.error(s)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(l){ee.error(l)}}}const se=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function le(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw ne.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw ne.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new de;return setTimeout(async()=>{s.abort()},void 0!==n?n:6e4),ue({appId:r,apiKey:i,measurementId:o},a,s,t)}async function ue(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:se;var s;const{appId:l,measurementId:c}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(ne.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(u){if(c)return ee.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null===u||void 0===u?void 0:u.message}]`),{appId:l,measurementId:c};throw u}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:le(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(o,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw ne.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return a.deleteThrottleMetadata(l),t}catch(u){const t=u;if(!function(e){if(!(e instanceof o.g)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(a.deleteThrottleMetadata(l),c)return ee.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null===t||void 0===t?void 0:t.message}]`),{appId:l,measurementId:c};throw u}const r=503===Number(null===(s=null===t||void 0===t?void 0:t.customData)||void 0===s?void 0:s.httpStatus)?(0,o.p9)(i,a.intervalMillis,30):(0,o.p9)(i,a.intervalMillis),d={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return a.setThrottleMetadata(l,d),ee.debug(`Calling attemptFetch again in ${r} millis`),ue(e,d,n,a)}}class de{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let he,fe;function pe(e){fe=e}function me(e){he=e}async function ge(e,t,n,r,i,a,s){var l;const c=ce(e);c.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&ee.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>ee.error(e)),t.push(c);const u=async function(){if(!(0,o.zW)())return ee.warn(ne.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,o.eX)()}catch(e){return ee.warn(ne.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[d,h]=await Promise.all([c,u]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Z)&&n.src.includes(e))return n;return null})(a)||oe(a,d.measurementId),fe&&(i("consent","default",fe),pe(void 0)),i("js",new Date);const f=null!==(l=null===s||void 0===s?void 0:s.config)&&void 0!==l?l:{};return f.origin="firebase",f.update=!0,null!=h&&(f.firebase_id=h),i("config",d.measurementId,f),he&&(i("set",he),me(void 0)),d.measurementId}class ye{constructor(e){this.app=e}_delete(){return delete ve[this.app.options.appId],Promise.resolve()}}let ve={},be=[];const we={};let xe,Se,ke="dataLayer",Ee="gtag",_e=!1;function Te(e,t,n){!function(){const e=[];if((0,o.sr)()&&e.push("This is a browser extension environment."),(0,o.dM)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=ne.create("invalid-analytics-context",{errorInfo:t});ee.warn(n.message)}}();const r=e.options.appId;if(!r)throw ne.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ne.create("no-api-key");ee.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ve[r])throw ne.create("already-exists",{id:r});if(!_e){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ke);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=ae(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(ve,be,we,ke,Ee);Se=e,xe=t,_e=!0}ve[r]=ge(e,be,we,t,xe,ke,n);return new ye(e)}function Ce(e,t,n,r){e=(0,o.Ku)(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Se,ve[e.app.options.appId],t,n,r).catch(e=>ee.error(e))}const Ie="@firebase/analytics",Re="0.10.17";(0,r.om)(new a.uA(X,(e,t)=>{let{options:n}=t;return Te(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),(0,r.om)(new a.uA("analytics-internal",function(e){try{const t=e.getProvider(X).getImmediate();return{logEvent:(e,n,r)=>Ce(t,e,n,r)}}catch(t){throw ne.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,r.KO)(Ie,Re),(0,r.KO)(Ie,Re,"esm2017");var Ae=n(898),je=n(472),Pe=n(147);const Ne=(0,r.Wp)({apiKey:"AIzaSyDg7gBQunyj3VWb4J9Kz9kAARguTbymo7I",authDomain:"home-ac80e.firebaseapp.com",projectId:"home-ac80e",storageBucket:"home-ac80e.firebasestorage.app",messagingSenderId:"698082465788",appId:"1:698082465788:web:0a9f2b8ae8097e3d324479",measurementId:"G-MLVZT716T1"}),Oe=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();e=(0,o.Ku)(e);const t=(0,r.j6)(e,X);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,r.j6)(e,X);if(n.isInitialized()){const e=n.getImmediate();if((0,o.bD)(t,n.getOptions()))return e;throw ne.create("already-initialized")}const i=n.initialize({options:t})}(e)}(Ne),(0,Ae.xI)(Ne)),De=(0,je.aU)(Ne),Le=(0,Pe.c7)(Ne)},257:(e,t)=>{t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},272:(e,t)=>{t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&"undefined"!==typeof e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!==typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(r){return n}}},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function E(e,t,r,i,o,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(){}function R(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return R((u=e._init)(e._payload),t,i,o,a)}}if(u)return a=a(e),u=""===o?"."+C(e,0):o,x(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),R(a,t,i,"",function(e){return e})):null!=a&&(_(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=E(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===o?".":o+":";if(x(e))for(var m=0;m<e.length;m++)u+=R(o=e[m],t,i,s=p+C(o,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=R(o=o.value,t,i,s=p+C(o,m++),a);else if("object"===s){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",function(e){return t.call(n,e,i++)}),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function N(){}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return E(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return E(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(N,P)}catch(o){P(o)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.0"},293:(e,t)=>{function n(e){if("number"===typeof e&&(e=e.toString()),"string"!==typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t="undefined"===typeof e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){const r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){const i=n.modules.size,o=n.modules.data,a=t.getScale(i,r),s=Math.floor((i+2*r.margin)*a),l=r.margin*a,c=[r.color.light,r.color.dark];for(let t=0;t<s;t++)for(let n=0;n<s;n++){let u=4*(t*s+n),d=r.color.light;if(t>=l&&n>=l&&t<s-l&&n<s-l){d=c[o[Math.floor((t-l)/a)*i+Math.floor((n-l)/a)]?1:0]}e[u++]=d.r,e[u++]=d.g,e[u++]=d.b,e[u]=d.a}}},312:(e,t,n)=>{const r=n(166);t.mul=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)n[i+o]^=r.mul(e[i],t[o]);return n},t.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const e=n[0];for(let o=0;o<t.length;o++)n[o]^=r.mul(t[o],e);let i=0;for(;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},t.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let i=0;i<e;i++)n=t.mul(n,new Uint8Array([1,r.exp(i)]));return n}},347:e=>{"use strict";var t={single_source_shortest_paths:function(e,n,r){var i={},o={};o[n]=0;var a,s,l,c,u,d,h,f=t.PriorityQueue.make();for(f.push(n,0);!f.empty();)for(l in s=(a=f.pop()).value,c=a.cost,u=e[s]||{})u.hasOwnProperty(l)&&(d=c+u[l],h=o[l],("undefined"===typeof o[l]||h>d)&&(o[l]=d,f.push(l,d),i[l]=s));if("undefined"!==typeof r&&"undefined"===typeof o[r]){var p=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,n,r){var i=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,i={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i.queue=[],i.sorter=e.sorter||r.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},350:(e,t,n)=>{const r=n(969),i=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){const n=e.bit<<3|t;let o=n<<10;for(;r.getBCHDigit(o)-i>=0;)o^=1335<<r.getBCHDigit(o)-i;return 21522^(n<<10|o)}},382:(e,t,n)=>{const r=n(969).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,n=r(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),o=[n-7];for(let r=1;r<t-1;r++)o[r]=o[r-1]-i;return o.push(6),o.reverse()},t.getPositions=function(e){const n=[],r=t.getRowColCoords(e),i=r.length;for(let t=0;t<i;t++)for(let e=0;e<i;e++)0===t&&0===e||0===t&&e===i-1||t===i-1&&0===e||n.push([r[t],r[e]]);return n}},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},421:(e,t,n)=>{const r=n(257),i=n(511);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!==typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(r){return n}}},443:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,s={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=s[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},472:(e,t,n)=>{"use strict";n.d(t,{gS:()=>cc,C3:()=>mc,hq:()=>pc,rJ:()=>Xs,H9:()=>Zs,GG:()=>ac,aU:()=>ol,aQ:()=>uc,My:()=>Gl,P:()=>Wl,O5:()=>fc,BN:()=>sc,mZ:()=>lc});var r,i,o=n(52),a=n(812),s=n(443),l=n(529),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function o(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function s(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new o([0|e],0>e?-1:0)}):new o([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return m(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}var c=s(0),d=s(1),h=s(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function m(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(d)}function g(e,t){return e.add(m(t))}function y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function v(e,t){this.g=e,this.h=t}function b(e,t){if(f(t))throw Error("division by zero");if(f(e))return new v(c,c);if(p(e))return t=b(m(e),t),new v(m(t.g),m(t.h));if(p(t))return t=b(e,m(t)),new v(m(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=d,r=t;0>=r.l(e);)n=w(n),r=w(r);var i=x(n,1),o=x(r,1);for(r=x(r,2),n=x(n,2);!f(r);){var a=o.add(r);0>=a.l(e)&&(i=i.add(n),o=a),r=x(r,1),n=x(n,1)}return t=g(e,i.j(t)),new v(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=l(n)).j(t);p(a)||0<a.l(e);)a=(o=l(n-=r)).j(t);f(o)&&(o=d),i=i.add(o),e=g(e,a)}return new v(i,e)}function w(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function x(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}(e=o.prototype).m=function(){if(p(this))return-m(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+m(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=b(n,t).g,o=((0<(n=g(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?m(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.i(i))+(65535&e.i(i)),s=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new o(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return c;if(p(this))return p(e)?m(this).j(m(e)):m(m(this).j(e));if(p(e))return m(this.j(m(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.i(r)>>>16,s=65535&this.i(r),u=e.i(i)>>>16,d=65535&e.i(i);n[2*r+2*i]+=s*d,y(n,2*r+2*i),n[2*r+2*i+1]+=a*d,y(n,2*r+2*i+1),n[2*r+2*i+1]+=s*u,y(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,y(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new o(n,0)},e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,i=u.Md5=t,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=c,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=l(Math.pow(n,a)),i=i.j(a).add(l(s))):i=(i=i.j(r)).add(l(s))}return i},r=u.Integer=o}).apply("undefined"!==typeof c?c:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var d,h,f,p,m,g,y,v,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function x(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function S(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function k(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function E(e){return/^[\s\xa0]*$/.test(e)}function _(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function T(e){return T[" "](e),e}T[" "]=function(){};var C=-1!=_().indexOf("Gecko")&&!(-1!=_().toLowerCase().indexOf("webkit")&&-1==_().indexOf("Edge"))&&!(-1!=_().indexOf("Trident")||-1!=_().indexOf("MSIE"))&&-1==_().indexOf("Edge");function I(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<A.length;t++)n=A[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function P(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function N(e){i.setTimeout(()=>{throw e},0)}function O(){var e=F;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var D=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new L,e=>e.reset());class L{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let M,z=!1,F=new class{constructor(){this.h=this.g=null}add(e,t){const n=D.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},U=()=>{const e=i.Promise.resolve(void 0);M=()=>{e.then(B)}};var B=()=>{for(var e;e=O();){try{e.h.call(e.g)}catch(n){N(n)}var t=D;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}z=!1};function V(){this.s=this.s,this.C=this.C}function $(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},$.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function H(e,t){if($.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(C){e:{try{T(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&H.aa.h.call(this)}}x(H,$);var q={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),G=0;function Q(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++G,this.da=this.fa=!1}function Y(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function J(e){this.src=e,this.g={},this.h=0}function X(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Y(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Z(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}J.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Z(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Q(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function ne(e,t,n,r,i){if(r&&r.once)return ie(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ne(e,t[o],n,r,i);return null}return n=de(n),e&&e[K]?e.K(t,n,a(r)?!!r.capture:!!r,i):re(e,t,n,!1,r,i)}function re(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=ce(e);if(l||(e[ee]=l=new J(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=le;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)W||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(se(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ie(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ie(e,t[o],n,r,i);return null}return n=de(n),e&&e[K]?e.L(t,n,a(r)?!!r.capture:!!r,i):re(e,t,n,!0,r,i)}function oe(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)oe(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=de(n),e&&e[K]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Z(o=e.g[t],n,r,i))&&(Y(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Z(t,n,r,i)),(n=-1<e?t[e]:null)&&ae(n))}function ae(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[K])X(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(se(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ce(t))?(X(n,e),0==n.h&&(n.src=null,t[ee]=null)):Y(e)}}}function se(e){return e in te?te[e]:te[e]="on"+e}function le(e,t){if(e.da)e=!0;else{t=new H(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ae(e),e=n.call(r,t)}return e}function ce(e){return(e=e[ee])instanceof J?e:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(e){return"function"===typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function he(){V.call(this),this.i=new J(this),this.M=this,this.F=null}function fe(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new $(t,e);else if(t instanceof $)t.target=t.target||e;else{var i=t;j(t=new $(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=pe(a,r,!0,t)&&i}if(i=pe(a=t.g=e,r,!0,t)&&i,i=pe(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=pe(a=t.g=n[o],r,!1,t)&&i}function pe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&X(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function me(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ge(e){e.g=me(()=>{e.g=null,e.i&&(e.i=!1,ge(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}x(he,V),he.prototype[K]=!0,he.prototype.removeEventListener=function(e,t,n,r){oe(this,e,t,n,r)},he.prototype.N=function(){if(he.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Y(n[r]);delete t.g[e],t.h--}}this.F=null},he.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},he.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ye extends V{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ve(e){V.call(this),this.h=e,this.g={}}x(ve,V);var be=[];function we(e){I(e.g,function(e,t){this.g.hasOwnProperty(t)&&ae(e)},e),e.g={}}ve.prototype.N=function(){ve.aa.N.call(this),we(this)},ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=i.JSON.stringify,Se=i.JSON.parse,ke=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Ee(){}function _e(e){return e.h||(e.h=e.i())}function Te(){}Ee.prototype.h=null;var Ce={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ie(){$.call(this,"d")}function Re(){$.call(this,"c")}x(Ie,$),x(Re,$);var Ae={},je=null;function Pe(){return je=je||new he}function Ne(e){$.call(this,Ae.La,e)}function Oe(e){const t=Pe();fe(t,new Ne(t))}function De(e,t){$.call(this,Ae.STAT_EVENT,e),this.stat=t}function Le(e){const t=Pe();fe(t,new De(t,e))}function Me(e,t){$.call(this,Ae.Ma,e),this.size=t}function ze(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Fe(){this.g=!0}function Ue(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return xe(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}Ae.La="serverreachability",x(Ne,$),Ae.STAT_EVENT="statevent",x(De,$),Ae.Ma="timingevent",x(Me,$),Fe.prototype.xa=function(){this.g=!1},Fe.prototype.info=function(){};var Be,Ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function We(){}function He(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ve(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}x(We,Ee),We.prototype.g=function(){return new XMLHttpRequest},We.prototype.i=function(){return{}},Be=new We;var Ke={},Ge={};function Qe(e,t,n){e.L=1,e.v=xt(gt(t)),e.m=n,e.P=!0,Ye(e,null)}function Ye(e,t){e.F=Date.now(),Ze(e),e.A=gt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Dt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new qe,e.g=kn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ye(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(be[0]=i.toString()),i=be);for(var o=0;o<i.length;o++){var a=ne(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?R(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Oe(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Je(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Xe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ge:(n=Number(t.substring(n,r)),isNaN(n)?Ke:(r+=1)+n>t.length?Ge:(t=t.slice(r,r+n),e.C=r+n,t))}function Ze(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ze(c(e.ba,e),t)}function tt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function nt(e){0==e.j.G||e.J||vn(e.j,e)}function rt(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,we(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ct(n.h,e)))if(!e.K&&ct(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yn(n),sn(n)}pn(n),Le(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=ze(c(n.Za,n),6e3));if(1>=lt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else wn(n,11)}else if((e.K||n.g==e)&&yn(n),!E(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ut(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,wt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=Sn(r,r.J?r.ia:null,r.W),a.K){dt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(tt(s),Ze(s)),r.g=a}else fn(r);0<n.i.length&&cn(n)}else"stop"!=c[0]&&"close"!=c[0]||wn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wn(n,7):an(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Oe()}catch(u){}}He.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==tn(e)?t.j():this.Y(e)},He.prototype.Y=function(e){try{if(e==this.g)e:{const h=tn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=h||7==t||Oe(),tt(this);var n=this.g.Z();this.X=n;t:if(Je(this)){var r=nn(this.g);e="";var o=r.length,a=4==tn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rt(this),nt(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Le(12),rt(this),nt(this);break e}Ue(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Xe(this,s),e==Ge){4==h&&(this.s=4,Le(14),n=!1),Ue(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ke){this.s=4,Le(15),Ue(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ue(this.i,this.l,e,null),it(this,e)}if(Je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Le(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),mn(d),d.M=!0,Le(11))}}else Ue(this.i,this.l,s,"[Invalid Chunked Response]"),rt(this),nt(this)}else Ue(this.i,this.l,s,null),it(this,s);4==h&&rt(this),this.o&&!this.J&&(4==h?vn(this.j,this):(this.o=!1,Ze(this)))}else(function(e){const t={};e=(e.g&&2<=tn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(E(e[r]))continue;var n=P(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),rt(this),nt(this)}}}catch(h){}},He.prototype.cancel=function(){this.J=!0,rt(this)},He.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Oe(),Le(17)),rt(this),this.s=2,nt(this)):et(this,this.S-e)};var ot=class{constructor(e,t){this.g=e,this.map=t}};function at(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function st(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lt(e){return e.h?1:e.g?e.g.size:0}function ct(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ut(e,t){e.g?e.g.add(t):e.h=t}function dt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ht(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return S(e.i)}function ft(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}at.prototype.cancel=function(){if(this.i=ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof mt){this.h=e.h,yt(this,e.j),this.o=e.o,this.g=e.g,vt(this,e.s),this.l=e.l;var t=e.i,n=new jt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),bt(this,n),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,yt(this,t[1]||"",!0),this.o=St(t[2]||""),this.g=St(t[3]||"",!0),vt(this,t[4]),this.l=St(t[5]||"",!0),bt(this,t[6]||"",!0),this.m=St(t[7]||"")):(this.h=!1,this.i=new jt(null,this.h))}function gt(e){return new mt(e)}function yt(e,t,n){e.j=n?St(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function bt(e,t,n){t instanceof jt?(e.i=t,function(e,t){t&&!e.j&&(Pt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Nt(this,t),Dt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=kt(t,Rt)),e.i=new jt(t,e.h))}function wt(e,t,n){e.i.set(t,n)}function xt(e){return wt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function St(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Et),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Et(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(kt(t,Tt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(kt(t,Tt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(kt(n,"/"==n.charAt(0)?It:Ct,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",kt(n,At)),e.join("")};var _t,Tt=/[#\/\?@]/g,Ct=/[#\?:]/g,It=/[#\?]/g,Rt=/[#\?@]/g,At=/#/g;function jt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Nt(e,t){Pt(e),t=Lt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ot(e,t){return Pt(e),t=Lt(e,t),e.g.has(t)}function Dt(e,t,n){Nt(e,t),0<n.length&&(e.i=null,e.g.set(Lt(e,t),S(n)),e.h+=n.length)}function Lt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Mt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function zt(){this.g=new ke}function Ft(e,t,n){const r=n||"";try{ft(e,function(e,n){let i=e;a(e)&&(i=xe(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ut(e){this.l=e.Ub||null,this.j=e.eb||!1}function Bt(e,t){he.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Vt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function $t(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Wt(e)}function Wt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ht(e){let t="";return I(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function qt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ht(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wt(e,t,n))}function Kt(e){he.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=jt.prototype).add=function(e,t){Pt(this),this.i=null,e=Lt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Pt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Pt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Pt(this);let t=[];if("string"===typeof e)Ot(this,e)&&(t=t.concat(this.g.get(Lt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Pt(this),this.i=null,Ot(this,e=Lt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},x(Ut,Ee),Ut.prototype.g=function(){return new Bt(this.l,this.j)},Ut.prototype.i=(_t={},function(){return _t}),x(Bt,he),(e=Bt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Wt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$t(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Wt(this)),this.g&&(this.readyState=3,Wt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?$t(this):Wt(this),3==this.readyState&&Vt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,$t(this))},e.Qa=function(e){this.g&&(this.response=e,$t(this))},e.ga=function(){this.g&&$t(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),x(Kt,he);var Gt=/^https?$/i,Qt=["POST","PUT"];function Yt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Jt(e),Zt(e)}function Jt(e){e.A||(e.A=!0,fe(e,"complete"),fe(e,"error"))}function Xt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=tn(e)||2!=e.Z()))if(e.u&&4==tn(e))me(e.Ea,0,e);else if(fe(e,"readystatechange"),4==tn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(pt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Gt.test(a?a.toLowerCase():"")}n=o}if(n)fe(e,"complete"),fe(e,"success");else{e.m=6;try{var s=2<tn(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Jt(e)}}finally{Zt(e)}}}function Zt(e,t){if(e.g){en(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||fe(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function en(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function tn(e){return e.g?e.g.readyState:0}function nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function on(e){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,e),this.cb=rn("retryDelaySeedMs",1e4,e),this.Wa=rn("forwardChannelMaxRetries",2,e),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new at(e&&e.concurrentRequestLimit),this.Da=new zt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function an(e){if(ln(e),3==e.G){var t=e.U++,n=gt(e.I);if(wt(n,"SID",e.K),wt(n,"RID",t),wt(n,"TYPE","terminate"),dn(e,n),(t=new He(e,e.j,t)).L=2,t.v=xt(gt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=kn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ze(t)}xn(e)}function sn(e){e.g&&(mn(e),e.g.cancel(),e.g=null)}function ln(e){sn(e),e.u&&(i.clearTimeout(e.u),e.u=null),yn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function cn(e){if(!st(e.h)&&!e.s){e.s=!0;var t=e.Ga;M||U(),z||(M(),z=!0),F.add(t,e),e.B=0}}function un(e,t){var n;n=t?t.l:e.U++;const r=gt(e.I);wt(r,"SID",e.K),wt(r,"RID",n),wt(r,"AID",e.T),dn(e,r),e.m&&e.o&&qt(r,e.m,e.o),n=new He(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ut(e.h,n),Qe(n,r,t)}function dn(e,t){e.H&&I(e.H,function(e,n){wt(t,n,e)}),e.l&&ft({},function(e,n){wt(t,n,e)})}function hn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{Ft(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function fn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;M||U(),z||(M(),z=!0),F.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=ze(c(e.Fa,e),bn(e,e.v)),e.v++,!0)}function mn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function gn(e){e.g=new He(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=gt(e.qa);wt(t,"RID","rpc"),wt(t,"SID",e.K),wt(t,"AID",e.T),wt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&wt(t,"TO",e.ja),wt(t,"TYPE","xmlhttp"),dn(e,t),e.m&&e.o&&qt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=xt(gt(t)),n.m=null,n.P=!0,Ye(n,e)}function yn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function vn(e,t){var n=null;if(e.g==t){yn(e),mn(e),e.g=null;var r=2}else{if(!ct(e.h,t))return;n=t.D,dt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;fe(r=Pe(),new Me(r,n)),cn(e)}else fn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(lt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=ze(c(e.Ga,e,t),bn(e,e.B)),e.B++,!0))}(e,t)||2==r&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:wn(e,5);break;case 4:wn(e,10);break;case 3:wn(e,6);break;default:wn(e,2)}}function bn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function wn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new mt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||yt(r,"https"),xt(r),t?function(e,t){const n=new Fe;if(i.Image){const r=new Image;r.onload=u(Mt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Mt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Mt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Mt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Fe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Mt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Mt(0,0,!0,t):Mt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Mt(0,0,!1,t)})}(r.toString(),n)}else Le(2);e.G=0,e.l&&e.l.sa(t),xn(e),ln(e)}function xn(e){if(e.G=0,e.ka=[],e.l){const t=ht(e.h);0==t.length&&0==e.i.length||(k(e.ka,t),k(e.ka,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.ra()}}function Sn(e,t,n){var r=n instanceof mt?gt(n):new mt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),vt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new mt(null);r&&yt(a,r),t&&(a.g=t),o&&vt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&wt(r,n,t),wt(r,"VER",e.la),dn(e,r),r}function kn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Kt(new Ut({eb:n})):new Kt(e.pa)).Ha(e.J),t}function En(){}function _n(){}function Tn(e,t){he.call(this),this.g=new on(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!E(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!E(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Rn(this)}function Cn(e){Ie.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function In(){Re.call(this),this.status=1}function Rn(e){this.g=e}(e=Kt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Be.g(),this.v=this.o?_e(this.o):_e(Be),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Yt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Qt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{en(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Yt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,fe(this,"complete"),fe(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Xt(this):this.bb())},e.bb=function(){Xt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch(_t){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(_t){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Se(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=on.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Le(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Sn(this,null,this.W),cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new He(this,this.j,e);let o=this.o;if(this.S&&(o?(o=R(o),j(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hn(this,i,t),wt(n=gt(this.I),"RID",e),wt(n,"CVER",22),this.D&&wt(n,"X-HTTP-Session-Id",this.D),dn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Ht(o)))+"&"+t:this.m&&qt(n,this.m,o)),ut(this.h,i),this.Ua&&wt(n,"TYPE","init"),this.P?(wt(n,"$req",t),wt(n,"SID","null"),i.T=!0,Qe(i,n,null)):Qe(i,n,t),this.G=2}}else 3==this.G&&(e?un(this,e):0==this.i.length||st(this.h)||un(this))},e.Fa=function(){if(this.u=null,gn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=ze(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),sn(this),gn(this))},e.Za=function(){null!=this.C&&(this.C=null,sn(this),pn(this),Le(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=En.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},_n.prototype.g=function(e,t){return new Tn(e,t)},x(Tn,he),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){an(this.g)},Tn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=xe(e),e=n);t.i.push(new ot(t.Ya++,e)),3==t.G&&cn(t)},Tn.prototype.N=function(){this.g.l=null,delete this.j,an(this.g),delete this.g,Tn.aa.N.call(this)},x(Cn,Ie),x(In,Re),x(Rn,En),Rn.prototype.ua=function(){fe(this.g,"a")},Rn.prototype.ta=function(e){fe(this.g,new Cn(e))},Rn.prototype.sa=function(e){fe(this.g,new In)},Rn.prototype.ra=function(){fe(this.g,"b")},_n.prototype.createWebChannel=_n.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,v=w.createWebChannelTransport=function(){return new _n},y=w.getStatEventTarget=function(){return Pe()},g=w.Event=Ae,m=w.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ve.NO_ERROR=0,Ve.TIMEOUT=8,Ve.HTTP_ERROR=6,p=w.ErrorCode=Ve,$e.COMPLETE="complete",f=w.EventType=$e,Te.EventType=Ce,Ce.OPEN="a",Ce.CLOSE="b",Ce.ERROR="c",Ce.MESSAGE="d",he.prototype.listen=he.prototype.K,h=w.WebChannel=Te,w.FetchXmlHttpFactory=Ut,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,d=w.XhrIo=Kt}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const x="@firebase/firestore",S="4.8.0";class k{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}k.UNAUTHENTICATED=new k(null),k.GOOGLE_CREDENTIALS=new k("google-credentials-uid"),k.FIRST_PARTY=new k("first-party-uid"),k.MOCK_USER=new k("mock-user");let E="11.10.0";const _=new s.Vy("@firebase/firestore");function T(){return _.logLevel}function C(e){if(_.logLevel<=s.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(A);_.debug(`Firestore (${E}): ${e}`,...i)}}function I(e){if(_.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(A);_.error(`Firestore (${E}): ${e}`,...i)}}function R(e){if(_.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(A);_.warn(`Firestore (${E}): ${e}`,...i)}}function A(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function j(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,P(e,r,n)}function P(e,t,n){let r=`FIRESTORE (${E}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw I(r),new Error(r)}function N(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||P(t,i,r)}function O(e,t){return e}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class M{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class z{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(k.UNAUTHENTICATED))}shutdown(){}}class U{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class B{constructor(e){this.t=e,this.currentUser=k.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){N(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new M;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new M,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new M)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(N("string"==typeof t.accessToken,31837,{l:t}),new z(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return N(null===e||"string"==typeof e,2055,{h:e}),new k(e)}}class V{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=k.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ${constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new V(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(k.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,o.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){N(void 0===this.o,3512);const n=e=>{null!=e.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,C("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new W(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(N("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new W(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function q(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function K(){return new TextEncoder}class G{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=q(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Q(e,t){return e<t?-1:e>t?1:0}function Y(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Q(r,i);{const o=K(),a=X(o.encode(J(e,n)),o.encode(J(t,n)));return 0!==a?a:Q(r,i)}}n+=r>65535?2:1}return Q(e.length,t.length)}function J(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function X(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Q(e[n],t[n]);return Q(e.length,t.length)}function Z(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const ee="__name__";class te{constructor(e,t,n){void 0===t?t=0:t>e.length&&j(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&j(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===te.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof te?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=te.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Q(e.length,t.length)}static compareSegments(e,t){const n=te.isNumericId(e),r=te.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?te.extractNumericId(e).compare(te.extractNumericId(t)):Y(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class ne extends te{construct(e,t,n){return new ne(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new L(D.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new ne(e)}static emptyPath(){return new ne([])}}const re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ie extends te{construct(e,t,n){return new ie(e,t,n)}static isValidIdentifier(e){return re.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ie.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ee}static keyField(){return new ie([ee])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new L(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new L(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new L(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new L(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ie(t)}static emptyPath(){return new ie([])}}class oe{constructor(e){this.path=e}static fromPath(e){return new oe(ne.fromString(e))}static fromName(e){return new oe(ne.fromString(e).popFirst(5))}static empty(){return new oe(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ne.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ne.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new ne(e.slice()))}}function ae(e,t,n){if(!n)throw new L(D.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function se(e){if(!oe.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function le(e){if(oe.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ce(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ue(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":j(12329,{type:typeof e})}function de(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ue(e);throw new L(D.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function he(e,t){const n={typeString:e};return t&&(n.value=t),n}function fe(e,t){if(!ce(e))throw new L(D.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==o&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new L(D.INVALID_ARGUMENT,n);return!0}const pe=-62135596800,me=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(e){return ge.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*me);return new ge(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pe)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/me}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fe(e,ge._jsonSchema))return new ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pe;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:he("string",ge._jsonSchemaVersion),seconds:he("number"),nanoseconds:he("number")};class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new ge(0,0))}static max(){return new ye(new ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ve=-1;class be{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}be.UNKNOWN_ID=-1;function we(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(1e9===r?new ge(n+1,0):new ge(n,r));return new Se(i,oe.empty(),t)}function xe(e){return new Se(e.readTime,e.key,ve)}class Se{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Se(ye.min(),oe.empty(),ve)}static max(){return new Se(ye.max(),oe.empty(),ve)}}function ke(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=oe.comparator(e.documentKey,t.documentKey),0!==n?n:Q(e.largestBatchId,t.largestBatchId))}const Ee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Te(e){if(e.code!==D.FAILED_PRECONDITION||e.message!==Ee)throw e;C("LocalStore","Unexpectedly lost primary lease")}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&j(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(e){return Ce.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,n)=>{t(e)})}static reject(e){return new Ce((t,n)=>{n(e)})}static waitFor(e){return new Ce((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Ce.resolve(!1);for(const n of e)t=t.next(e=>e?Ce.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ce((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Ce((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ie(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Re(e){return"IndexedDbTransactionError"===e.name}class Ae{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Ae.ue=-1;const je=-1;function Pe(e){return null==e}function Ne(e){return 0===e&&1/e==-1/0}function Oe(e){return"number"==typeof e&&Number.isInteger(e)&&!Ne(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const De="\x01";function Le(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ze(t)),t=Me(e.get(n),t);return ze(t)}function Me(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case De:n+="\x01\x11";break;default:n+=t}}return n}function ze(e){return e+De+"\x01"}const Fe="remoteDocuments",Ue="owner",Be="mutationQueues",Ve="mutations";const $e="documentMutations",We="remoteDocumentsV14",He="remoteDocumentGlobal",qe="targets",Ke="targetDocuments",Ge="targetGlobal",Qe="collectionParents",Ye="clientMetadata",Je="bundles",Xe="namedQueries",Ze="indexConfiguration",et="indexState",tt="indexEntries",nt="documentOverlays",rt="globals",it=[Be,Ve,$e,Fe,qe,Ue,Ge,Ke,Ye,He,Qe,Je,Xe],ot=[Be,Ve,$e,We,qe,Ue,Ge,Ke,Ye,He,Qe,Je,Xe,nt],at=ot,st=[...at,Ze,et,tt];function lt(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ct(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ut(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class dt{constructor(e,t){this.comparator=e,this.root=t||ft.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ht(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ht(this.root,e,this.comparator,!1)}getReverseIterator(){return new ht(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ht(this.root,e,this.comparator,!0)}}class ht{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ft.RED,this.left=null!=r?r:ft.EMPTY,this.right=null!=i?i:ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ft(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ft.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw j(43730,{key:this.key,value:this.value});if(this.right.isRed())throw j(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw j(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1,ft.EMPTY=new class{constructor(){this.size=0}get key(){throw j(57766)}get value(){throw j(16141)}get color(){throw j(16727)}get left(){throw j(29726)}get right(){throw j(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mt(this.data.getIterator())}getIteratorFrom(e){return new mt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof pt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pt(this.comparator);return t.data=e,t}}class mt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gt{constructor(e){this.fields=e,e.sort(ie.comparator)}static empty(){return new gt([])}unionWith(e){let t=new pt(ie.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new gt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Z(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class yt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new yt("Invalid base64 string: "+e):e}}(e);return new vt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const bt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wt(e){if(N(!!e,39018),"string"==typeof e){let t=0;const n=bt.exec(e);if(N(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:xt(e.seconds),nanos:xt(e.nanos)}}function xt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function St(e){return"string"==typeof e?vt.fromBase64String(e):vt.fromUint8Array(e)}const kt="server_timestamp",Et="__type__",_t="__previous_value__",Tt="__local_write_time__";function Ct(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Et])||void 0===n?void 0:n.stringValue)===kt}function It(e){const t=e.mapValue.fields[_t];return Ct(t)?It(t):t}function Rt(e){const t=wt(e.mapValue.fields[Tt].timestampValue);return new ge(t.seconds,t.nanos)}class At{constructor(e,t,n,r,i,o,a,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const jt="(default)";class Pt{constructor(e,t){this.projectId=e,this.database=t||jt}static empty(){return new Pt("","")}get isDefaultDatabase(){return this.database===jt}isEqual(e){return e instanceof Pt&&e.projectId===this.projectId&&e.database===this.database}}const Nt="__type__",Ot="__max__",Dt={mapValue:{fields:{__type__:{stringValue:Ot}}}},Lt="__vector__",Mt="value";function zt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ct(e)?4:tn(e)?9007199254740991:Zt(e)?10:11:j(28295,{value:e})}function Ft(e,t){if(e===t)return!0;const n=zt(e);if(n!==zt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rt(e).isEqual(Rt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=wt(e.timestampValue),r=wt(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return St(e.bytesValue).isEqual(St(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xt(e.geoPointValue.latitude)===xt(t.geoPointValue.latitude)&&xt(e.geoPointValue.longitude)===xt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xt(e.integerValue)===xt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=xt(e.doubleValue),r=xt(t.doubleValue);return n===r?Ne(n)===Ne(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Z(e.arrayValue.values||[],t.arrayValue.values||[],Ft);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(lt(n)!==lt(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ft(n[i],r[i])))return!1;return!0}(e,t);default:return j(52216,{left:e})}}function Ut(e,t){return void 0!==(e.values||[]).find(e=>Ft(e,t))}function Bt(e,t){if(e===t)return 0;const n=zt(e),r=zt(t);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=xt(e.integerValue||e.doubleValue),r=xt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Vt(e.timestampValue,t.timestampValue);case 4:return Vt(Rt(e),Rt(t));case 5:return Y(e.stringValue,t.stringValue);case 6:return function(e,t){const n=St(e),r=St(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Q(n[i],r[i]);if(0!==e)return e}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Q(xt(e.latitude),xt(t.latitude));return 0!==n?n:Q(xt(e.longitude),xt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return $t(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a[Mt])||void 0===n?void 0:n.arrayValue,c=null===(r=s[Mt])||void 0===r?void 0:r.arrayValue,u=Q((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:$t(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Dt.mapValue&&t===Dt.mapValue)return 0;if(e===Dt.mapValue)return 1;if(t===Dt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Y(r[a],o[a]);if(0!==e)return e;const t=Bt(n[r[a]],i[o[a]]);if(0!==t)return t}return Q(r.length,o.length)}(e.mapValue,t.mapValue);default:throw j(23264,{le:n})}}function Vt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);const n=wt(e),r=wt(t),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function $t(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Bt(n[i],r[i]);if(e)return e}return Q(n.length,r.length)}function Wt(e){return Ht(e)}function Ht(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=wt(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return St(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return oe.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ht(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ht(e.fields[i])}`;return n+"}"}(e.mapValue):j(61005,{value:e})}function qt(e){switch(zt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=It(e);return t?16+qt(t):16;case 5:return 2*e.stringValue.length;case 6:return St(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+qt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ct(e.fields,(e,n)=>{t+=e.length+qt(n)}),t}(e.mapValue);default:throw j(13486,{value:e})}}function Kt(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Gt(e){return!!e&&"integerValue"in e}function Qt(e){return!!e&&"arrayValue"in e}function Yt(e){return!!e&&"nullValue"in e}function Jt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xt(e){return!!e&&"mapValue"in e}function Zt(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Nt])||void 0===n?void 0:n.stringValue)===Lt}function en(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ct(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=en(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=en(e.arrayValue.values[n]);return t}return Object.assign({},e)}function tn(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ot}class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Xt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=en(t)}setAll(e){let t=ie.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=en(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Xt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ft(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Xt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ct(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new nn(en(this.value))}}function rn(e){const t=[];return ct(e.fields,(e,n)=>{const r=new ie([e]);if(Xt(n)){const e=rn(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new gt(t)}class on{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new on(e,0,ye.min(),ye.min(),ye.min(),nn.empty(),0)}static newFoundDocument(e,t,n,r){return new on(e,1,t,ye.min(),n,r,0)}static newNoDocument(e,t){return new on(e,2,t,ye.min(),ye.min(),nn.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,ye.min(),ye.min(),nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class an{constructor(e,t){this.position=e,this.inclusive=t}}function sn(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?oe.comparator(oe.fromName(a.referenceValue),n.key):Bt(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ln(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ft(e.position[n],t.position[n]))return!1;return!0}class cn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function un(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class dn{}class hn extends dn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new wn(e,t,n):"array-contains"===t?new En(e,n):"in"===t?new _n(e,n):"not-in"===t?new Tn(e,n):"array-contains-any"===t?new Cn(e,n):new hn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new xn(e,n):new Sn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Bt(t,this.value)):null!==t&&zt(this.value)===zt(t)&&this.matchesComparison(Bt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return j(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fn extends dn{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new fn(e,t)}matches(e){return pn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function pn(e){return"and"===e.op}function mn(e){return gn(e)&&pn(e)}function gn(e){for(const t of e.filters)if(t instanceof fn)return!1;return!0}function yn(e){if(e instanceof hn)return e.field.canonicalString()+e.op.toString()+Wt(e.value);if(mn(e))return e.filters.map(e=>yn(e)).join(",");{const t=e.filters.map(e=>yn(e)).join(",");return`${e.op}(${t})`}}function vn(e,t){return e instanceof hn?function(e,t){return t instanceof hn&&e.op===t.op&&e.field.isEqual(t.field)&&Ft(e.value,t.value)}(e,t):e instanceof fn?function(e,t){return t instanceof fn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&vn(n,t.filters[r]),!0)}(e,t):void j(19439)}function bn(e){return e instanceof hn?function(e){return`${e.field.canonicalString()} ${e.op} ${Wt(e.value)}`}(e):e instanceof fn?function(e){return e.op.toString()+" {"+e.getFilters().map(bn).join(" ,")+"}"}(e):"Filter"}class wn extends hn{constructor(e,t,n){super(e,t,n),this.key=oe.fromName(n.referenceValue)}matches(e){const t=oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class xn extends hn{constructor(e,t){super(e,"in",t),this.keys=kn("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Sn extends hn{constructor(e,t){super(e,"not-in",t),this.keys=kn("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>oe.fromName(e.referenceValue))}class En extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qt(t)&&Ut(t.arrayValue,this.value)}}class _n extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ut(this.value.arrayValue,t)}}class Tn extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ut(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ut(this.value.arrayValue,t)}}class Cn extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ut(this.value.arrayValue,e))}}class In{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function Rn(e){return new In(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function An(e){const t=O(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>yn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Pe(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Wt(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Wt(e)).join(",")),t.Pe=e}return t.Pe}function jn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!un(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!vn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ln(e.startAt,t.startAt)&&ln(e.endAt,t.endAt)}function Pn(e){return oe.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Nn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function On(e,t,n,r,i,o,a,s){return new Nn(e,t,n,r,i,o,a,s)}function Dn(e){return new Nn(e)}function Ln(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Mn(e){return null!==e.collectionGroup}function zn(e){const t=O(e);if(null===t.Te){t.Te=[];const e=new Set;for(const i of t.explicitOrderBy)t.Te.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new pt(ie.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new cn(r,n))}),e.has(ie.keyField().canonicalString())||t.Te.push(new cn(ie.keyField(),n))}return t.Te}function Fn(e){const t=O(e);return t.Ie||(t.Ie=Un(t,zn(e))),t.Ie}function Un(e,t){if("F"===e.limitType)return Rn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new cn(e.field,t)});const n=e.endAt?new an(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new an(e.startAt.position,e.startAt.inclusive):null;return Rn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Bn(e,t){const n=e.filters.concat([t]);return new Nn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Vn(e,t,n){return new Nn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $n(e,t){return jn(Fn(e),Fn(t))&&e.limitType===t.limitType}function Wn(e){return`${An(Fn(e))}|lt:${e.limitType}`}function Hn(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>bn(e)).join(", ")}]`),Pe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Wt(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Wt(e)).join(",")),`Target(${t})`}(Fn(e))}; limitType=${e.limitType})`}function qn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oe.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of zn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=sn(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,zn(e),t))&&!(e.endAt&&!function(e,t,n){const r=sn(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,zn(e),t))}(e,t)}function Kn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Gn(e){return(t,n)=>{let r=!1;for(const i of zn(e)){const e=Qn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Qn(e,t,n){const r=e.field.isKeyField()?oe.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bt(r,i):j(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return j(19790,{direction:e.dir})}}class Yn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ct(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ut(this.inner)}size(){return this.innerSize}}const Jn=new dt(oe.comparator);function Xn(){return Jn}const Zn=new dt(oe.comparator);function er(){let e=Zn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function tr(e){let t=Zn;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function nr(){return ir()}function rr(){return ir()}function ir(){return new Yn(e=>e.toString(),(e,t)=>e.isEqual(t))}const or=new dt(oe.comparator),ar=new pt(oe.comparator);function sr(){let e=ar;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const lr=new pt(Q);function cr(){return lr}function ur(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ne(t)?"-0":t}}function dr(e){return{integerValue:""+e}}function hr(e,t){return Oe(t)?dr(t):ur(e,t)}class fr{constructor(){this._=void 0}}function pr(e,t,n){return e instanceof yr?function(e,t){const n={fields:{[Et]:{stringValue:kt},[Tt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ct(t)&&(t=It(t)),t&&(n.fields[_t]=t),{mapValue:n}}(n,t):e instanceof vr?br(e,t):e instanceof wr?xr(e,t):function(e,t){const n=gr(e,t),r=kr(n)+kr(e.Ee);return Gt(n)&&Gt(e.Ee)?dr(r):ur(e.serializer,r)}(e,t)}function mr(e,t,n){return e instanceof vr?br(e,t):e instanceof wr?xr(e,t):n}function gr(e,t){return e instanceof Sr?function(e){return Gt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class yr extends fr{}class vr extends fr{constructor(e){super(),this.elements=e}}function br(e,t){const n=Er(t);for(const r of e.elements)n.some(e=>Ft(e,r))||n.push(r);return{arrayValue:{values:n}}}class wr extends fr{constructor(e){super(),this.elements=e}}function xr(e,t){let n=Er(t);for(const r of e.elements)n=n.filter(e=>!Ft(e,r));return{arrayValue:{values:n}}}class Sr extends fr{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function kr(e){return xt(e.integerValue||e.doubleValue)}function Er(e){return Qt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class _r{constructor(e,t){this.field=e,this.transform=t}}class Tr{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ir(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Rr{}function Ar(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ur(e.key,Cr.none()):new Dr(e.key,e.data,Cr.none());{const n=e.data,r=nn.empty();let i=new pt(ie.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Lr(e.key,r,new gt(i.toArray()),Cr.none())}}function jr(e,t,n){e instanceof Dr?function(e,t,n){const r=e.value.clone(),i=zr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lr?function(e,t,n){if(!Ir(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=zr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Mr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Pr(e,t,n,r){return e instanceof Dr?function(e,t,n,r){if(!Ir(e.precondition,t))return n;const i=e.value.clone(),o=Fr(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Lr?function(e,t,n,r){if(!Ir(e.precondition,t))return n;const i=Fr(e.fieldTransforms,r,t),o=t.data;return o.setAll(Mr(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Ir(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Nr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=gr(r.transform,e||null);null!=i&&(null===n&&(n=nn.empty()),n.set(r.field,i))}return n||null}function Or(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Z(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vr&&t instanceof vr||e instanceof wr&&t instanceof wr?Z(e.elements,t.elements,Ft):e instanceof Sr&&t instanceof Sr?Ft(e.Ee,t.Ee):e instanceof yr&&t instanceof yr}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Dr extends Rr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Lr extends Rr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Mr(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function zr(e,t,n){const r=new Map;N(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,mr(a,s,n[i]))}return r}function Fr(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,pr(e,o,t))}return r}class Ur extends Rr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Br extends Rr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&jr(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Pr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Pr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=rr();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Ar(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(ye.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sr())}isEqual(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations,(e,t)=>Or(e,t))&&Z(this.baseMutations,e.baseMutations,(e,t)=>Or(e,t))}}class $r{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){N(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=or;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new $r(e,t,n,r)}}class Wr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hr{constructor(e,t){this.count=e,this.unchangedNames=t}}var qr,Kr;function Gr(e){switch(e){case D.OK:return j(64938);case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return j(15467,{code:e})}}function Qr(e){if(void 0===e)return I("GRPC error has no .code"),D.UNKNOWN;switch(e){case qr.OK:return D.OK;case qr.CANCELLED:return D.CANCELLED;case qr.UNKNOWN:return D.UNKNOWN;case qr.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case qr.INTERNAL:return D.INTERNAL;case qr.UNAVAILABLE:return D.UNAVAILABLE;case qr.UNAUTHENTICATED:return D.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case qr.NOT_FOUND:return D.NOT_FOUND;case qr.ALREADY_EXISTS:return D.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return D.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case qr.ABORTED:return D.ABORTED;case qr.OUT_OF_RANGE:return D.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return D.UNIMPLEMENTED;case qr.DATA_LOSS:return D.DATA_LOSS;default:return j(39323,{code:e})}}(Kr=qr||(qr={}))[Kr.OK=0]="OK",Kr[Kr.CANCELLED=1]="CANCELLED",Kr[Kr.UNKNOWN=2]="UNKNOWN",Kr[Kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kr[Kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kr[Kr.NOT_FOUND=5]="NOT_FOUND",Kr[Kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kr[Kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kr[Kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kr[Kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kr[Kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kr[Kr.ABORTED=10]="ABORTED",Kr[Kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kr[Kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kr[Kr.INTERNAL=13]="INTERNAL",Kr[Kr.UNAVAILABLE=14]="UNAVAILABLE",Kr[Kr.DATA_LOSS=15]="DATA_LOSS";let Yr=null;const Jr=new r([4294967295,4294967295],0);function Xr(e){const t=K().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function Zr(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new r([n,i],0),new r([o,a],0)]}class ei{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ti(`Invalid padding: ${t}`);if(n<0)throw new ti(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new ti(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new ti(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=r.fromNumber(this.fe)}pe(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(Jr)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=Xr(e),[n,r]=Zr(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ei(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.fe)return;const t=Xr(e),[n,r]=Zr(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ti extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ni{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ri.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ni(ye.min(),r,new dt(Q),Xn(),sr())}}class ri{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ri(n,t,sr(),sr(),sr())}}class ii{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class oi{constructor(e,t){this.targetId=e,this.De=t}}class ai{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vt.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class si{constructor(){this.ve=0,this.Ce=ui(),this.Fe=vt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=sr(),t=sr(),n=sr();return this.Ce.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:j(38017,{changeType:i})}}),new ri(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=ui()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,N(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class li{constructor(e){this.We=e,this.Ge=new Map,this.ze=Xn(),this.je=ci(),this.Je=ci(),this.He=new dt(Q)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:j(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const i=r.target;if(Pn(i))if(0===n){const e=new oe(i.path);this.Xe(t,e,on.newNoDocument(e,ye.min()))}else N(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),i=n?this.ut(n,e,r):1;if(0!==i){this.rt(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==Yr||Yr.ct(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.De,this.We.lt(),n,i))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=St(n).toUint8Array()}catch(e){if(e instanceof yt)return R("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ei(o,r,i)}catch(e){return R(e instanceof ti?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.fe?null:a}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.We.lt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const i=this.st(r);if(i){if(n.current&&Pn(i.target)){const t=new oe(i.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,on.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=sr();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new ni(e,t,this.He,this.ze,n);return this.ze=Xn(),this.je=ci(),this.Je=ci(),this.He=new dt(Q),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new si,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new pt(Q),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new pt(Q),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||C("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new si),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function ci(){return new dt(oe.comparator)}function ui(){return new dt(oe.comparator)}const di={asc:"ASCENDING",desc:"DESCENDING"},hi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fi={and:"AND",or:"OR"};class pi{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mi(e,t){return e.useProto3Json||Pe(t)?t:{value:t}}function gi(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yi(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vi(e,t){return gi(e,t.toTimestamp())}function bi(e){return N(!!e,49232),ye.fromTimestamp(function(e){const t=wt(e);return new ge(t.seconds,t.nanos)}(e))}function wi(e,t){return xi(e,t).canonicalString()}function xi(e,t){const n=function(e){return new ne(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Si(e){const t=ne.fromString(e);return N(Vi(t),10190,{key:t.toString()}),t}function ki(e,t){return wi(e.databaseId,t.path)}function Ei(e,t){const n=Si(t);if(n.get(1)!==e.databaseId.projectId)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oe(Ii(n))}function _i(e,t){return wi(e.databaseId,t)}function Ti(e){const t=Si(e);return 4===t.length?ne.emptyPath():Ii(t)}function Ci(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ii(e){return N(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ri(e,t,n){return{name:ki(e,t),fields:n.value.mapValue.fields}}function Ai(e,t){let n;if(t instanceof Dr)n={update:Ri(e,t.key,t.value)};else if(t instanceof Ur)n={delete:ki(e,t.key)};else if(t instanceof Lr)n={update:Ri(e,t.key,t.data),updateMask:Bi(t.fieldMask)};else{if(!(t instanceof Br))return j(16599,{Rt:t.type});n={verify:ki(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof yr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sr)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw j(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:j(27497)}(e,t.precondition)),n}function ji(e,t){return{documents:[_i(e,t.path)]}}function Pi(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_i(e,i);const o=function(e){if(0!==e.length)return Ui(fn.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:zi(e.field),direction:Di(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=mi(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:i}}function Ni(e){let t=Ti(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){N(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Oi(e);return t instanceof fn&&mn(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new cn(Fi(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Pe(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new an(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new an(n,t)}(n.endAt)),On(t,i,a,o,s,"F",l,c)}function Oi(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Fi(e.unaryFilter.field);return hn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Fi(e.unaryFilter.field);return hn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Fi(e.unaryFilter.field);return hn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Fi(e.unaryFilter.field);return hn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return j(61313);default:return j(60726)}}(e):void 0!==e.fieldFilter?function(e){return hn.create(Fi(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return j(58110);default:return j(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return fn.create(e.compositeFilter.filters.map(e=>Oi(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return j(1026)}}(e.compositeFilter.op))}(e):j(30097,{filter:e})}function Di(e){return di[e]}function Li(e){return hi[e]}function Mi(e){return fi[e]}function zi(e){return{fieldPath:e.canonicalString()}}function Fi(e){return ie.fromServerFormat(e.fieldPath)}function Ui(e){return e instanceof hn?function(e){if("=="===e.op){if(Jt(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NAN"}};if(Yt(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jt(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NOT_NAN"}};if(Yt(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zi(e.field),op:Li(e.op),value:e.value}}}(e):e instanceof fn?function(e){const t=e.getFilters().map(e=>Ui(e));return 1===t.length?t[0]:{compositeFilter:{op:Mi(e.op),filters:t}}}(e):j(54877,{filter:e})}function Bi(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Vi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class $i{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ye.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ye.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vt.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Wi{constructor(e){this.gt=e}}function Hi(e){const t=Ni({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Vn(t,t.limit,"L"):t}class qi{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(xt(e.integerValue));else if("doubleValue"in e){const n=xt(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),Ne(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=wt(n)),t.Mt(`${n.seconds||""}`),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(St(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?tn(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Zt(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):j(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const i=e.fields||{};this.Ct(t,53);const o=Mt,a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(xt(a)),this.xt(o,t),this.Dt(i[o],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),oe.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}qi.Ut=new qi;class Ki{constructor(){this.Dn=new Gi}addToCollectionParentIndex(e,t){return this.Dn.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(Se.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(Se.min())}updateCollectionGroup(e,t,n){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class Gi{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new pt(ne.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new pt(ne.comparator)).toArray()}}new Uint8Array(0);const Qi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yi=41943040;class Ji{static withCacheSize(e){return new Ji(e,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Ji.DEFAULT_COLLECTION_PERCENTILE=10,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ji.DEFAULT=new Ji(Yi,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ji.DISABLED=new Ji(-1,0,0);class Xi{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Xi(0)}static ur(){return new Xi(-1)}}const Zi="LruGarbageCollector",eo=1048576;function to(e,t){let[n,r]=e,[i,o]=t;const a=Q(n,i);return 0===a?Q(r,o):a}class no{constructor(e){this.Tr=e,this.buffer=new pt(to),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();to(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ro{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){C(Zi,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Re(e)?C(Zi,"Ignoring IndexedDB error during garbage collection: ",e):await Te(e)}await this.Rr(3e5)})}}class io{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve(Ae.ue);const n=new no(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(Qi)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qi):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(C("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),T()<=s.$b.DEBUG&&C("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(l-a)+"ms\n"+`\tRemoved ${e} documents in `+(c-l)+"ms\n"+`Total Duration: ${c-u}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function oo(e,t){return new io(e,t)}class ao{constructor(){this.changes=new Yn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ce.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class so{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lo{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Pr(n.mutation,e,gt.empty(),ge.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,sr()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sr();const r=nr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=er();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=nr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,sr()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Xn();const o=ir(),a=ir();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Lr)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Pr(a.mutation,t,a.mutation.getFieldMask(),ge.now())):o.set(t.key,gt.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new so(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=ir();let r=new dt((e,t)=>e-t),i=sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||gt.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||sr()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=rr();l.forEach(e=>{if(!i.has(e)){const r=Ar(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Ce.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return oe.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ce.resolve(nr());let a=ve,s=i;return o.next(t=>Ce.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Ce.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,sr())).next(e=>({batchId:a,changes:tr(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oe(t)).next(e=>{let t=er();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=er();return this.indexManager.getCollectionParents(e,i).next(a=>Ce.forEach(a,a=>{const s=function(e,t){return new Nn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,on.newInvalidDocument(r)))});let n=er();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&Pr(o.mutation,r,gt.empty(),ge.now()),qn(t,r)&&(n=n.insert(e,r))}),n})}}class co{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:bi(e.createTime)}}(t)),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:Hi(e.bundledQuery),readTime:bi(e.readTime)}}(t)),Ce.resolve()}}class uo{constructor(){this.overlays=new dt(oe.comparator),this.kr=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const n=nr();return Ce.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),Ce.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),Ce.resolve()}getOverlaysForCollection(e,t,n){const r=nr(),i=t.length+1,o=new oe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ce.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new dt((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=nr(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=nr(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Ce.resolve(a)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Wr(t,n));let i=this.kr.get(t);void 0===i&&(i=sr(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}}class ho{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ce.resolve()}}class fo{constructor(){this.qr=new pt(po.Qr),this.$r=new pt(po.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new po(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new po(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new oe(new ne([])),n=new po(t,e),r=new po(t,e+1),i=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new oe(new ne([])),n=new po(t,e),r=new po(t,e+1);let i=sr();return this.$r.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new po(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class po{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return oe.comparator(e.key,t.key)||Q(e.Hr,t.Hr)}static Ur(e,t){return Q(e.Hr,t.Hr)||oe.comparator(e.key,t.key)}}class mo{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new pt(po.Qr)}checkEmpty(e){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Vr(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Yr=this.Yr.add(new po(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(e,t){return Ce.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return Ce.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?je:this.er-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new po(t,0),r=new po(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),Ce.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new pt(Q);return t.forEach(e=>{const t=new po(e,0),r=new po(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Ce.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;oe.isDocumentKey(i)||(i=i.child(""));const o=new po(new oe(i),0);let a=new pt(Q);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Hr)),!0)},o),Ce.resolve(this.ei(a))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){N(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return Ce.forEach(t.mutations,r=>{const i=new po(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new po(t,0),r=this.Yr.firstAfterOrEqual(n);return Ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class go{constructor(e){this.ni=e,this.docs=new dt(oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ce.resolve(n?n.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let n=Xn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():on.newInvalidDocument(e))}),Ce.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Xn();const o=t.path,a=new oe(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||ke(xe(a),n)<=0||(r.has(a.key)||qn(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Ce.resolve(i)}getAllFromCollectionGroup(e,t,n,r){j(9500)}ri(e,t){return Ce.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new yo(this)}getSize(e){return Ce.resolve(this.size)}}class yo extends ao{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),Ce.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class vo{constructor(e){this.persistence=e,this.ii=new Yn(e=>An(e),jn),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.si=0,this.oi=new fo,this.targetCount=0,this._i=Xi.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Ce.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Xi(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.hr(t),Ce.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Ce.waitFor(i).next(()=>r)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Ce.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Ce.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ce.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Ce.resolve(n)}containsKey(e,t){return Ce.resolve(this.oi.containsKey(t))}}class bo{constructor(e,t){this.ai={},this.overlays={},this.ui=new Ae(0),this.ci=!1,this.ci=!0,this.li=new ho,this.referenceDelegate=e(this),this.hi=new vo(this),this.indexManager=new Ki,this.remoteDocumentCache=function(e){return new go(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new Wi(t),this.Ti=new co(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uo,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new mo(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){C("MemoryPersistence","Starting transaction:",e);const r=new wo(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Ce.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class wo extends _e{constructor(e){super(),this.currentSequenceNumber=e}}class xo{constructor(e){this.persistence=e,this.Ai=new fo,this.Ri=null}static Vi(e){return new xo(e)}get mi(){if(this.Ri)return this.Ri;throw j(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Ce.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.mi,n=>{const r=oe.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,ye.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Ce.or([()=>Ce.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class So{constructor(e,t){this.persistence=e,this.gi=new Yn(e=>Le(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=oo(this,t)}static Vi(e,t){return new So(e,t)}Ii(){}di(e){return Ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return Ce.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?Ce.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,ye.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Ce.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Ce.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qt(e.data.value)),t}Sr(e,t,n){return Ce.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return Ce.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ko{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=sr(),r=sr();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ko(e,t.fromCache,n,r)}}class Eo{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _o{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(0,l.nr)()?8:Ie((0,l.ZQ)())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ps(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ys(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Eo;return this.ws(e,t,n).next(r=>{if(i.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>i.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(T()<=s.$b.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",Hn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ce.resolve()):(T()<=s.$b.DEBUG&&C("QueryEngine","Query:",Hn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(T()<=s.$b.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",Hn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fn(t))):Ce.resolve())}ps(e,t){if(Ln(t))return Ce.resolve(null);let n=Fn(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Vn(t,null,"F"),n=Fn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=sr(...r);return this.gs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.bs(t,r);return this.Ds(t,o,i,n.readTime)?this.ps(e,Vn(t,null,"F")):this.vs(e,o,t,n)}))})))}ys(e,t,n,r){return Ln(t)||r.isEqual(ye.min())?Ce.resolve(null):this.gs.getDocuments(e,n).next(i=>{const o=this.bs(t,i);return this.Ds(t,o,n,r)?Ce.resolve(null):(T()<=s.$b.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hn(t)),this.vs(e,o,t,we(r,ve)).next(e=>e))})}bs(e,t){let n=new pt(Gn(e));return t.forEach((t,r)=>{qn(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ws(e,t,n){return T()<=s.$b.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",Hn(t)),this.gs.getDocumentsMatchingQuery(e,t,Se.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const To="LocalStore",Co=3e8;class Io{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new dt(Q),this.Ms=new Yn(e=>An(e),jn),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lo(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Ro(e,t,n,r){return new Io(e,t,n,r)}async function Ao(e,t){const n=O(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=sr();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Bs:e,removedBatchIds:i,addedBatchIds:o}))})})}function jo(e){const t=O(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function Po(e,t,n){let r=sr(),i=sr();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Xn();return n.forEach((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(ye.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):C(To,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),{Ls:r,ks:i}})}function No(e,t){const n=O(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=je),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Oo(e,t){const n=O(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(i=>i?(r=i,Ce.resolve(r)):n.hi.allocateTargetId(e).next(i=>(r=new $i(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function Do(e,t,n){const r=O(e),i=r.Fs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Re(e))throw e;C(To,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function Lo(e,t,n){const r=O(e);let i=ye.min(),o=sr();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=O(e),i=r.Ms.get(n);return void 0!==i?Ce.resolve(r.Fs.get(i)):r.hi.getTargetData(t,n)}(r,e,Fn(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:ye.min(),n?o:sr())).next(e=>(Mo(r,Kn(t),e),{documents:e,qs:o})))}function Mo(e,t,n){let r=e.xs.get(t)||ye.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class zo{constructor(){this.activeTargetIds=cr()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fo{constructor(){this.Fo=new zo,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new zo,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Uo{xo(e){}shutdown(){}}const Bo="ConnectivityMonitor";class Vo{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){C(Bo,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){C(Bo,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $o=null;function Wo(){return null===$o?$o=268435456+Math.round(2147483648*Math.random()):$o++,"0x"+$o.toString(16)}const Ho="RestConnection",qo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ko{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===jt?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){const o=Wo(),a=this.Go(e,t.toUriEncodedString());C(Ho,`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(s,r,i);const{host:c}=new URL(a),u=(0,l.zJ)(c);return this.jo(e,a,s,n,u).then(t=>(C(Ho,`Received RPC '${e}' ${o}: `,t),t),t=>{throw R(Ho,`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t})}Jo(e,t,n,r,i,o){return this.Wo(e,t,n,r,i)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+E,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=qo[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}class Go{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const Qo="WebChannelConnection";class Yo extends Ko{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,i){const o=Wo();return new Promise((i,a)=>{const s=new d;s.setWithCredentials(!0),s.listenOnce(f.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case p.NO_ERROR:const t=s.getResponseJson();C(Qo,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),i(t);break;case p.TIMEOUT:C(Qo,`RPC '${e}' ${o} timed out`),a(new L(D.DEADLINE_EXCEEDED,"Request time out"));break;case p.HTTP_ERROR:const n=s.getStatus();if(C(Qo,`RPC '${e}' ${o} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(t)>=0?t:D.UNKNOWN}(t.status);a(new L(e,t.message))}else a(new L(D.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new L(D.UNAVAILABLE,"Connection failed."));break;default:j(9055,{c_:e,streamId:o,l_:s.getLastErrorCode(),h_:s.getLastError()})}}finally{C(Qo,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);C(Qo,`RPC '${e}' ${o} sending request:`,r),s.send(t,"POST",l,n,15)})}P_(e,t,n){const r=Wo(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=v(),a=y(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.zo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");C(Qo,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);this.T_(u);let d=!1,f=!1;const p=new Go({Ho:t=>{f?C(Qo,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(C(Qo,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),C(Qo,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Yo:()=>u.close()}),b=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return b(u,h.EventType.OPEN,()=>{f||(C(Qo,`RPC '${e}' stream ${r} transport opened.`),p.s_())}),b(u,h.EventType.CLOSE,()=>{f||(f=!0,C(Qo,`RPC '${e}' stream ${r} transport closed`),p.__(),this.I_(u))}),b(u,h.EventType.ERROR,t=>{f||(f=!0,R(Qo,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),p.__(new L(D.UNAVAILABLE,"The operation could not be completed")))}),b(u,h.EventType.MESSAGE,t=>{var n;if(!f){const i=t.data[0];N(!!i,16349);const o=i,a=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){C(Qo,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=qr[e];if(void 0!==t)return Qr(t)}(t),i=a.message;void 0===n&&(n=D.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),f=!0,p.__(new L(n,i)),u.close()}else C(Qo,`RPC '${e}' stream ${r} received:`,i),p.a_(i)}}),b(a,g.STAT_EVENT,t=>{t.stat===m.PROXY?C(Qo,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===m.NOPROXY&&C(Qo,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.o_()},0),p}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Jo(){return"undefined"!=typeof document?document:null}function Xo(e){return new pi(e,!0)}class Zo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&C("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const ea="PersistentStream";class ta{constructor(e,t,n,r,i,o,a,s){this.Fi=e,this.w_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Zo(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===D.RESOURCE_EXHAUSTED?(I(t.toString()),I("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===D.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.b_===t&&this.W_(n,r)},t=>{e(()=>{const e=new L(D.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return C(ea,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(C(ea,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class na extends ta{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:j(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(N(void 0===t||"string"==typeof t,58123),vt.fromBase64String(t||"")):(N(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),vt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?D.UNKNOWN:Qr(e.code);return new L(t,e.message||"")}(a);n=new ai(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ei(e,r.document.name),o=bi(r.document.updateTime),a=r.document.createTime?bi(r.document.createTime):ye.min(),s=new nn({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ii(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ei(e,r.document),o=r.readTime?bi(r.readTime):ye.min(),a=on.newNoDocument(i,o),s=r.removedTargetIds||[];n=new ii([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ei(e,r.document),o=r.removedTargetIds||[];n=new ii([],o,i,null)}else{if(!("filter"in t))return j(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Hr(r,i),a=e.targetId;n=new oi(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ye.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ye.min():t.readTime?bi(t.readTime):ye.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=Ci(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Pn(r)?{documents:ji(e,r)}:{query:Pi(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=yi(e,t.resumeToken);const r=mi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ye.min())>0){n.readTime=gi(e,t.snapshotVersion.toTimestamp());const r=mi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=Ci(this.serializer),t.removeTarget=e,this.k_(t)}}class ra extends ta{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return N(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,N(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){N(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(N(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?bi(e.updateTime):bi(t);return n.isEqual(ye.min())&&(n=bi(t)),new Tr(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=bi(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=Ci(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ai(this.serializer,e))};this.k_(t)}}class ia{}class oa extends ia{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,a]=i;return this.connection.Wo(e,xi(t,n),r,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())})}Jo(e,t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[a,s]=o;return this.connection.Jo(e,xi(t,n),r,a,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class aa{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(I(t),this._a=!1):C("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const sa="RemoteStore";class la{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{ya(this)&&(C(sa,"Restarting streams for network reachability change."),await async function(e){const t=O(e);t.Ia.add(4),await ua(t),t.Aa.set("Unknown"),t.Ia.delete(4),await ca(t)}(this))})}),this.Aa=new aa(n,r)}}async function ca(e){if(ya(e))for(const t of e.da)await t(!0)}async function ua(e){for(const t of e.da)await t(!1)}function da(e,t){const n=O(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),ga(n)?ma(n):La(n).x_()&&fa(n,t))}function ha(e,t){const n=O(e),r=La(n);n.Ta.delete(t),r.x_()&&pa(n,t),0===n.Ta.size&&(r.x_()?r.B_():ya(n)&&n.Aa.set("Unknown"))}function fa(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ye.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}La(e).H_(t)}function pa(e,t){e.Ra.$e(t),La(e).Y_(t)}function ma(e){e.Ra=new li({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),La(e).start(),e.Aa.aa()}function ga(e){return ya(e)&&!La(e).M_()&&e.Ta.size>0}function ya(e){return 0===O(e).Ia.size}function va(e){e.Ra=void 0}async function ba(e){e.Aa.set("Online")}async function wa(e){e.Ta.forEach((t,n)=>{fa(e,t)})}async function xa(e,t){va(e),ga(e)?(e.Aa.la(t),ma(e)):e.Aa.set("Unknown")}async function Sa(e,t,n){if(e.Aa.set("Online"),t instanceof ai&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){C(sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ka(e,n)}else if(t instanceof ii?e.Ra.Ye(t):t instanceof oi?e.Ra.it(t):e.Ra.et(t),!n.isEqual(ye.min()))try{const t=await jo(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ta.get(r);i&&e.Ta.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(vt.EMPTY_BYTE_STRING,r.snapshotVersion)),pa(e,t);const i=new $i(r.target,t,n,r.sequenceNumber);fa(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){C(sa,"Failed to raise snapshot:",t),await ka(e,t)}}async function ka(e,t,n){if(!Re(t))throw t;e.Ia.add(1),await ua(e),e.Aa.set("Offline"),n||(n=()=>jo(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{C(sa,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await ca(e)})}function Ea(e,t){return t().catch(n=>ka(e,n,t))}async function _a(e){const t=O(e),n=Ma(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:je;for(;Ta(t);)try{const e=await No(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,Ca(t,e)}catch(e){await ka(t,e)}Ia(t)&&Ra(t)}function Ta(e){return ya(e)&&e.Pa.length<10}function Ca(e,t){e.Pa.push(t);const n=Ma(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function Ia(e){return ya(e)&&!Ma(e).M_()&&e.Pa.length>0}function Ra(e){Ma(e).start()}async function Aa(e){Ma(e).na()}async function ja(e){const t=Ma(e);for(const n of e.Pa)t.X_(n.mutations)}async function Pa(e,t,n){const r=e.Pa.shift(),i=$r.from(r,t,n);await Ea(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await _a(e)}async function Na(e,t){t&&Ma(e).Z_&&await async function(e,t){if(function(e){return Gr(e)&&e!==D.ABORTED}(t.code)){const n=e.Pa.shift();Ma(e).N_(),await Ea(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await _a(e)}}(e,t),Ia(e)&&Ra(e)}async function Oa(e,t){const n=O(e);n.asyncQueue.verifyOperationInProgress(),C(sa,"RemoteStore received new credentials");const r=ya(n);n.Ia.add(3),await ua(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await ca(n)}async function Da(e,t){const n=O(e);t?(n.Ia.delete(2),await ca(n)):t||(n.Ia.add(2),await ua(n),n.Aa.set("Unknown"))}function La(e){return e.Va||(e.Va=function(e,t,n){const r=O(e);return r.ia(),new na(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:ba.bind(null,e),e_:wa.bind(null,e),n_:xa.bind(null,e),J_:Sa.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),ga(e)?ma(e):e.Aa.set("Unknown")):(await e.Va.stop(),va(e))})),e.Va}function Ma(e){return e.ma||(e.ma=function(e,t,n){const r=O(e);return r.ia(),new ra(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Aa.bind(null,e),n_:Na.bind(null,e),ea:ja.bind(null,e),ta:Pa.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await _a(e)):(await e.ma.stop(),e.Pa.length>0&&(C(sa,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma}class za{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new M,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new za(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fa(e,t){if(I("AsyncQueue",`${t}: ${e}`),Re(e))return new L(D.UNAVAILABLE,`${t}: ${e}`);throw e}class Ua{static emptySet(e){return new Ua(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||oe.comparator(t.key,n.key):(e,t)=>oe.comparator(e.key,t.key),this.keyedMap=er(),this.sortedSet=new dt(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ua))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ua;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ba{constructor(){this.fa=new dt(oe.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):j(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Va{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Va(e,t,Ua.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$n(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class $a{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Wa{constructor(){this.queries=Ha(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=O(e),r=n.queries;n.queries=Ha(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new L(D.ABORTED,"Firestore shutting down"))}}function Ha(){return new Yn(e=>Wn(e),$n)}async function qa(e,t){const n=O(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Sa()&&t.ba()&&(r=2):(o=new $a,r=t.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Fa(e,`Initialization of query '${Hn(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.wa.push(t),t.va(n.onlineState),o.ya&&t.Ca(o.ya)&&Ya(n)}async function Ka(e,t){const n=O(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.wa.indexOf(t);e>=0&&(o.wa.splice(e,1),0===o.wa.length?i=t.ba()?0:1:!o.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ga(e,t){const n=O(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(i)&&(r=!0);t.ya=i}}r&&Ya(n)}function Qa(e,t,n){const r=O(e),i=r.queries.get(t);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(t)}function Ya(e){e.Da.forEach(e=>{e.next()})}var Ja,Xa;(Xa=Ja||(Ja={})).Fa="default",Xa.Cache="cache";class Za{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Va(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ja.Cache}}class es{constructor(e){this.key=e}}class ts{constructor(e){this.key=e}}class ns{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=sr(),this.mutatedKeys=sr(),this.Xa=Gn(e),this.eu=new Ua(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new Ba,r=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=qn(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.iu(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Xa(u,s)>0||l&&this.Xa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{eu:o,ru:n,Ds:a,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const a=t&&!r?this.ou():[],s=0===this.Za.size&&this.current&&!r?1:0,l=s!==this.Ya;return this.Ya=s,0!==o.length||l?{snapshot:new Va(this.query,e.eu,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ba,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=sr(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new ts(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new es(n))}),t}uu(e){this.Ha=e.qs,this.Za=sr();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Va.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const rs="SyncEngine";class is{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class os{constructor(e){this.key=e,this.lu=!1}}class as{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Yn(e=>Wn(e),$n),this.Tu=new Map,this.Iu=new Set,this.du=new dt(oe.comparator),this.Eu=new Map,this.Au=new fo,this.Ru={},this.Vu=new Map,this.mu=Xi.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function ss(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Is(e);let i;const o=r.Pu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await cs(r,t,n,!0),i}async function ls(e,t){const n=Is(e);await cs(n,t,!0,!1)}async function cs(e,t,n,r){const i=await Oo(e.localStore,Fn(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await us(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&da(e.remoteStore,i),s}async function us(e,t,n,r,i){e.gu=(t,n,r)=>async function(e,t,n,r){let i=t.view.nu(n);i.Ds&&(i=await Lo(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.nu(n,i)}));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return Ss(e,t.targetId,s._u),s.snapshot}(e,t,n,r);const o=await Lo(e.localStore,t,!0),a=new ns(t,o.qs),s=a.nu(o.documents),l=ri.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);Ss(e,n,c._u);const u=new is(t,n,a);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function ds(e,t,n){const r=O(e),i=r.Pu.get(t),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(e=>!$n(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Do(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ha(r.remoteStore,i.targetId),ws(r,i.targetId)}).catch(Te)):(ws(r,i.targetId),await Do(r.localStore,i.targetId,!0))}async function hs(e,t){const n=O(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ha(n.remoteStore,r.targetId))}async function fs(e,t){const n=O(e);try{const e=await function(e,t){const n=O(e),r=t.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];t.targetChanges.forEach((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.hi.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.hi.addMatchingKeys(e,o.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(vt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=Co||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&a.push(n.hi.updateTargetData(e,c))});let s=Xn(),l=sr();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Po(e,o,t.documentUpdates).next(e=>{s=e.Ls,l=e.ks})),!r.isEqual(ye.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Ce.waitFor(a).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Fs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(N(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?N(r.lu,14607):e.removedDocuments.size>0&&(N(r.lu,42227),r.lu=!1))}),await _s(n,e,t)}catch(e){await Te(e)}}function ps(e,t,n){const r=O(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=O(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.wa)i.va(t)&&(r=!0)}),r&&Ya(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ms(e,t,n){const r=O(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),o=i&&i.key;if(o){let e=new dt(oe.comparator);e=e.insert(o,on.newNoDocument(o,ye.min()));const n=sr().add(o),i=new ni(ye.min(),new Map,new dt(Q),e,n);await fs(r,i),r.du=r.du.remove(o),r.Eu.delete(t),Es(r)}else await Do(r.localStore,t,!1).then(()=>ws(r,t,n)).catch(Te)}async function gs(e,t){const n=O(e),r=t.batch.batchId;try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Ce.resolve();return o.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);N(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=sr();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);bs(n,r,null),vs(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _s(n,e)}catch(e){await Te(e)}}async function ys(e,t,n){const r=O(e);try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(N(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);bs(r,t,n),vs(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await _s(r,e)}catch(n){await Te(n)}}function vs(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function bs(e,t,n){const r=O(e);let i=r.Ru[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function ws(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||xs(e,t)})}function xs(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(ha(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),Es(e))}function Ss(e,t,n){for(const r of n)r instanceof es?(e.Au.addReference(r.key,t),ks(e,r)):r instanceof ts?(C(rs,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||xs(e,r.key)):j(19791,{yu:r})}function ks(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(C(rs,"New document in limbo: "+n),e.Iu.add(r),Es(e))}function Es(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new oe(ne.fromString(t)),r=e.mu.next();e.Eu.set(r,new os(n)),e.du=e.du.insert(n,r),da(e.remoteStore,new $i(Fn(Dn(n.path)),r,"TargetPurposeLimboResolution",Ae.ue))}}async function _s(e,t,n){const r=O(e),i=[],o=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((e,s)=>{a.push(r.gu(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=ko.Es(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.hu.J_(i),await async function(e,t){const n=O(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ce.forEach(t,t=>Ce.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ce.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Re(e))throw e;C(To,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,i)}}}(r.localStore,o))}async function Ts(e,t){const n=O(e);if(!n.currentUser.isEqual(t)){C(rs,"User change. New user:",t.toKey());const e=await Ao(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new L(D.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await _s(n,e.Bs)}}function Cs(e,t){const n=O(e),r=n.Eu.get(t);if(r&&r.lu)return sr().add(r.key);{let e=sr();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function Is(e){const t=O(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fs.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cs.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ms.bind(null,t),t.hu.J_=Ga.bind(null,t.eventManager),t.hu.pu=Qa.bind(null,t.eventManager),t}function Rs(e){const t=O(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gs.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ys.bind(null,t),t}class As{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xo(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Ro(this.persistence,new _o,e.initialUser,this.serializer)}Du(e){return new bo(xo.Vi,this.serializer)}bu(e){return new Fo}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}As.provider={build:()=>new As};class js extends As{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){N(this.persistence.referenceDelegate instanceof So,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ro(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?Ji.withCacheSize(this.cacheSizeBytes):Ji.DEFAULT;return new bo(e=>So.Vi(e,t),this.serializer)}}class Ps{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ps(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ts.bind(null,this.syncEngine),await Da(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Wa}createDatastore(e){const t=Xo(e.databaseInfo.databaseId),n=function(e){return new Yo(e)}(e.databaseInfo);return function(e,t,n,r){return new oa(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new la(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>ps(this.syncEngine,e,0),Vo.C()?new Vo:new Uo)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new as(e,t,n,r,i,o);return a&&(s.fu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=O(e);C(sa,"RemoteStore shutting down."),t.Ia.add(5),await ua(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ps.provider={build:()=>new Ps};class Ns{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):I("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Os="FirestoreClient";class Ds{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=k.UNAUTHENTICATED,this.clientId=G.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{C(Os,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(C(Os,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new M;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Fa(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ls(e,t){e.asyncQueue.verifyOperationInProgress(),C(Os,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ao(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{R("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{C("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{R("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function Ms(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zs(e);C(Os,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Oa(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Oa(t.remoteStore,n)),e._onlineComponents=t}async function zs(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){C(Os,"Using user provided OfflineComponentProvider");try{await Ls(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;R("Error using user provided cache. Falling back to memory cache: "+n),await Ls(e,new As)}}else C(Os,"Using default OfflineComponentProvider"),await Ls(e,new js(void 0));return e._offlineComponents}async function Fs(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(C(Os,"Using user provided OnlineComponentProvider"),await Ms(e,e._uninitializedComponentsProvider._online)):(C(Os,"Using default OnlineComponentProvider"),await Ms(e,new Ps))),e._onlineComponents}function Us(e){return Fs(e).then(e=>e.syncEngine)}async function Bs(e){const t=await Fs(e),n=t.eventManager;return n.onListen=ss.bind(null,t.syncEngine),n.onUnlisten=ds.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ls.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=hs.bind(null,t.syncEngine),n}function Vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new M;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new Ns({next:n=>{o.Ou(),t.enqueueAndForget(()=>Ka(e,a)),n.fromCache&&"server"===r.source?i.reject(new L(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Za(n,o,{includeMetadataChanges:!0,ka:!0});return qa(e,a)}(await Bs(e),e.asyncQueue,t,n,r)),r.promise}function $s(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ws=new Map,Hs="firestore.googleapis.com",qs=!0;class Ks{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new L(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hs,this.ssl=qs}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:qs;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Yi;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<eo)throw new L(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new L(D.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$s(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new L(D.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new L(D.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new L(D.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gs{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ks({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new L(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ks(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new F;switch(e.type){case"firstParty":return new $(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new L(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ws.get(e);t&&(C("ComponentProvider","Removing Datastore"),Ws.delete(e),t.terminate())}(this),Promise.resolve()}}class Qs{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class Ys{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ys(this.firestore,e,this._key)}toJSON(){return{type:Ys._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(fe(t,Ys._jsonSchema))return new Ys(e,n||null,new oe(ne.fromString(t.referencePath)))}}Ys._jsonSchemaVersion="firestore/documentReference/1.0",Ys._jsonSchema={type:he("string",Ys._jsonSchemaVersion),referencePath:he("string")};class Js extends Qs{constructor(e,t,n){super(e,t,Dn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ys(this.firestore,null,new oe(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function Xs(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),ae("collection","path",t),e instanceof Gs){const n=ne.fromString(t,...r);return le(n),new Js(e,null,n)}{if(!(e instanceof Ys||e instanceof Js))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ne.fromString(t,...r));return le(n),new Js(e.firestore,null,n)}}function Zs(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),1===arguments.length&&(t=G.newId()),ae("doc","path",t),e instanceof Gs){const n=ne.fromString(t,...r);return se(n),new Ys(e,null,new oe(n))}{if(!(e instanceof Ys||e instanceof Js))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ne.fromString(t,...r));return se(n),new Ys(e.firestore,e instanceof Js?e.converter:null,new oe(n))}}const el="AsyncQueue";class tl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Zo(this,"async_queue_retry"),this.oc=()=>{const e=Jo();e&&C(el,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=Jo();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Jo();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new M;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Re(e))throw e;C(el,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,I("INTERNAL UNHANDLED ERROR: ",nl(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=za.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&j(47125,{hc:nl(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function nl(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function rl(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class il extends Gs{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new tl,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tl(e),this._firestoreClient=void 0,await e}}}function ol(e,t){const n="object"==typeof e?e:(0,o.Sx)(),r="string"==typeof e?e:t||jt,i=(0,o.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,l.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=de(e,Gs);const o=(0,l.zJ)(t),a=e._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),c=`${t}:${n}`;o&&((0,l.gE)(`https://${c}`),(0,l.P1)("Firestore",!0)),a.host!==Hs&&a.host!==c&&R("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:o,emulatorOptions:r});if(!(0,l.bD)(u,s)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=k.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new L(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new k(o)}e._authCredentials=new U(new z(t,n))}}(i,...e)}return i}function al(e){if(e._terminated)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||sl(e),e._firestoreClient}function sl(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new At(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,$s(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Ds(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ll(vt.fromBase64String(e))}catch(e){throw new L(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ll(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ll._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fe(e,ll._jsonSchema))return ll.fromBase64String(e.bytes)}}ll._jsonSchemaVersion="firestore/bytes/1.0",ll._jsonSchema={type:he("string",ll._jsonSchemaVersion),bytes:he("string")};class cl{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new L(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ie(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ul{constructor(e){this._methodName=e}}class dl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dl._jsonSchemaVersion}}static fromJSON(e){if(fe(e,dl._jsonSchema))return new dl(e.latitude,e.longitude)}}dl._jsonSchemaVersion="firestore/geoPoint/1.0",dl._jsonSchema={type:he("string",dl._jsonSchemaVersion),latitude:he("number"),longitude:he("number")};class hl{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fe(e,hl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new hl(e.vectorValues);throw new L(D.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hl._jsonSchemaVersion="firestore/vectorValue/1.0",hl._jsonSchema={type:he("string",hl._jsonSchemaVersion),vectorValues:he("object")};const fl=/^__.*__$/;class pl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Lr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dr(e,this.data,t,this.fieldTransforms)}}class ml{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Lr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j(40011,{Ec:e})}}class yl{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ll(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(gl(this.Ec)&&fl.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class vl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Xo(e)}Dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yl({Ec:e,methodName:t,bc:n,path:ie.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bl(e){const t=e._freezeSettings(),n=Xo(e._databaseId);return new vl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wl(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Dc(o.merge||o.mergeFields?2:0,t,n,i);Pl("Data must be an object, but it was:",a,r);const s=Al(r,a);let l,c;if(o.merge)l=new gt(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Nl(t,r,n);if(!a.contains(i))throw new L(D.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Ml(e,i)||e.push(i)}l=new gt(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new pl(new nn(s),l,c)}class xl extends ul{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xl}}function Sl(e,t,n){return new yl({Ec:3,bc:t.settings.bc,methodName:e._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class kl extends ul{_toFieldTransform(e){return new _r(e.path,new yr)}isEqual(e){return e instanceof kl}}class El extends ul{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Sl(this,e,!0),n=this.vc.map(e=>Rl(e,t)),r=new vr(n);return new _r(e.path,r)}isEqual(e){return e instanceof El&&(0,l.bD)(this.vc,e.vc)}}class _l extends ul{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Sl(this,e,!0),n=this.vc.map(e=>Rl(e,t)),r=new wr(n);return new _r(e.path,r)}isEqual(e){return e instanceof _l&&(0,l.bD)(this.vc,e.vc)}}function Tl(e,t,n,r){const i=e.Dc(1,t,n);Pl("Data must be an object, but it was:",i,r);const o=[],a=nn.empty();ct(r,(e,r)=>{const s=Dl(t,e,n);r=(0,l.Ku)(r);const c=i.gc(s);if(r instanceof xl)o.push(s);else{const e=Rl(r,c);null!=e&&(o.push(s),a.set(s,e))}});const s=new gt(o);return new ml(a,s,i.fieldTransforms)}function Cl(e,t,n,r,i,o){const a=e.Dc(1,t,n),s=[Nl(t,r,n)],c=[i];if(o.length%2!=0)throw new L(D.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let l=0;l<o.length;l+=2)s.push(Nl(t,o[l])),c.push(o[l+1]);const u=[],d=nn.empty();for(let f=s.length-1;f>=0;--f)if(!Ml(u,s[f])){const e=s[f];let t=c[f];t=(0,l.Ku)(t);const n=a.gc(e);if(t instanceof xl)u.push(e);else{const r=Rl(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new gt(u);return new ml(d,h,a.fieldTransforms)}function Il(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Rl(n,e.Dc(r?4:3,t))}function Rl(e,t){if(jl(e=(0,l.Ku)(e)))return Pl("Unsupported field value:",t,e),Al(e,t);if(e instanceof ul)return function(e,t){if(!gl(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Rl(i,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ge.fromDate(e);return{timestampValue:gi(t.serializer,n)}}if(e instanceof ge){const n=new ge(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gi(t.serializer,n)}}if(e instanceof dl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ll)return{bytesValue:yi(t.serializer,e._byteString)};if(e instanceof Ys){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:wi(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof hl)return function(e,t){return{mapValue:{fields:{[Nt]:{stringValue:Lt},[Mt]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return ur(t.serializer,e)})}}}}}}(e,t);throw t.wc(`Unsupported field value: ${ue(e)}`)}(e,t)}function Al(e,t){const n={};return ut(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ct(e,(e,r)=>{const i=Rl(r,t.Vc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function jl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ge||e instanceof dl||e instanceof ll||e instanceof Ys||e instanceof ul||e instanceof hl)}function Pl(e,t,n){if(!jl(n)||!ce(n)){const r=ue(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function Nl(e,t,n){if((t=(0,l.Ku)(t))instanceof cl)return t._internalPath;if("string"==typeof t)return Dl(e,t);throw Ll("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ol=new RegExp("[~\\*/\\[\\]]");function Dl(e,t,n){if(t.search(Ol)>=0)throw Ll(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new cl(...t.split("."))._internalPath}catch(r){throw Ll(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ll(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new L(D.INVALID_ARGUMENT,s+e+l)}function Ml(e,t){return e.some(e=>e.isEqual(t))}class zl{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ys(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ul("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Fl extends zl{data(){return super.data()}}function Ul(e,t){return"string"==typeof t?Dl(e,t):t instanceof cl?t._internalPath:t._delegate._internalPath}function Bl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new L(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vl{}class $l extends Vl{}function Wl(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Vl&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof ql).length,n=e.filter(e=>e instanceof Hl).length;if(t>1||t>0&&n>0)throw new L(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Hl extends $l{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hl(e,t,n)}_apply(e){const t=this._parse(e);return Jl(e._query,t),new Qs(e.firestore,e.converter,Bn(e._query,t))}_parse(e){const t=bl(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new L(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){Yl(a,o);const t=[];for(const n of a)t.push(Ql(r,e,n));s={arrayValue:{values:t}}}else s=Ql(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Yl(a,o),s=Il(n,t,a,"in"===o||"not-in"===o);return hn.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class ql extends Vl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ql(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:fn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Jl(n,i),n=Bn(n,i)}(e._query,t),new Qs(e.firestore,e.converter,Bn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Kl extends $l{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kl(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new L(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new L(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cn(t,n)}(e._query,this._field,this._direction);return new Qs(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Nn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Gl(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ul("orderBy",e);return Kl._create(n,t)}function Ql(e,t,n){if("string"==typeof(n=(0,l.Ku)(n))){if(""===n)throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mn(t)&&-1!==n.indexOf("/"))throw new L(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ne.fromString(n));if(!oe.isDocumentKey(r))throw new L(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kt(e,new oe(r))}if(n instanceof Ys)return Kt(e,n._key);throw new L(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ue(n)}.`)}function Yl(e,t){if(!Array.isArray(e)||0===e.length)throw new L(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Jl(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new L(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new L(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Xl{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(St(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw j(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ct(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Mt].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>xt(e.doubleValue));return new hl(i)}convertGeoPoint(e){return new dl(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=It(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rt(e));default:return null}}convertTimestamp(e){const t=wt(e);return new ge(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ne.fromString(e);N(Vi(n),9688,{name:e});const r=new Pt(n.get(1),n.get(3)),i=new oe(n.popFirst(5));return r.isEqual(t)||I(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Zl(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tc extends zl{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ul("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(D.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=tc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}tc._jsonSchemaVersion="firestore/documentSnapshot/1.0",tc._jsonSchema={type:he("string",tc._jsonSchemaVersion),bundleSource:he("string","DocumentSnapshot"),bundleName:he("string"),bundle:he("string")};class nc extends tc{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class rc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ec(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new nc(this._firestore,this._userDataWriter,n.key,n,new ec(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new nc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ec(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new nc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ec(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:ic(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(D.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=G.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ic(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j(61501,{type:e})}}rc._jsonSchemaVersion="firestore/querySnapshot/1.0",rc._jsonSchema={type:he("string",rc._jsonSchemaVersion),bundleSource:he("string","QuerySnapshot"),bundleName:he("string"),bundle:he("string")};class oc extends Xl{constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ys(this.firestore,null,t)}}function ac(e){e=de(e,Qs);const t=de(e.firestore,il),n=al(t),r=new oc(t);return Bl(e._query),Vs(n,e._query).then(n=>new rc(t,r,e,n))}function sc(e,t,n){e=de(e,Ys);const r=de(e.firestore,il),i=Zl(e.converter,t,n);return dc(r,[wl(bl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Cr.none())])}function lc(e,t,n){e=de(e,Ys);const r=de(e.firestore,il),i=bl(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),c=3;c<a;c++)s[c-3]=arguments[c];return o="string"==typeof(t=(0,l.Ku)(t))||t instanceof cl?Cl(i,"updateDoc",e._key,t,n,s):Tl(i,"updateDoc",e._key,t),dc(r,[o.toMutation(e._key,Cr.exists(!0))])}function cc(e,t){const n=de(e.firestore,il),r=Zs(e),i=Zl(e.converter,t);return dc(n,[wl(bl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}function uc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=(0,l.Ku)(e);let s={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||rl(n[c])||(s=n[c++]);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(rl(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let d,h,f;if(e instanceof Ys)h=de(e.firestore,il),f=Dn(e._key.path),d={next:t=>{n[c]&&n[c](hc(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=de(e,Qs);h=de(t.firestore,il),f=t._query;const r=new oc(h);d={next:e=>{n[c]&&n[c](new rc(h,r,t,e))},error:n[c+1],complete:n[c+2]},Bl(e._query)}return function(e,t,n,r){const i=new Ns(r),o=new Za(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>qa(await Bs(e),o)),()=>{i.Ou(),e.asyncQueue.enqueueAndForget(async()=>Ka(await Bs(e),o))}}(al(h),f,u,d)}function dc(e,t){return function(e,t){const n=new M;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Rs(e);try{const e=await function(e,t){const n=O(e),r=ge.now(),i=t.reduce((e,t)=>e.add(t.key),sr());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Xn(),l=sr();return n.Os.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=Nr(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Lr(e.key,t,rn(t.value.mapValue),Cr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:tr(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new dt(Q)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await _s(r,e.changes),await _a(r.remoteStore)}catch(e){const t=Fa(e,"Failed to persist write");n.reject(t)}}(await Us(e),t,n)),n.promise}(al(e),t)}function hc(e,t,n){const r=n.docs.get(t._key),i=new oc(e);return new tc(e,i,t._key,r,new ec(n.hasPendingWrites,n.fromCache),t.converter)}function fc(){return new kl("serverTimestamp")}function pc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new El("arrayUnion",t)}function mc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _l("arrayRemove",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){E=e}(o.MF),(0,o.om)(new a.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new il(new B(e.getProvider("auth-internal")),new H(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pt(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),(0,o.KO)(x,S,e),(0,o.KO)(x,S,"esm2017")}()},487:(e,t,n)=>{const r=n(293);function i(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function o(e,t,n){let r=e+t;return"undefined"!==typeof n&&(r+=" "+n),r}t.render=function(e,t,n){const a=r.getOptions(t),s=e.modules.size,l=e.modules.data,c=s+2*a.margin,u=a.color.light.a?"<path "+i(a.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+i(a.color.dark,"stroke")+' d="'+function(e,t,n){let r="",i=0,a=!1,s=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);c||a||(a=!0),e[l]?(s++,l>0&&c>0&&e[l-1]||(r+=a?o("M",c+n,.5+u+n):o("m",i,0),i=0,a=!1),c+1<t&&e[l+1]||(r+=o("h",s),s=0)):i++}return r}(l,s,a.margin)+'"/>',h='viewBox="0 0 '+c+" "+c+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+h+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"===typeof n&&n(null,f),f}},511:(e,t)=>{const n="[0-9]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(i,"g"),t.NUMERIC=new RegExp(n,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+r+"$"),a=new RegExp("^"+n+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return o.test(e)},t.testNumeric=function(e){return a.test(e)},t.testAlphanumeric=function(e){return s.test(e)}},529:(e,t,n)=>{"use strict";n.d(t,{cY:()=>p,FA:()=>O,g:()=>N,dM:()=>P,u:()=>s,Uj:()=>a,p9:()=>Q,Fy:()=>y,tD:()=>V,bD:()=>M,hp:()=>B,T9:()=>h,Tj:()=>u,yU:()=>d,XA:()=>f,mS:()=>l,Ku:()=>Y,ZQ:()=>x,sr:()=>_,zJ:()=>m,c1:()=>E,Im:()=>L,lT:()=>C,zW:()=>A,jZ:()=>S,lV:()=>T,nr:()=>I,Ov:()=>R,gE:()=>g,Am:()=>F,I9:()=>U,P1:()=>w,eX:()=>j});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==l)throw new o;const c=t<<2|a>>4;if(r.push(c),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},s=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const c=()=>{try{return l().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDg7gBQunyj3VWb4J9Kz9kAARguTbymo7I",REACT_APP_FIREBASE_APP_ID:"1:698082465788:web:0a9f2b8ae8097e3d324479",REACT_APP_FIREBASE_AUTH_DOMAIN:"home-ac80e.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-MLVZT716T1",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"698082465788",REACT_APP_FIREBASE_PROJECT_ID:"home-ac80e",REACT_APP_FIREBASE_STORAGE_BUCKET:"home-ac80e.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&s(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t[`_${e}`]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function m(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function g(e){return(await fetch(e,{credentials:"include"})).ok}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(o)),""].join(".")}const v={};let b=!1;function w(e,t){if("undefined"===typeof window||"undefined"===typeof document||!m(window.location.host)||v[e]===t||v[e]||b)return;function n(e){return`__firebase__banner__${e}`}v[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(v))v[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{b=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function S(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function k(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function E(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function _(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function T(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){const e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){return!k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R(){return!k()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function A(){try{return"object"===typeof indexedDB}catch(e){return!1}}function j(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function P(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class N extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,N.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(D,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new N(n,o,t)}}const D=/\{\$([^}]+)}/g;function L(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(z(n)&&z(o)){if(!M(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function z(e){return null!==e&&"object"===typeof e}function F(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function U(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function B(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function V(e,t){const n=new $(e,t);return n.subscribe.bind(n)}class ${constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=W),void 0===r.error&&(r.error=W),void 0===r.complete&&(r.complete=W);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W(){}const H=1e3,q=2,K=144e5,G=.5;function Q(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:H)*Math.pow(t,e),r=Math.round(G*n*(Math.random()-.5)*2);return Math.min(K,n+r)}function Y(e){return e&&e._delegate?e._delegate:e}},566:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){const t=Math.floor(e/8);return 1===(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1===(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},579:(e,t,n)=>{"use strict";e.exports=n(799)},623:(e,t,n)=>{const r=n(421),i=n(900),o=n(642),a=n(697),s=n(200),l=n(511),c=n(969),u=n(347);function d(e){return unescape(encodeURIComponent(e)).length}function h(e,t,n){const r=[];let i;for(;null!==(i=e.exec(n));)r.push({data:i[0],index:i.index,mode:t,length:i[0].length});return r}function f(e){const t=h(l.NUMERIC,r.NUMERIC,e),n=h(l.ALPHANUMERIC,r.ALPHANUMERIC,e);let i,o;c.isKanjiModeEnabled()?(i=h(l.BYTE,r.BYTE,e),o=h(l.KANJI,r.KANJI,e)):(i=h(l.BYTE_KANJI,r.BYTE,e),o=[]);return t.concat(n,i,o).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function p(e,t){switch(t){case r.NUMERIC:return i.getBitsLength(e);case r.ALPHANUMERIC:return o.getBitsLength(e);case r.KANJI:return s.getBitsLength(e);case r.BYTE:return a.getBitsLength(e)}}function m(e,t){let n;const l=r.getBestModeForData(e);if(n=r.from(t,l),n!==r.BYTE&&n.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(l));switch(n!==r.KANJI||c.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(e);case r.ALPHANUMERIC:return new o(e);case r.KANJI:return new s(e);case r.BYTE:return new a(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"===typeof t?e.push(m(t,null)):t.data&&e.push(m(t.data,t.mode)),e},[])},t.fromString=function(e,n){const i=function(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n];switch(i.mode){case r.NUMERIC:t.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:t.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:t.push([i,{data:i.data,mode:r.BYTE,length:d(i.data)}]);break;case r.BYTE:t.push([{data:i.data,mode:r.BYTE,length:d(i.data)}])}}return t}(f(e,c.isKanjiModeEnabled())),o=function(e,t){const n={},i={start:{}};let o=["start"];for(let a=0;a<e.length;a++){const s=e[a],l=[];for(let e=0;e<s.length;e++){const c=s[e],u=""+a+e;l.push(u),n[u]={node:c,lastCount:0},i[u]={};for(let e=0;e<o.length;e++){const a=o[e];n[a]&&n[a].node.mode===c.mode?(i[a][u]=p(n[a].lastCount+c.length,c.mode)-p(n[a].lastCount,c.mode),n[a].lastCount+=c.length):(n[a]&&(n[a].lastCount=c.length),i[a][u]=p(c.length,c.mode)+4+r.getCharCountIndicator(c.mode,t))}}o=l}for(let r=0;r<o.length;r++)i[o[r]].end=0;return{map:i,table:n}}(i,n),a=u.find_path(o.map,"start","end"),s=[];for(let t=1;t<a.length-1;t++)s.push(o.table[a[t]].node);return t.fromArray(function(e){return e.reduce(function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}(s))},t.rawSplit=function(e){return t.fromArray(f(e,c.isKanjiModeEnabled()))}},642:(e,t,n)=>{const r=n(421),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=r.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=o},661:e=>{function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},697:(e,t,n)=>{const r=n(421);function i(e){this.mode=r.BYTE,this.data="string"===typeof e?(new TextEncoder).encode(e):new Uint8Array(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=i},772:(e,t,n)=>{const r=n(969),i=n(272),o=n(566),a=n(661),s=n(382),l=n(21),c=n(833),u=n(805),d=n(177),h=n(980),f=n(350),p=n(421),m=n(623);function g(e,t,n){const r=e.size,i=f.getEncodedBits(t,n);let o,a;for(o=0;o<15;o++)a=1===(i>>o&1),o<6?e.set(o,8,a,!0):o<8?e.set(o+1,8,a,!0):e.set(r-15+o,8,a,!0),o<8?e.set(8,r-o-1,a,!0):o<9?e.set(8,15-o-1+1,a,!0):e.set(8,15-o-1,a,!0);e.set(r-8,8,1,!0)}function y(e,t,n){const i=new o;n.forEach(function(t){i.put(t.mode.bit,4),i.put(t.getLength(),p.getCharCountIndicator(t.mode,e)),t.write(i)});const a=8*(r.getSymbolTotalCodewords(e)-u.getTotalCodewordsCount(e,t));for(i.getLengthInBits()+4<=a&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);const s=(a-i.getLengthInBits())/8;for(let r=0;r<s;r++)i.put(r%2?17:236,8);return function(e,t,n){const i=r.getSymbolTotalCodewords(t),o=u.getTotalCodewordsCount(t,n),a=i-o,s=u.getBlocksCount(t,n),l=i%s,c=s-l,h=Math.floor(i/s),f=Math.floor(a/s),p=f+1,m=h-f,g=new d(m);let y=0;const v=new Array(s),b=new Array(s);let w=0;const x=new Uint8Array(e.buffer);for(let r=0;r<s;r++){const e=r<c?f:p;v[r]=x.slice(y,y+e),b[r]=g.encode(v[r]),y+=e,w=Math.max(w,e)}const S=new Uint8Array(i);let k,E,_=0;for(k=0;k<w;k++)for(E=0;E<s;E++)k<v[E].length&&(S[_++]=v[E][k]);for(k=0;k<m;k++)for(E=0;E<s;E++)S[_++]=b[E][k];return S}(i,e,t)}function v(e,t,n,i){let o;if(Array.isArray(e))o=m.fromArray(e);else{if("string"!==typeof e)throw new Error("Invalid data");{let r=t;if(!r){const t=m.rawSplit(e);r=h.getBestVersionForData(t,n)}o=m.fromString(e,r||40)}}const u=h.getBestVersionForData(o,n);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<u)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+u+".\n")}else t=u;const d=y(t,n,o),f=r.getSymbolSize(t),p=new a(f);return function(e,t){const n=e.size,r=l.getPositions(t);for(let i=0;i<r.length;i++){const t=r[i][0],o=r[i][1];for(let r=-1;r<=7;r++)if(!(t+r<=-1||n<=t+r))for(let i=-1;i<=7;i++)o+i<=-1||n<=o+i||(r>=0&&r<=6&&(0===i||6===i)||i>=0&&i<=6&&(0===r||6===r)||r>=2&&r<=4&&i>=2&&i<=4?e.set(t+r,o+i,!0,!0):e.set(t+r,o+i,!1,!0))}}(p,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2===0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(p),function(e,t){const n=s.getPositions(t);for(let r=0;r<n.length;r++){const t=n[r][0],i=n[r][1];for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)-2===n||2===n||-2===r||2===r||0===n&&0===r?e.set(t+n,i+r,!0,!0):e.set(t+n,i+r,!1,!0)}}(p,t),g(p,n,0),t>=7&&function(e,t){const n=e.size,r=h.getEncodedBits(t);let i,o,a;for(let s=0;s<18;s++)i=Math.floor(s/3),o=s%3+n-8-3,a=1===(r>>s&1),e.set(i,o,a,!0),e.set(o,i,a,!0)}(p,t),function(e,t){const n=e.size;let r=-1,i=n-1,o=7,a=0;for(let s=n-1;s>0;s-=2)for(6===s&&s--;;){for(let n=0;n<2;n++)if(!e.isReserved(i,s-n)){let r=!1;a<t.length&&(r=1===(t[a]>>>o&1)),e.set(i,s-n,r),o--,-1===o&&(a++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}(p,d),isNaN(i)&&(i=c.getBestMask(p,g.bind(null,p,n))),c.applyMask(i,p),g(p,n,i),{modules:p,version:t,errorCorrectionLevel:n,maskPattern:i,segments:o}}t.create=function(e,t){if("undefined"===typeof e||""===e)throw new Error("No input text");let n,o,a=i.M;return"undefined"!==typeof t&&(a=i.from(t.errorCorrectionLevel,i.M),n=h.from(t.version),o=c.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),v(e,n,a,o)}},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},805:(e,t,n)=>{const r=n(272),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return o[4*(e-1)+0];case r.M:return o[4*(e-1)+1];case r.Q:return o[4*(e-1)+2];case r.H:return o[4*(e-1)+3];default:return}}},812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>s,uA:()=>i});var r=n(529);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===o?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},833:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n=3,r=3,i=40,o=10;function a(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2===0;case t.Patterns.PATTERN001:return n%2===0;case t.Patterns.PATTERN010:return r%3===0;case t.Patterns.PATTERN011:return(n+r)%3===0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2===0;case t.Patterns.PATTERN101:return n*r%2+n*r%3===0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2===0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let r=0,i=0,o=0,a=null,s=null;for(let l=0;l<t;l++){i=o=0,a=s=null;for(let c=0;c<t;c++){let t=e.get(l,c);t===a?i++:(i>=5&&(r+=n+(i-5)),a=t,i=1),t=e.get(c,l),t===s?o++:(o>=5&&(r+=n+(o-5)),s=t,o=1)}i>=5&&(r+=n+(i-5)),o>=5&&(r+=n+(o-5))}return r},t.getPenaltyN2=function(e){const t=e.size;let n=0;for(let r=0;r<t-1;r++)for(let i=0;i<t-1;i++){const t=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);4!==t&&0!==t||n++}return n*r},t.getPenaltyN3=function(e){const t=e.size;let n=0,r=0,o=0;for(let i=0;i<t;i++){r=o=0;for(let a=0;a<t;a++)r=r<<1&2047|e.get(i,a),a>=10&&(1488===r||93===r)&&n++,o=o<<1&2047|e.get(a,i),a>=10&&(1488===o||93===o)&&n++}return n*i},t.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*o},t.applyMask=function(e,t){const n=t.size;for(let r=0;r<n;r++)for(let i=0;i<n;i++)t.isReserved(i,r)||t.xor(i,r,a(e,i,r))},t.getBestMask=function(e,n){const r=Object.keys(t.Patterns).length;let i=0,o=1/0;for(let a=0;a<r;a++){n(a),t.applyMask(a,e);const r=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(a,e),r<o&&(o=r,i=a)}return i}},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,E||(E=!0,k());else{var t=r(u);null!==t&&P(S,t.startTime-e)}}var k,E=!1,_=-1,T=5,C=-1;function I(){return!!y||!(t.unstable_now()-C<T)}function R(){if(y=!1,E){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(_),_=-1),p=!0;var o=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(S,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?k():E=!1}}}if("function"===typeof w)k=function(){w(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,j=A.port2;A.port1.onmessage=R,k=function(){j.postMessage(null)}}else k=function(){v(R,0)};function P(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(b(_),_=-1):g=!0,P(S,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,E||(E=!0,k()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},898:(e,t,n)=>{"use strict";n.d(t,{kT:()=>en,eJ:()=>gt,xI:()=>Xn,hg:()=>wt,gA:()=>vt,J1:()=>mt,x9:()=>yt,ik:()=>nn,CI:()=>xt,r7:()=>bt});var r=n(52),i=n(529),o=n(443);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var s=n(812);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,u=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new o.Vy("@firebase/auth");function h(e){if(d.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.error(`Auth (${r.MF}): ${e}`,...n)}}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw y(e,...n)}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e,...n)}function m(e,t,n){const r=Object.assign(Object.assign({},c()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function g(e){return m(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return u.create(e,...n)}function v(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw y(t,...r)}}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function w(e,t){e||b(t)}function x(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function S(){return"http:"===k()||"https:"===k()}function k(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class E{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(S()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class T{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const C={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R=new E(3e4,6e4);function A(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function j(e,t,n,r){return P(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let o={},a={};r&&("GET"===t?a=r:o={body:JSON.stringify(r)});const s=(0,i.Am)(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},o);return(0,i.c1)()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)&&(c.credentials="include"),T.fetch()(await O(e,e.config.apiHost,n,s),c)})}async function P(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},C),t);try{const t=new L(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw M(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw M(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw M(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw M(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw m(e,s,a);f(e,s)}}catch(o){if(o instanceof i.g)throw o;f(e,"network-request-failed",{message:String(o)})}}async function N(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await j(e,t,n,r,i);return"mfaPendingCredential"in o&&f(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function O(e,t,n,r){const i=`${t}${n}?${r}`,o=e,a=o.config.emulator?_(e.config,i):`${e.config.apiScheme}://${i}`;if(I.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(a).toString()}return a}function D(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"network-request-failed")),R.get())})}}function M(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=p(e,t,r);return i.customData._tokenResponse=n,i}function z(e){return void 0!==e&&void 0!==e.getResponse}function F(e){return void 0!==e&&void 0!==e.enterprise}class U{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return D(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B(e,t){return j(e,"GET","/v2/recaptchaConfig",A(e,t))}async function V(e,t){return j(e,"POST","/v1/accounts:lookup",t)}function $(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function W(e){return 1e3*Number(e)}function H(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(o){return h("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function q(e){const t=H(e);return v(t,"internal-error"),v("undefined"!==typeof t.exp,"internal-error"),v("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function K(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof i.g&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class G{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Q{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Y(e){var t;const n=e.auth,r=await e.getIdToken(),i=await K(e,V(n,{idToken:r}));v(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?J(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Q(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function J(e){return e.map(e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class X{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v("undefined"!==typeof e.idToken,"internal-error"),v("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):q(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){v(0!==e.length,"internal-error");const t=q(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(v(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await P(e,{},async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,a=await O(e,r,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),T.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new X;return n&&(v("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(v("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(v("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new X,this.toJSON())}_performRefresh(){return b("not implemented")}}function Z(e,t){v("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ee{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Q(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await K(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.Ku)(e),r=await n.getIdToken(t),o=H(r);v(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a="object"===typeof o.firebase?o.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:$(W(o.auth_time)),issuedAtTime:$(W(o.iat)),expirationTime:$(W(o.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.Ku)(e);await Y(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ee(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Y(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await K(this,async function(e,t){return j(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:S,stsTokenManager:k}=t;v(b&&k,e,"internal-error");const E=X.fromJSON(this.name,k);v("string"===typeof b,e,"internal-error"),Z(u,e.name),Z(d,e.name),v("boolean"===typeof w,e,"internal-error"),v("boolean"===typeof x,e,"internal-error"),Z(h,e.name),Z(f,e.name),Z(p,e.name),Z(m,e.name),Z(g,e.name),Z(y,e.name);const _=new ee({uid:b,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return S&&Array.isArray(S)&&(_.providerData=S.map(e=>Object.assign({},e))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new X;r.updateFromServerResponse(t);const i=new ee({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Y(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];v(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?J(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new X;a.updateFromIdToken(n);const s=new ee({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Q(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const te=new Map;function ne(e){w(e instanceof Function,"Expected a class definition");let t=te.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,te.set(e,t),t)}class re{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}re.type="NONE";const ie=re;function oe(e,t,n){return`firebase:${e}:${t}:${n}`}class ae{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=oe(this.userKey,r.apiKey,i),this.fullPersistenceKey=oe("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await V(this.auth,{idToken:e}).catch(()=>{});return t?ee._fromGetAccountInfoResponse(this.auth,t,e):null}return ee._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ae(ne(ie),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ne(ie);const o=oe(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await V(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ee._fromGetAccountInfoResponse(e,r,t)}else n=ee._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(l){}})),new ae(i,e,n)):new ae(i,e,n)}}function se(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(de(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(le(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fe(t))return"Blackberry";if(pe(t))return"Webos";if(ce(t))return"Safari";if((t.includes("chrome/")||ue(t))&&!t.includes("edge/"))return"Chrome";if(he(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/firefox\//i.test(e)}function ce(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/crios\//i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iemobile/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/android/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/blackberry/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/webos/i.test(e)}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return me(e)||he(e)||pe(e)||fe(e)||/windows phone/i.test(e)||de(e)}function ye(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=se((0,i.ZQ)());break;case"Worker":t=`${se((0,i.ZQ)())}-${e}`;break;default:t=e}const o=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${r.MF}/${o}`}class ve{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class be{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class we{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Se(this),this.idTokenSubscription=new Se(this),this.beforeStateQueue=new ve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ne(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ae.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await V(this,{idToken:e}),n=await ee._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==r||!(null===a||void 0===a?void 0:a.user)||(i=a.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Y(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,i.Ku)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ne(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return j(e,"GET","/v2/passwordPolicy",A(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new be(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return j(e,"POST","/v2/accounts:revokeToken",A(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ne(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await ae.create(this,[ne(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ye(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(d.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.warn(`Auth (${r.MF}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function xe(e){return(0,i.Ku)(e)}class Se{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ke={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ee(e){return ke.loadJS(e)}function _e(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Te=1e12;class Ce{constructor(e){this.auth=e,this.counter=Te,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ae(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Te;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Te;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Te;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Ie{constructor(){this.enterprise=new Re}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Re{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ae{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;v(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const je="NO_RECAPTCHA";class Pe{constructor(e){this.type="recaptcha-enterprise",this.auth=xe(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;F(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(je)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ie).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{B(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new U(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&F(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ke.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ee(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ne(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Pe(e);let a;if(i)a=je;else try{a=await o.verify(n)}catch(l){a=await o.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Oe(e,t,n,r,i){var o,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ne(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Ne(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Ne(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Ne(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Ne(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function De(e){const t=xe(e),n=await B(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new U(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Pe(t).verify()}}function Le(e,t,n){const r=xe(e);v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Me(t),{host:s,port:l}=function(e){const t=Me(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ze(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ze(t)}}}(t),c=null===l?"":`:${l}`,u={url:`${a}//${s}${c}/`},d=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator)return v(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void v((0,i.bD)(u,r.config.emulator)&&(0,i.bD)(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,(0,i.zJ)(s)?((0,i.gE)(`${a}//${s}${c}`),(0,i.P1)("Auth",!0)):o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Me(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ze(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Fe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}async function Ue(e,t){return j(e,"POST","/v1/accounts:signUp",t)}async function Be(e,t){return N(e,"POST","/v1/accounts:signInWithPassword",A(e,t))}async function Ve(e,t){return j(e,"POST","/v1/accounts:sendOobCode",A(e,t))}async function $e(e,t){return Ve(e,t)}class We extends Fe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new We(e,t,"password")}static _fromEmailAndCode(e,t){return new We(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Oe(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Be,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return N(e,"POST","/v1/accounts:signInWithEmailLink",A(e,t))}(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Oe(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ue,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return N(e,"POST","/v1/accounts:signInWithEmailLink",A(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function He(e,t){return N(e,"POST","/v1/accounts:signInWithIdp",A(e,t))}class qe extends Fe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new qe(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return He(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,He(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,He(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}async function Ke(e,t){return j(e,"POST","/v1/accounts:sendVerificationCode",A(e,t))}const Ge={USER_NOT_FOUND:"user-not-found"};class Qe extends Fe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Qe({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Qe({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return N(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await N(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,t));if(n.temporaryProof)throw M(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return N(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ge)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Qe({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ye{constructor(e){var t,n,r,o,a,s;const l=(0,i.I9)((0,i.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);v(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=l.lang)&&void 0!==a?a:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new Ye(t)}catch(n){return null}}}class Je{constructor(){this.providerId=Je.PROVIDER_ID}static credential(e,t){return We._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ye.parseLink(t);return v(n,"argument-error"),We._fromEmailAndCode(e,n.code,n.tenantId)}}Je.PROVIDER_ID="password",Je.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Je.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xe{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ze extends Xe{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class et extends Ze{constructor(){super("facebook.com")}static credential(e){return qe._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return et.credential(t.oauthAccessToken)}catch(n){return null}}}et.FACEBOOK_SIGN_IN_METHOD="facebook.com",et.PROVIDER_ID="facebook.com";class tt extends Ze{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qe._fromParams({providerId:tt.PROVIDER_ID,signInMethod:tt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return tt.credentialFromTaggedObject(e)}static credentialFromError(e){return tt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return tt.credential(n,r)}catch(i){return null}}}tt.GOOGLE_SIGN_IN_METHOD="google.com",tt.PROVIDER_ID="google.com";class nt extends Ze{constructor(){super("github.com")}static credential(e){return qe._fromParams({providerId:nt.PROVIDER_ID,signInMethod:nt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nt.credentialFromTaggedObject(e)}static credentialFromError(e){return nt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return nt.credential(t.oauthAccessToken)}catch(n){return null}}}nt.GITHUB_SIGN_IN_METHOD="github.com",nt.PROVIDER_ID="github.com";class rt extends Ze{constructor(){super("twitter.com")}static credential(e,t){return qe._fromParams({providerId:rt.PROVIDER_ID,signInMethod:rt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rt.credentialFromTaggedObject(e)}static credentialFromError(e){return rt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return rt.credential(n,r)}catch(i){return null}}}async function it(e,t){return N(e,"POST","/v1/accounts:signUp",A(e,t))}rt.TWITTER_SIGN_IN_METHOD="twitter.com",rt.PROVIDER_ID="twitter.com";class ot{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ee._fromIdTokenResponse(e,n,r),o=at(n);return new ot({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=at(n);return new ot({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function at(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class st extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,st.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new st(e,t,n,r)}}function lt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw st._fromErrorAndOperation(e,n,t,r);throw n})}async function ct(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await K(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ot._forOperation(e,"link",r)}async function ut(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(g(i));const o="reauthenticate";try{const r=await K(e,lt(i,o,t,e),n);v(r.idToken,i,"internal-error");const a=H(r.idToken);v(a,i,"internal-error");const{sub:s}=a;return v(e.uid===s,i,"user-mismatch"),ot._forOperation(e,o,r)}catch(a){throw"auth/user-not-found"===(null===a||void 0===a?void 0:a.code)&&f(i,"user-mismatch"),a}}async function dt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i="signIn",o=await lt(e,i,t),a=await ot._fromIdTokenResponse(e,i,o);return n||await e._updateCurrentUser(a.user),a}async function ht(e,t){return dt(xe(e),t)}function ft(e,t,n){var r;v((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),v("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),v("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(v(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(v(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function pt(e){const t=xe(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function mt(e,t,n){const r=xe(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ft(r,i,n),await Oe(r,i,"getOobCode",$e,"EMAIL_PASSWORD_PROVIDER")}async function gt(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(g(e));const i=xe(e),o=Oe(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",it,"EMAIL_PASSWORD_PROVIDER"),a=await o.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&pt(e),t}),s=await ot._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(s.user),s}function yt(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(g(e)):ht((0,i.Ku)(e),Je.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&pt(e),t})}async function vt(e,t){const n=(0,i.Ku)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&ft(n.auth,r,t);const{email:o}=await async function(e,t){return Ve(e,t)}(n.auth,r);o!==e.email&&await e.reload()}async function bt(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const o=(0,i.Ku)(e),a={idToken:await o.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await K(o,async function(e,t){return j(e,"POST","/v1/accounts:update",t)}(o.auth,a));o.displayName=s.displayName||null,o.photoURL=s.photoUrl||null;const l=o.providerData.find(e=>{let{providerId:t}=e;return"password"===t});l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),await o._updateTokensIfNecessary(s)}function wt(e,t,n,r){return(0,i.Ku)(e).onAuthStateChanged(t,n,r)}function xt(e){return(0,i.Ku)(e).signOut()}function St(e,t){return j(e,"POST","/v2/accounts/mfaEnrollment:start",A(e,t))}new WeakMap;const kt="__sak";class Et{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kt,"1"),this.storage.removeItem(kt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class _t extends Et{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ge(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_t.type="LOCAL";const Tt=_t;function Ct(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function It(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Rt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=It(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Ct(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=It(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=It(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Ct(n);const i=setInterval(()=>{const e=Ct(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Rt.type="COOKIE";class At extends Et{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}At.type="SESSION";const jt=At;class Pt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Pt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Pt.receivers=[];class Ot{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const l=Nt("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Dt(){return window}function Lt(){return"undefined"!==typeof Dt().WorkerGlobalScope&&"function"===typeof Dt().importScripts}const Mt="firebaseLocalStorageDb",zt="firebaseLocalStorage",Ft="fbase_key";class Ut{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bt(e,t){return e.transaction([zt],t?"readwrite":"readonly").objectStore(zt)}function Vt(){const e=indexedDB.open(Mt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(zt,{keyPath:Ft})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(zt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Mt);return new Ut(e).toPromise()}(),t(await Vt()))})})}async function $t(e,t,n){const r=Bt(e,!0).put({[Ft]:t,value:n});return new Ut(r).toPromise()}function Wt(e,t){const n=Bt(e,!0).delete(t);return new Ut(n).toPromise()}class Ht{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Vt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pt._getInstance(Lt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ot(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vt();return await $t(e,kt,"1"),await Wt(e,kt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>$t(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Bt(e,!1).get(t),r=await new Ut(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Wt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Bt(e,!1).getAll();return new Ut(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ht.type="LOCAL";const qt=Ht;function Kt(e,t){return j(e,"POST","/v2/accounts/mfaSignIn:start",A(e,t))}const Gt=_e("rcb"),Qt=new E(3e4,6e4);class Yt{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Dt().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return v(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&z(Dt().grecaptcha)?Promise.resolve(Dt().grecaptcha):new Promise((n,r)=>{const o=Dt().setTimeout(()=>{r(p(e,"network-request-failed"))},Qt.get());Dt()[Gt]=()=>{Dt().clearTimeout(o),delete Dt()[Gt];const i=Dt().grecaptcha;if(!i||!z(i))return void r(p(e,"internal-error"));const a=i.render;i.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(i)};Ee(`${ke.recaptchaV2Script}?${(0,i.Am)({onload:Gt,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(o),r(p(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Dt().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Jt{async load(e){return new Ce(e)}clearedOneInstance(){}}const Xt="recaptcha",Zt={theme:"light",type:"image"};class en{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Zt);this.parameters=n,this.type=Xt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xe(e),this.isInvisible="invisible"===this.parameters.size,v("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;v(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jt:new Yt,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){v(!this.parameters.sitekey,this.auth,"argument-error"),v(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),v("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"===typeof e)e(t);else if("string"===typeof e){const n=Dt()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){v(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){v(S()&&!Lt(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await j(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);v(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return v(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class tn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Qe._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function nn(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(g(e));const o=xe(e),a=await rn(o,t,(0,i.Ku)(n));return new tn(a,e=>ht(o,e))}async function rn(e,t,n){var r;if(!e._getRecaptchaConfig())try{await De(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){v("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Oe(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===je){v((null===n||void 0===n?void 0:n.type)===Xt,e,"argument-error");return St(e,await on(e,t,n))}return St(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{v("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;v(o,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Oe(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===je){v((null===n||void 0===n?void 0:n.type)===Xt,e,"argument-error");return Kt(e,await on(e,t,n))}return Kt(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Oe(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===je){v((null===n||void 0===n?void 0:n.type)===Xt,e,"argument-error");return Ke(e,await on(e,t,n))}return Ke(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function on(e,t,n){v(n.type===Xt,e,"argument-error");const r=await n.verify();v("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class an{constructor(e){this.providerId=an.PROVIDER_ID,this.auth=xe(e)}verifyPhoneNumber(e,t){return rn(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return Qe._fromVerification(e,t)}static credentialFromResult(e){const t=e;return an.credentialFromTaggedObject(t)}static credentialFromError(e){return an.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Qe._fromTokenResponse(n,r):null}}function sn(e,t){return t?ne(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}an.PROVIDER_ID="phone",an.PHONE_SIGN_IN_METHOD="phone";class ln extends Fe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return He(e,this._buildIdpRequest())}_linkToIdToken(e,t){return He(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return He(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cn(e){return dt(e.auth,new ln(e),e.bypassAuthState)}function un(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),ut(n,new ln(e),e.bypassAuthState)}async function dn(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),ct(n,new ln(e),e.bypassAuthState)}class hn{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cn;case"linkViaPopup":case"linkViaRedirect":return dn;case"reauthViaPopup":case"reauthViaRedirect":return un;default:f(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fn=new E(2e3,1e4);class pn extends hn{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,pn.currentPopupAction&&pn.currentPopupAction.cancel(),pn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){w(1===this.filter.length,"Popup operations only handle one event");const e=Nt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,fn.get())};e()}}pn.currentPopupAction=null;const mn=new Map;class gn extends hn{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=mn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=bn(t),r=vn(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}mn.set(this.auth._key(),e)}return this.bypassAuthState||mn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function yn(e,t){mn.set(e._key(),t)}function vn(e){return ne(e._redirectPersistence)}function bn(e){return oe("pendingRedirect",e.config.apiKey,e.name)}async function wn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i=xe(e),o=sn(i,t),a=new gn(i,o,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}class xn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!kn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sn(e))}saveEventToCache(e){this.cachedEventUids.add(Sn(e)),this.lastProcessedEventTime=Date.now()}}function Sn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function kn(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const En=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_n=/^https?/;async function Tn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return j(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Cn(r))return}catch(n){}f(e,"unauthorized-domain")}function Cn(e){const t=x(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!_n.test(n))return!1;if(En.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const In=new E(3e4,6e4);function Rn(){const e=Dt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function An(e){return new Promise((t,n)=>{var r,i,o;function a(){Rn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Rn(),n(p(e,"network-request-failed"))},timeout:In.get()})}if(null===(i=null===(r=Dt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Dt().gapi)||void 0===o?void 0:o.load)){const t=_e("iframefcb");return Dt()[t]=()=>{gapi.load?a():n(p(e,"network-request-failed"))},Ee(`${ke.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw jn=null,e})}let jn=null;const Pn=new E(5e3,15e3),Nn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},On=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dn(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,o={apiKey:t.apiKey,appName:e.name,v:r.MF},a=On.get(e.config.apiHost);a&&(o.eid=a);const s=e._getFrameworks();return s.length&&(o.fw=s.join(",")),`${n}?${(0,i.Am)(o).slice(1)}`}async function Ln(e){const t=await function(e){return jn=jn||An(e),jn}(e),n=Dt().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:Dn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=p(e,"network-request-failed"),o=Dt().setTimeout(()=>{r(i)},Pn.get());function a(){Dt().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Mn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Fn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Mn),{width:r.toString(),height:o.toString(),top:a,left:s}),u=(0,i.ZQ)().toLowerCase();n&&(l=ue(u)?"_blank":n),le(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return me(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new zn(null);const h=window.open(t||"",l,d);v(h,e,"popup-blocked");try{h.focus()}catch(f){}return new zn(h)}const Un="__/auth/handler",Bn="emulator/auth/handler",Vn=encodeURIComponent("fac");async function $n(e,t,n,o,a,s){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:r.MF,eventId:a};if(t instanceof Xe){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))l[e]=t}if(t instanceof Ze){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];const u=await e._getAppCheckToken(),d=u?`#${Vn}=${encodeURIComponent(u)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Un}`;return _(t,Bn)}(e)}?${(0,i.Am)(c).slice(1)}${d}`}const Wn="webStorageSupport";const Hn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jt,this._completeRedirectFn=wn,this._overrideRedirectResult=yn}async _openPopup(e,t,n,r){var i;w(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Fn(e,await $n(e,t,n,x(),r),Nt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Dt().location.href=e}(await $n(e,t,n,x(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ln(e),n=new xn(e);return t.register("authEvent",t=>{v(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wn,{type:Wn},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Wn];void 0!==i&&t(!!i),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Tn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ge()||ce()||me()}};var qn="@firebase/auth",Kn="1.10.8";class Gn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Qn=(0,i.XA)("authIdTokenMaxAge")||300;let Yn=null;const Jn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Qn)return;const i=null===n||void 0===n?void 0:n.token;Yn!==i&&(Yn=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!==t&&void 0!==t?t:{}))return e;f(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Hn,persistence:[qt,Tt,jt]}),o=(0,i.XA)("authTokenSyncURL");if(o&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(o,location.origin);if(location.origin===e.origin){const t=Jn(e.toString());!function(e,t,n){(0,i.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,i.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const a=(0,i.Tj)("auth");return a&&Le(n,`http://${a}`),n}var Zn;ke={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Zn="Browser",(0,r.om)(new s.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;v(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:Zn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ye(Zn)},c=new we(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ne);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,r.om)(new s.uA("auth-internal",e=>(e=>new Gn(e))(xe(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(qn,Kn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Zn)),(0,r.KO)(qn,Kn,"esm2017")},900:(e,t,n)=>{const r=n(421);function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},e.exports=i},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},969:(e,t)=>{let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!==typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return"undefined"!==typeof n},t.toSJIS=function(e){return n(e)}},970:(e,t,n)=>{const r=n(116),i=n(772),o=n(182),a=n(487);function s(e,t,n,o,a){const s=[].slice.call(arguments,1),l=s.length,c="function"===typeof s[l-1];if(!c&&!r())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(n=t,t=o=void 0):2!==l||t.getContext||(o=n,n=t,t=void 0),new Promise(function(r,a){try{const a=i.create(n,o);r(e(a,t,o))}catch(s){a(s)}})}if(l<2)throw new Error("Too few arguments provided");2===l?(a=n,n=t,t=o=void 0):3===l&&(t.getContext&&"undefined"===typeof a?(a=o,o=void 0):(a=o,o=n,n=t,t=void 0));try{const r=i.create(n,o);a(null,e(r,t,o))}catch(u){a(u)}}t.create=i.create,t.toCanvas=s.bind(null,o.render),t.toDataURL=s.bind(null,o.renderToDataURL),t.toString=s.bind(null,function(e,t,n){return a.render(e,n)})},980:(e,t,n)=>{const r=n(969),i=n(805),o=n(272),a=n(421),s=n(257),l=r.getBCHDigit(7973);function c(e,t){return a.getCharCountIndicator(e,t)+4}function u(e,t){let n=0;return e.forEach(function(e){const r=c(e.mode,t);n+=r+e.getBitsLength()}),n}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");"undefined"===typeof n&&(n=a.BYTE);const o=8*(r.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t));if(n===a.MIXED)return o;const l=o-c(n,e);switch(n){case a.NUMERIC:return Math.floor(l/10*3);case a.ALPHANUMERIC:return Math.floor(l/11*2);case a.KANJI:return Math.floor(l/13);case a.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,n){let r;const i=o.from(n,o.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(let r=1;r<=40;r++)if(u(e,r)<=t.getCapacity(r,n,a.MIXED))return r}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(let i=1;i<=40;i++)if(n<=t.getCapacity(i,r,e))return i}(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;r.getBCHDigit(t)-l>=0;)t^=7973<<r.getBCHDigit(t)-l;return e<<12|t}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".b21a91d2.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="my-react-app:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391),r=(n(175),"popstate");function i(){return d(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return l("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:c(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function a(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function s(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?u(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function c(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function d(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,u="POP",d=null,f=p();function p(){return(c.state||{idx:null}).idx}function m(){u="POP";let e=p(),t=null==e?null:e-f;f=e,d&&d({action:u,location:y.location,delta:t})}function g(e){return h(e)}null==f&&(f=0,c.replaceState({...c.state,idx:f},""));let y={get action(){return u},get location(){return e(o,c)},listen(e){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(r,m),d=e,()=>{o.removeEventListener(r,m),d=null}},createHref:e=>t(o,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u="PUSH";let r=l(y.location,e,t);n&&n(r,e),f=p()+1;let i=s(r,f),h=y.createHref(r);try{c.pushState(i,"",h)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;o.location.assign(h)}a&&d&&d({action:u,location:y.location,delta:1})},replace:function(e,t){u="REPLACE";let r=l(y.location,e,t);n&&n(r,e),f=p();let i=s(r,f),o=y.createHref(r);c.replaceState(i,"",o),a&&d&&d({action:u,location:y.location,delta:0})},go:e=>c.go(e)};return y}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),o(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:c(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function f(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let i=R(("string"===typeof t?u(t):t).pathname||"/",n);if(null==i)return null;let o=m(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=I(i);a=_(o[s],e,r)}return a}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(o(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let l=O([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),m(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))i(e,t,n);else i(e,t)}),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=g(r.join("/")),s=[];return s.push(...a.map(e=>""===e?o:[o,e].join("/"))),i&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var y=/^:[\w-]+$/,v=3,b=2,w=1,x=10,S=-2,k=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=S),t&&(r+=b),n.filter(e=>!k(e)).reduce((e,t)=>e+(y.test(t)?v:""===t?w:x),r)}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:O([o,u.pathname]),pathnameBase:D(O([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=O([o,u.pathnameBase]))}return a}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=C(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:a,pattern:e}}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function P(e){let t=j(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function N(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=u(e):(r={...e},o(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),o(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),o(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let a,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?u(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:L(r),hash:M(i)}}(r,a),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}var O=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var F=["POST","PUT","PATCH","DELETE"],U=(new Set(F),["GET",...F]);new Set(U),Symbol("ResetLoaderData");var B=e.createContext(null);B.displayName="DataRouter";var V=e.createContext(null);V.displayName="DataRouterState";var $=e.createContext({isTransitioning:!1});$.displayName="ViewTransition";var W=e.createContext(new Map);W.displayName="Fetchers";var H=e.createContext(null);H.displayName="Await";var q=e.createContext(null);q.displayName="Navigation";var K=e.createContext(null);K.displayName="Location";var G=e.createContext({outlet:null,matches:[],isDataRoute:!1});G.displayName="Route";var Q=e.createContext(null);Q.displayName="RouteError";function Y(){return null!=e.useContext(K)}function J(){return o(Y(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(K).location}var X="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z(t){e.useContext(q).static||e.useLayoutEffect(t)}function ee(){let{isDataRoute:t}=e.useContext(G);return t?function(){let{router:t}=ce("useNavigate"),n=de("useNavigate"),r=e.useRef(!1);Z(()=>{r.current=!0});let i=e.useCallback(async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(r.current,X),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...i}))},[t,n]);return i}():function(){o(Y(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(B),{basename:n,navigator:r}=e.useContext(q),{matches:i}=e.useContext(G),{pathname:s}=J(),l=JSON.stringify(P(i)),c=e.useRef(!1);Z(()=>{c.current=!0});let u=e.useCallback(function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(c.current,X),!c.current)return;if("number"===typeof e)return void r.go(e);let o=N(e,JSON.parse(l),s,"path"===i.relative);null==t&&"/"!==n&&(o.pathname="/"===o.pathname?n:O([n,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[n,r,l,s,t]);return u}()}e.createContext(null);function te(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(G),{pathname:i}=J(),o=JSON.stringify(P(r));return e.useMemo(()=>N(t,JSON.parse(o),i,"path"===n),[t,o,i,n])}function ne(t,n,r,i){o(Y(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=e.useContext(q),{matches:l}=e.useContext(G),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let e=m&&m.path||"";pe(h,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,y=J();if(n){let e="string"===typeof n?u(n):n;o("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=y;let v=g.pathname||"/",b=v;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=f(t,{pathname:b});a(m||null!=w,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),a(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=se(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:O([p,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:O([p,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,r,i);return n&&x?e.createElement(K.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},x):x}function re(){let t=he(),n=z(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:a},"ErrorBoundary")," or"," ",e.createElement("code",{style:a},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:o},r):null,s)}var ie=e.createElement(re,null),oe=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(G.Provider,{value:this.props.routeContext},e.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ae(t){let{routeContext:n,match:r,children:i}=t,o=e.useContext(B);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(G.Provider,{value:n},i)}function se(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,a=r?.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==a?.[e.route.id]);o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,l=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,o=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||o){s=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight((t,o,c)=>{let u,d=!1,h=null,f=null;r&&(u=a&&o.route.id?a[o.route.id]:void 0,h=o.route.errorElement||ie,s&&(l<0&&0===c?(pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=o.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?h:d?f:o.route.Component?e.createElement(o.route.Component,null):o.route.element?o.route.element:t,e.createElement(ae,{match:o,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?e.createElement(oe,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function le(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ce(t){let n=e.useContext(B);return o(n,le(t)),n}function ue(t){let n=e.useContext(V);return o(n,le(t)),n}function de(t){let n=function(t){let n=e.useContext(G);return o(n,le(t)),n}(t),r=n.matches[n.matches.length-1];return o(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function he(){let t=e.useContext(Q),n=ue("useRouteError"),r=de("useRouteError");return void 0!==t?t:n.errors?.[r]}var fe={};function pe(e,t,n){t||fe[e]||(fe[e]=!0,a(!1,n))}e.memo(function(e){let{routes:t,future:n,state:r}=e;return ne(t,void 0,r,n)});function me(t){let{to:n,replace:r,state:i,relative:s}=t;o(Y(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=e.useContext(q);a(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=e.useContext(G),{pathname:u}=J(),d=ee(),h=N(n,P(c),u,"path"===s),f=JSON.stringify(h);return e.useEffect(()=>{d(JSON.parse(f),{replace:r,state:i,relative:s})},[d,f,s,r,i]),null}function ge(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ye(t){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:l,static:c=!1}=t;o(!Y(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=e.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);"string"===typeof i&&(i=u(i));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=i,v=e.useMemo(()=>{let e=R(f,d);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:s}},[d,f,p,m,g,y,s]);return a(null!=v,`<Router basename="${d}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:e.createElement(q.Provider,{value:h},e.createElement(K.Provider,{children:r,value:v}))}function ve(e){let{children:t,location:n}=e;return ne(be(t),n)}e.Component;function be(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,(t,i)=>{if(!e.isValidElement(t))return;let a=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,be(t.props.children,a));o(t.type===ge,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!t.props.index||!t.props.children,"An index route cannot have child routes.");let s={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=be(t.props.children,a)),r.push(s)}),r}var we="get",xe="application/x-www-form-urlencoded";function Se(e){return null!=e&&"string"===typeof e.tagName}var ke=null;var Ee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _e(e){return null==e||Ee.has(e)?e:(a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xe}"`),null)}function Te(e,t){let n,r,i,o,a;if(Se(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?R(a,t):null,n=e.getAttribute("method")||we,i=_e(e.getAttribute("enctype"))||xe,o=new FormData(e)}else if(function(e){return Se(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Se(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?R(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||we,i=_e(e.getAttribute("formenctype"))||_e(a.getAttribute("enctype"))||xe,o=new FormData(a,e),!function(){if(null===ke)try{new FormData(document.createElement("form"),0),ke=!1}catch(e){ke=!0}return ke}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";o.append(`${e}x`,"0"),o.append(`${e}y`,"0")}else t&&o.append(t,r)}}else{if(Se(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=we,r=null,i=xe,a=e}var s;return o&&"text/plain"===i&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function Ce(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ie(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Re(e){return null!=e&&"string"===typeof e.page}function Ae(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function je(e,t,n,r,i,o){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===o?t.filter((e,t)=>a(e,t)||s(e,t)):"data"===o?t.filter((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,o)||s(t,o))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Pe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Ne(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Re(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e},[])}function Oe(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var De=new Set([100,101,204,205]);function Le(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===R(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}e.Component;function Me(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let i,o=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(z(n))return e.createElement(ze,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),o);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(ze,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function ze(t){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:o}=t,{routeModules:a}=$e();return a.root?.Layout&&!i?o:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?e.createElement(Ye,null):null)))}function Fe(e,t){return"lazy"===e.mode&&!0===t}function Ue(){let t=e.useContext(B);return Ce(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Be(){let t=e.useContext(V);return Ce(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ve=e.createContext(void 0);function $e(){let t=e.useContext(Ve);return Ce(t,"You must render this element inside a <HydratedRouter> element"),t}function We(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function He(e,t,n){if(n&&!Qe)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}function qe(t){let{page:n,...r}=t,{router:i}=Ue(),o=e.useMemo(()=>f(i.routes,n,i.basename),[i.routes,n,i.basename]);return o?e.createElement(Ge,{page:n,matches:o,...r}):null}function Ke(t){let{manifest:n,routeModules:r}=$e(),[i,o]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return Ne((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ie(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ae).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(t,n,r).then(t=>{e||o(t)}),()=>{e=!0}},[t,n,r]),i}function Ge(t){let{page:n,matches:r,...i}=t,o=J(),{manifest:a,routeModules:s}=$e(),{basename:l}=Ue(),{loaderData:c,matches:u}=Be(),d=e.useMemo(()=>je(n,r,u,a,o,"data"),[n,r,u,a,o]),h=e.useMemo(()=>je(n,r,u,a,o,"assets"),[n,r,u,a,o]),f=e.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{let r=a.routes[n.route.id];r&&r.hasLoader&&(!d.some(e=>e.route.id===n.route.id)&&n.route.id in c&&s[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let i=Le(n,l);return t&&e.size>0&&i.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[l,c,o,a,d,r,n,s]),p=e.useMemo(()=>Pe(h,a),[h,a]),m=Ke(h);return e.createElement(e.Fragment,null,f.map(t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...i})),p.map(t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...i})),m.map(t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})}))}Ve.displayName="FrameworkContext";var Qe=!1;function Ye(t){let{manifest:n,serverHandoffString:r,isSpaMode:i,renderMeta:o,routeDiscovery:a,ssr:s}=$e(),{router:l,static:c,staticContext:u}=Ue(),{matches:d}=Be(),h=Fe(a,s);o&&(o.didRenderScripts=!0);let p=He(d,null,i);e.useEffect(()=>{0},[]);let m=e.useMemo(()=>{let i=u?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",o=c?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${h?"":`import ${JSON.stringify(n.url)}`};\n${p.map((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];Ce(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:o,clientLoaderModule:a,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=i,u=[...o?[{module:o,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...s?[{module:s,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${r} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${h?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,i=new Set(t.state.matches.map(e=>e.route.id)),o=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(o.pop();o.length>0;)a.push(`/${o.join("/")}`),o.pop();a.forEach(e=>{let n=f(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let s=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return{...r,routes:s,sri:!!n||void 0}}(n,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${p.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(i),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(o),type:"module",async:!0}))},[]),g=Qe?[]:(n.entry.imports.concat(Pe(p,n,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let v="object"===typeof n.sri?n.sri:{};return Qe?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,h?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:v[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:v[n.entry.module],suppressHydrationWarning:!0}),g.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:v[n],suppressHydrationWarning:!0})),m)}function Je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}var Xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Xe&&(window.__reactRouterVersion="7.6.3")}catch(un){}function Ze(t){let{basename:n,children:r,window:o}=t,a=e.useRef();null==a.current&&(a.current=i({window:o,v5Compat:!0}));let s=a.current,[l,c]=e.useState({action:s.action,location:s.location}),u=e.useCallback(t=>{e.startTransition(()=>c(t))},[c]);return e.useLayoutEffect(()=>s.listen(u),[s,u]),e.createElement(ye,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}var et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=e.forwardRef(function(t,n){let r,{onClick:i,discover:s="render",prefetch:l="none",relative:u,reloadDocument:d,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:y,...v}=t,{basename:b}=e.useContext(q),w="string"===typeof m&&et.test(m),x=!1;if("string"===typeof m&&w&&(r=m,Xe))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=R(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:x=!0}catch(un){a(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(Y(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=e.useContext(q),{hash:a,pathname:s,search:l}=te(t,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:O([r,s])),i.createHref({pathname:c,search:l,hash:a})}(m,{relative:u}),[k,E,_]=function(t,n){let r=e.useContext(Ve),[i,o]=e.useState(!1),[a,s]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=e.useRef(null);e.useEffect(()=>{if("render"===t&&s(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(i){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{o(!0)},m=()=>{o(!1),s(!1)};return r?"intent"!==t?[a,f,{}]:[a,f,{onFocus:We(l,p),onBlur:We(c,m),onMouseEnter:We(u,p),onMouseLeave:We(d,m),onTouchStart:We(h,p)}]:[!1,f,{}]}(l,v),T=function(t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ee(),u=J(),d=te(t,{relative:a});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:c(u)===c(d);l(t,{replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,d,r,i,n,t,o,a,s])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:u,viewTransition:y});let C=e.createElement("a",{...v,..._,href:r||S,onClick:x||d?i:function(e){i&&i(e),e.defaultPrevented||T(e)},ref:Je(n,E),target:p,"data-discover":w||"render"!==s?void 0:"true"});return k&&!w?e.createElement(e.Fragment,null,C,e.createElement(qe,{page:S})):C});tt.displayName="Link",e.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:u,children:d,...h}=t,f=te(c,{relative:h.relative}),p=J(),m=e.useContext(V),{navigator:g,basename:y}=e.useContext(q),v=null!=m&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext($);o(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=it("useViewTransitionState"),a=te(t,{relative:n.relative});if(!r.isTransitioning)return!1;let s=R(r.currentLocation.pathname,i)||r.currentLocation.pathname,l=R(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=T(a.pathname,l)||null!=T(a.pathname,s)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&y&&(x=R(x,y)||x);const S="/"!==b&&b.endsWith("/")?b.length-1:b.length;let k,E=w===b||!s&&w.startsWith(b)&&"/"===w.charAt(S),_=null!=x&&(x===b||!s&&x.startsWith(b)&&"/"===x.charAt(b.length)),C={isActive:E,isPending:_,isTransitioning:v},I=E?r:void 0;k="function"===typeof a?a(C):[a,E?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(C):l;return e.createElement(tt,{...h,"aria-current":I,className:k,ref:n,style:A,to:c,viewTransition:u},"function"===typeof d?d(C):d)}).displayName="NavLink";var nt=e.forwardRef((t,n)=>{let{discover:r="render",fetcherKey:i,navigate:a,reloadDocument:s,replace:l,state:u,method:d=we,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...y}=t,v=st(),b=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(q),i=e.useContext(G);o(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s={...te(t||".",{relative:n})},l=J();if(null==t){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?`?${n}`:""}}t&&"."!==t||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:O([r,s.pathname]));return c(s)}(h,{relative:p}),w="get"===d.toLowerCase()?"get":"post",x="string"===typeof h&&et.test(h);return e.createElement("form",{ref:n,method:w,action:b,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;v(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:l,state:u,relative:p,preventScrollReset:m,viewTransition:g})},...y,"data-discover":x||"render"!==r?void 0:"true"})});function rt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function it(t){let n=e.useContext(B);return o(n,rt(t)),n}nt.displayName="Form";var ot=0,at=()=>`__${String(++ot)}__`;function st(){let{router:t}=it("useSubmit"),{basename:n}=e.useContext(q),r=de("useRouteId");return e.useCallback(async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:a,encType:s,formData:l,body:c}=Te(e,n);if(!1===i.navigate){let e=i.fetcherKey||at();await t.fetch(e,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,n,r])}var lt=n(579);const ct=[{icon:"\ud83d\udd10",title:"Login / Registration",desc:"Family members can securely log in or register to access upload and private features."},{icon:"\ud83d\uddbc\ufe0f",title:"Photo & Video Upload Portal",desc:"Secure family login to upload images (JPEG, PNG, WebP) and videos (MP4, MOV) with captions, event names, dates, and tags."},{icon:"\ud83d\uddc2\ufe0f",title:"Photo & Video Gallery",desc:"Filter by year, event, person, or location. Grid/slideshow view, fullscreen lightbox, download/share options."},{icon:"\ud83e\udded",title:"Events Section",desc:"Current, upcoming, and past events with photo streams, live updates, RSVP, countdowns, and archives."},{icon:"\ud83d\udcac",title:"Live Chat & Guestbook",desc:"Family/public chat, WhatsApp integration, guestbook for messages, memories, and photo comments."},{icon:"\ud83e\uddfe",title:"About the Ancestral House",desc:"History timeline, interactive family tree, architectural highlights, and renovation stories."},{icon:"\ud83d\udcdc",title:"Blog / Family Journal",desc:"Stories from elders, renovation diaries, cooking traditions, and local culture."},{icon:"\ud83d\udce5",title:"Contribution Section",desc:"Volunteer signup, donation gateway, polls, and feedback forms."}];const ut=function(){return(0,lt.jsxs)("div",{style:{position:"relative"},children:[(0,lt.jsxs)("div",{style:{padding:"2rem",maxWidth:1200,width:"100%",margin:"0 auto",background:"rgba(255,255,255,0.5)",borderRadius:"40px 8px 40px 8px"},children:[(0,lt.jsx)("h1",{style:{color:"#222",fontSize:"2rem",marginBottom:"1rem",position:"relative",zIndex:10,fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)",textAlign:"center"},children:"Welcome to The Moothedath Ancestral House Website"}),(0,lt.jsxs)("p",{style:{color:"#222",fontSize:"1rem",marginBottom:"1.5rem",position:"relative",zIndex:10,fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)",textAlign:"center"},children:["A digital heritage platform dedicated to preserving and celebrating the charm, legacy, and stories of your ancestral home. This website serves as a virtual showcase and community hub, offering a rich visual and interactive experience for family members, guests, and",(0,lt.jsx)("br",{}),"well-wishers."]}),(0,lt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem"},children:ct.map((e,t)=>(0,lt.jsxs)("div",{style:{background:"transparent",borderRadius:"40px 8px 40px 8px",padding:"1.2rem 1rem",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[(0,lt.jsx)("div",{style:{fontSize:"2.2rem",marginBottom:8},children:e.icon}),(0,lt.jsx)("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:6},children:e.title}),(0,lt.jsx)("div",{style:{color:"#28a745",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:e.desc})]},t))})]})," ",(0,lt.jsx)("div",{style:{textAlign:"center",padding:"0.5rem 0",marginTop:"0.5rem",marginBottom:"40px"},children:(0,lt.jsx)("div",{className:"developer-tag",style:{display:"inline-block",background:"rgba(255,255,255,0.3)",padding:"0.5rem 1rem",borderRadius:"6px",boxShadow:"0 1px 5px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.2)",animation:"pulse 2s ease-in-out infinite"},children:(0,lt.jsx)("p",{style:{color:"#ffffff",fontSize:"1rem",margin:0,fontWeight:"500",textShadow:"0 1px 2px rgba(255,255,255,0.6), 1px 1px 0px #000, -1px -1px 0px #000, 1px -1px 0px #000, -1px 1px 0px #000",animation:"rainbow 4s linear infinite"},children:"Developed by Rajesh Kumar Menon Moothedath"})})}),(0,lt.jsx)("div",{style:{position:"fixed",left:"50%",bottom:"calc(2rem - 5px)",transform:"translateX(-50%)",zIndex:9999,background:"rgba(255,255,255,0.85)",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",padding:"1rem 2rem",display:"inline-block",border:"1px solid rgba(40,167,69,0.15)"},children:(0,lt.jsx)("footer",{style:{color:"rgb(0,0,0)",fontSize:"0.9rem",margin:0,fontWeight:600,textShadow:"0 1px 3px rgba(255,255,255,0.8)"},children:"\xa9 2025 The Moothedath Ancestral House. All rights reserved. | Preserving family heritage and memories for generations to come."})}),(0,lt.jsx)("style",{children:"\n          @keyframes pulse {\n            0% { transform: scale(1); }\n            50% { transform: scale(1.05); }\n            100% { transform: scale(1); }\n          }\n          \n          @keyframes fadeIn {\n            from { opacity: 0; transform: translateY(10px); }\n            to { opacity: 1; transform: translateY(0); }\n          }\n          \n          @keyframes rainbow {\n            0% { color: #ff0000; }\n            14% { color: #ff8000; }\n            28% { color: #ffff00; }\n            42% { color: #00ff00; }\n            56% { color: #0080ff; }\n            70% { color: #8000ff; }\n            84% { color: #ff0080; }\n            100% { color: #ff0000; }\n          }\n        "})]})};var dt=n(253),ht=n(472);const ft=[{id:1,type:"image",url:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400",title:"Family Gathering 2024",year:2024,event:"Family Reunion",person:"All Family",location:"Thinnai",caption:"Annual family reunion in the traditional thinnai"},{id:2,type:"image",url:"https://images.unsplash.com/photo-1513694203232-719a280e022f?w=400",title:"Temple Festival",year:2023,event:"Temple Festival",person:"Community",location:"Temple",caption:"Traditional temple festival celebration"},{id:3,type:"image",url:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400",title:"Wedding Ceremony",year:2023,event:"Wedding",person:"Newlyweds",location:"Veranda",caption:"Beautiful wedding ceremony in the ancestral house"},{id:4,type:"image",url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400",title:"Pongal Celebration",year:2024,event:"Pongal",person:"Family",location:"Kitchen",caption:"Traditional Pongal cooking in the ancestral kitchen"},{id:5,type:"image",url:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400",title:"Prayer Room",year:2024,event:"Daily Prayer",person:"Elders",location:"Prayer Room",caption:"Morning prayers in the sacred prayer room"},{id:6,type:"image",url:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400",title:"Granary",year:2023,event:"Harvest",person:"Farmers",location:"Granary",caption:"Traditional granary storing harvested grains"}];const pt=function(){const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(!0),[o,a]=(0,e.useState)("All"),[s,l]=(0,e.useState)("All"),[c,u]=(0,e.useState)("All"),[d,h]=(0,e.useState)("All"),[f,p]=(0,e.useState)(null);(0,e.useEffect)(()=>{(async()=>{try{const e=(0,ht.P)((0,ht.rJ)(dt.db,"media"),(0,ht.My)("uploadDate","desc")),t=(await(0,ht.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));n(t.length>0?t:ft)}catch(e){n(ft)}finally{i(!1)}})()},[]);const m=[...new Set(t.map(e=>e.year))].sort((e,t)=>t-e),g=[...new Set(t.map(e=>e.event))],y=[...new Set(t.map(e=>e.person))],v=[...new Set(t.map(e=>e.location))],b=t.filter(e=>("All"===o||e.year===o)&&("All"===s||e.event===s)&&("All"===c||e.person===c)&&("All"===d||e.location===d));return(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{style:{padding:"2rem",maxWidth:1200,width:"100%",margin:"0 auto",background:"rgba(255,255,255,0.5)",borderRadius:"40px 8px 40px 8px",minHeight:"45vh"},children:[(0,lt.jsx)("h1",{style:{position:"relative",zIndex:10,color:"#222",fontSize:"2.2rem",marginBottom:"1.5rem",fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)"},children:"Photo & Video Gallery"}),(0,lt.jsx)("p",{style:{position:"relative",zIndex:10,color:"#222",fontSize:"1.15rem",marginBottom:"1.2rem",fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)"},children:"Explore memories from The Moothedath Ancestral House. Filter by year, event, person, or location."}),(0,lt.jsxs)("div",{style:{background:"transparent",padding:"1.2rem",borderRadius:12,marginBottom:"1rem",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",position:"relative",zIndex:2},children:"Year:"}),(0,lt.jsxs)("select",{value:o,onChange:e=>a(e.target.value),style:{width:"100%",padding:"0.5rem",borderRadius:6,border:"1px solid #ddd"},children:[(0,lt.jsx)("option",{value:"All",children:"All Years"},"all-years"),m.map((e,t)=>(0,lt.jsx)("option",{value:e,style:{position:"relative",zIndex:2},children:e},`year-${e}-${t}`))]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",position:"relative",zIndex:2},children:"Event:"}),(0,lt.jsxs)("select",{value:s,onChange:e=>l(e.target.value),style:{width:"100%",padding:"0.5rem",borderRadius:6,border:"1px solid #ddd"},children:[(0,lt.jsx)("option",{value:"All",children:"All Events"},"all-events"),g.map((e,t)=>(0,lt.jsx)("option",{value:e,style:{position:"relative",zIndex:2},children:e},`event-${e}-${t}`))]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",position:"relative",zIndex:2},children:"Person:"}),(0,lt.jsxs)("select",{value:c,onChange:e=>u(e.target.value),style:{width:"100%",padding:"0.5rem",borderRadius:6,border:"1px solid #ddd"},children:[(0,lt.jsx)("option",{value:"All",children:"All People"},"all-people"),y.map((e,t)=>(0,lt.jsx)("option",{value:e,style:{position:"relative",zIndex:2},children:e},`person-${e}-${t}`))]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",position:"relative",zIndex:2},children:"Location:"}),(0,lt.jsxs)("select",{value:d,onChange:e=>h(e.target.value),style:{width:"100%",padding:"0.5rem",borderRadius:6,border:"1px solid #ddd"},children:[(0,lt.jsx)("option",{value:"All",children:"All Locations"},"all-locations"),v.map((e,t)=>(0,lt.jsx)("option",{value:e,style:{position:"relative",zIndex:2},children:e},`location-${e}-${t}`))]})]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"0.5rem",color:"#28a745",position:"relative",zIndex:2,fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:["Showing ",b.length," of ",t.length," items"]}),(0,lt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1.5rem",position:"relative",zIndex:20},children:b.map(e=>(0,lt.jsxs)("div",{style:{},onMouseEnter:void 0,onMouseLeave:void 0,onClick:()=>p(e),children:[(0,lt.jsx)("img",{src:e.url&&e.url.trim()?e.url:"/default.jpg",alt:e.title,style:{width:"100%",height:200,objectFit:"cover"}}),(0,lt.jsxs)("div",{style:{padding:"0.5rem"},children:[(0,lt.jsx)("h3",{style:{margin:"0 0 0.2rem 0",color:"#222",position:"relative",zIndex:2},children:e.title}),(0,lt.jsx)("p",{style:{margin:"0 0 0.2rem 0",color:"#28a745",fontSize:"0.9rem",position:"relative",zIndex:2,textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:e.caption}),(0,lt.jsxs)("div",{style:{display:"flex",gap:"0.5rem",fontSize:"0.8rem",color:"#888",position:"relative",zIndex:2},children:[(0,lt.jsxs)("span",{children:["\ud83d\udcc5 ",e.year]}),(0,lt.jsxs)("span",{children:["\ud83c\udf89 ",e.event]}),(0,lt.jsxs)("span",{children:["\ud83d\udc65 ",e.person]}),(0,lt.jsxs)("span",{children:["\ud83d\udccd ",e.location]})]})]})]},e.id))}),f&&(0,lt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>p(null),children:(0,lt.jsxs)("div",{style:{maxWidth:"90vw",maxHeight:"90vh",position:"relative"},children:[(0,lt.jsx)("button",{onClick:()=>p(null),style:{position:"absolute",top:-40,right:0,background:"none",border:"none",color:"white",fontSize:"2rem",cursor:"pointer"},children:"\xd7"}),(0,lt.jsx)("img",{src:null!==f&&void 0!==f&&f.url&&null!==f&&void 0!==f&&f.url.trim()?f.url:"/default.jpg",alt:f.title,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}),(0,lt.jsxs)("div",{style:{position:"absolute",bottom:-60,left:0,right:0,color:"white",textAlign:"center"},children:[(0,lt.jsx)("h3",{children:f.title}),(0,lt.jsx)("p",{children:f.caption})]})]})})]}),(0,lt.jsx)("div",{style:{textAlign:"center",padding:"2rem 0",marginTop:"calc(2rem - 5px)"},children:(0,lt.jsx)("div",{style:{display:"inline-block",background:"rgba(255,255,255,0.5)",padding:"1rem 2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.3)"},children:(0,lt.jsx)("footer",{style:{color:"rgb(0,0,0)",fontSize:"0.9rem",margin:0,fontWeight:600,textShadow:"0 1px 3px rgba(255,255,255,0.8)"},children:"\xa9 2025 The Moothedath Ancestral House. All rights reserved. | Preserving family heritage and memories for generations to come."})})})]})},mt=[{id:1,title:"Family Reunion 2025",date:"2025-01-15",time:"10:00 AM",location:"Moothedath Ancestral House",description:"Annual family reunion with traditional feast and cultural programs",status:"ongoing",attendees:45,maxAttendees:60,photos:["https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400"],updates:[{time:"2 hours ago",message:"Traditional feast preparation started"},{time:"4 hours ago",message:"Family members arriving from different cities"}]}],gt=[{id:4,title:"Wedding Ceremony",date:"2024-12-15",location:"Veranda & Thinnai",description:"Beautiful wedding ceremony of family members",attendees:80,photos:["https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400"],guestbook:[{name:"Uncle John",message:"Beautiful ceremony, blessed memories!"},{name:"Aunt Mary",message:"The ancestral house looked magnificent"}]},{id:5,title:"Temple Festival 2024",date:"2024-11-10",location:"Family Temple",description:"Annual temple festival with community participation",attendees:120,photos:["https://images.unsplash.com/photo-1513694203232-719a280e022f?w=400"]}];function yt(t){let{targetDate:n}=t;const[r,i]=(0,e.useState)({});return e.useEffect(()=>{const e=setInterval(()=>{const e=(new Date).getTime(),t=new Date(n).getTime()-e;t>0&&i({days:Math.floor(t/864e5),hours:Math.floor(t%864e5/36e5),minutes:Math.floor(t%36e5/6e4),seconds:Math.floor(t%6e4/1e3)})},1e3);return()=>clearInterval(e)},[n]),(0,lt.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[(0,lt.jsxs)("div",{style:{textAlign:"center",background:"transparent",padding:"0.5rem",borderRadius:8,minWidth:60},children:[(0,lt.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dc3545"},children:r.days||0}),(0,lt.jsx)("div",{style:{fontSize:"0.8rem",color:"#666"},children:"Days"})]}),(0,lt.jsxs)("div",{style:{textAlign:"center",background:"transparent",padding:"0.5rem",borderRadius:8,minWidth:60},children:[(0,lt.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dc3545"},children:r.hours||0}),(0,lt.jsx)("div",{style:{fontSize:"0.8rem",color:"#666"},children:"Hours"})]}),(0,lt.jsxs)("div",{style:{textAlign:"center",background:"transparent",padding:"0.5rem",borderRadius:8,minWidth:60},children:[(0,lt.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dc3545"},children:r.minutes||0}),(0,lt.jsx)("div",{style:{fontSize:"0.8rem",color:"#666"},children:"Minutes"})]}),(0,lt.jsxs)("div",{style:{textAlign:"center",background:"transparent",padding:"0.5rem",borderRadius:8,minWidth:60},children:[(0,lt.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dc3545"},children:r.seconds||0}),(0,lt.jsx)("div",{style:{fontSize:"0.8rem",color:"#666"},children:"Seconds"})]})]})}const vt=function(){const[t,n]=(0,e.useState)("current"),[r,i]=(0,e.useState)({}),[o,a]=(0,e.useState)(!1),[s,l]=(0,e.useState)({title:"",date:"",location:"Veluthanmarude Temple",poojaType:"",contributor:"",otherLocation:""}),[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)(!0);(0,e.useEffect)(()=>{const e=(0,ht.P)((0,ht.rJ)(dt.db,"upcomingEvents"),(0,ht.My)("date","asc")),t=(0,ht.aQ)(e,e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));u(t),h(!1)});return()=>t()},[]);const f=async(e,t)=>{i(n=>{const r=n[e];if(r===t)return n;const i=c.find(t=>t.id===e);if(!i)return n;let o=i.attendees;return"yes"===t&&"yes"!==r&&o<i.maxAttendees?o++:"no"===t&&"yes"===r&&o>0&&o--,(0,ht.mZ)((0,ht.H9)(dt.db,"upcomingEvents",e),{attendees:o}),{...n,[e]:t}})},p=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("div",{style:{padding:"2rem",maxWidth:1200,width:"100%",margin:"0 auto",background:"rgba(255,255,255,0.5)",borderRadius:"40px 8px 40px 8px",height:"auto"},children:[(0,lt.jsx)("h1",{style:{position:"relative",zIndex:10,color:"#222",fontSize:"2.2rem",marginBottom:"1.5rem",fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)"},children:"\ud83e\udded Events Section"}),(0,lt.jsx)("p",{style:{color:"#222",fontSize:"1.15rem",marginBottom:"2.5rem",position:"relative",zIndex:10,fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)"},children:"Stay connected with family events, celebrations, and important occasions at The Moothedath Ancestral House."}),(0,lt.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem"},children:[(0,lt.jsxs)("button",{onClick:()=>n("current"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"transparent",color:"current"===t?"#007bff":"#333",cursor:"pointer",fontWeight:"current"===t?"bold":"normal"},children:["Current Events (",mt.length,")"]}),(0,lt.jsxs)("button",{onClick:()=>n("upcoming"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"transparent",color:"upcoming"===t?"#007bff":"#333",cursor:"pointer",fontWeight:"upcoming"===t?"bold":"normal"},children:["Upcoming Events (",c.length,")"]}),(0,lt.jsxs)("button",{onClick:()=>n("past"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"transparent",color:"past"===t?"#007bff":"#333",cursor:"pointer",fontWeight:"past"===t?"bold":"normal"},children:["Past Events (",gt.length,")"]})]}),"upcoming"===t&&(0,lt.jsx)("div",{style:{marginBottom:"1.5rem",textAlign:"right"},children:(0,lt.jsx)("button",{onClick:()=>a(!0),style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:8,fontSize:"1.1rem",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,123,255,0.12)"},children:"+ Upload Event"})}),o&&(0,lt.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:(0,lt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t="Other Location"===s.location?s.otherLocation:s.location;await(0,ht.gS)((0,ht.rJ)(dt.db,"upcomingEvents"),{title:s.title,date:s.date,time:"",location:t,description:s.poojaType,contributor:s.contributor,status:"upcoming",attendees:0,maxAttendees:30,countdown:s.date?`${s.date}T00:00:00`:""}),a(!1),l({title:"",date:"",location:"Veluthanmarude Temple",poojaType:"",contributor:"",otherLocation:""})},style:{background:"white",padding:32,borderRadius:16,minWidth:350,maxWidth:420,width:"90%",boxShadow:"0 4px 24px rgba(0,0,0,0.2)",color:"#222",display:"flex",flexDirection:"column",gap:16},children:[(0,lt.jsx)("h2",{style:{marginTop:0,color:"#007bff"},children:"Upload New Event"}),(0,lt.jsx)("label",{htmlFor:"event-title",children:"Event Name"}),(0,lt.jsx)("input",{id:"event-title",name:"title",type:"text",value:s.title,onChange:e=>l(t=>({...t,title:e.target.value})),required:!0,style:{width:"100%",marginBottom:8}}),(0,lt.jsx)("label",{htmlFor:"event-date",children:"Date"}),(0,lt.jsx)("input",{id:"event-date",name:"date",type:"date",value:s.date,onChange:e=>l(t=>({...t,date:e.target.value})),required:!0,style:{width:"100%",marginBottom:8}}),(0,lt.jsx)("label",{htmlFor:"event-location",children:"Location"}),(0,lt.jsxs)("select",{id:"event-location",name:"location",value:s.location,onChange:e=>l(t=>({...t,location:e.target.value})),style:{width:"100%",marginBottom:8},children:[(0,lt.jsx)("option",{value:"Veluthanmarude Temple",children:"Veluthanmarude Temple"}),(0,lt.jsx)("option",{value:"Moothedath Ancestral House",children:"Moothedath Ancestral House"}),(0,lt.jsx)("option",{value:"Kandakarnan Temple",children:"Kandakarnan Temple"}),(0,lt.jsx)("option",{value:"Other Location",children:"Other Location"})]}),"Other Location"===s.location&&(0,lt.jsx)("input",{id:"event-other-location",name:"otherLocation",type:"text",value:s.otherLocation||"",onChange:e=>l(t=>({...t,otherLocation:e.target.value})),style:{width:"100%",marginBottom:8},placeholder:"Type the location here"}),(0,lt.jsx)("label",{htmlFor:"event-poojaType",children:"Type of Pooja"}),(0,lt.jsx)("input",{id:"event-poojaType",name:"poojaType",type:"text",value:s.poojaType,onChange:e=>l(t=>({...t,poojaType:e.target.value})),required:!0,style:{width:"100%",marginBottom:8},placeholder:"e.g. Sacred ceremony for temple renovation and consecration"}),(0,lt.jsx)("label",{htmlFor:"event-contributor",children:"Pooja Contributed by"}),(0,lt.jsx)("input",{id:"event-contributor",name:"contributor",type:"text",value:s.contributor||"",onChange:e=>l(t=>({...t,contributor:e.target.value})),style:{width:"100%",marginBottom:8},placeholder:"e.g. Family of Suresh Kumar"}),(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[(0,lt.jsx)("button",{type:"button",onClick:()=>a(!1),style:{background:"#ccc",border:"none",borderRadius:6,padding:"0.5rem 1rem"},children:"Cancel"}),(0,lt.jsx)("button",{type:"submit",style:{background:"#007bff",color:"white",border:"none",borderRadius:6,padding:"0.5rem 1rem"},children:"Submit"})]})]})}),"current"===t&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem",position:"relative",zIndex:2},children:"\ud83c\udf89 Current Events"}),mt.map(e=>(0,lt.jsxs)("div",{style:{background:"transparent",borderRadius:12,padding:"2rem",marginBottom:"1.5rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",border:"2px solid #28a745"},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{style:{color:"#222",fontSize:"1.4rem",margin:"0 0 0.5rem 0",position:"relative",zIndex:2},children:e.title}),(0,lt.jsxs)("p",{style:{color:"#28a745",margin:"0 0 0.5rem 0",position:"relative",zIndex:2,fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:["\ud83d\udcc5 ",p(e.date)," at ",e.time]}),(0,lt.jsxs)("p",{style:{color:"#28a745",margin:"0 0 0.5rem 0",position:"relative",zIndex:2,fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:["\ud83d\udccd ",e.location]}),(0,lt.jsx)("p",{style:{color:"#28a745",margin:"0 0 1rem 0",position:"relative",zIndex:2,fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:e.description})]}),(0,lt.jsx)("div",{style:{background:"#28a745",color:"white",padding:"0.5rem 1rem",borderRadius:20,fontSize:"0.9rem",fontWeight:"bold"},children:"LIVE NOW"})]}),(0,lt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h4",{style:{color:"#333",marginBottom:"0.5rem"},children:"\ud83d\udcca Attendance"}),(0,lt.jsxs)("div",{style:{background:"transparent",padding:"1rem",borderRadius:8},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,lt.jsxs)("span",{children:["Attendees: ",e.attendees,"/",e.maxAttendees]}),(0,lt.jsxs)("span",{children:[Math.round(e.attendees/e.maxAttendees*100),"%"]})]}),(0,lt.jsx)("div",{style:{background:"#e9ecef",height:8,borderRadius:4,overflow:"hidden"},children:(0,lt.jsx)("div",{style:{background:"#28a745",height:"100%",width:e.attendees/e.maxAttendees*100+"%"}})})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h4",{style:{color:"#333",marginBottom:"0.5rem"},children:"\ud83d\udcf8 Live Updates"}),(0,lt.jsx)("div",{style:{maxHeight:200,overflowY:"auto"},children:e.updates.map((e,t)=>(0,lt.jsxs)("div",{style:{background:"transparent",padding:"0.75rem",borderRadius:8,marginBottom:"0.5rem"},children:[(0,lt.jsx)("div",{style:{fontSize:"0.8rem",color:"#666",marginBottom:"0.25rem"},children:e.time}),(0,lt.jsx)("div",{children:e.message})]},t))})]})]})]},e.id))]}),"upcoming"===t&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udcc5 Upcoming Events"}),d?(0,lt.jsx)("p",{children:"Loading..."}):(0,lt.jsx)("div",{style:{display:"grid",gap:"1.5rem"},children:c.map(e=>(0,lt.jsxs)("div",{style:{background:"transparent",borderRadius:12,padding:"2rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",border:"2px solid #007bff"},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{style:{color:"#222",fontSize:"1.4rem",margin:"0 0 0.5rem 0"},children:e.title}),(0,lt.jsxs)("p",{style:{color:"#28a745",margin:"0 0 0.5rem 0",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:["\ud83d\udcc5 ",p(e.date)," at ",e.time]}),(0,lt.jsxs)("p",{style:{color:"#28a745",margin:"0 0 0.5rem 0",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:["\ud83d\udccd ",e.location]}),(0,lt.jsx)("p",{style:{color:"#28a745",margin:"0 0 1rem 0",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:e.description})]}),(0,lt.jsx)("div",{style:{background:"#007bff",color:"white",padding:"0.5rem 1rem",borderRadius:20,fontSize:"0.9rem",fontWeight:"bold"},children:"UPCOMING"})]}),(0,lt.jsx)(yt,{targetDate:e.countdown}),(0,lt.jsxs)("div",{style:{marginTop:"1.5rem"},children:[(0,lt.jsx)("h4",{style:{color:"#333",marginBottom:"0.5rem"},children:"RSVP"}),(0,lt.jsxs)("div",{style:{display:"flex",gap:"2rem",marginBottom:"1rem",alignItems:"center"},children:[(0,lt.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",gap:6},children:[(0,lt.jsx)("input",{type:"radio",name:`rsvp-${e.id}`,checked:"yes"===r[e.id],onChange:()=>f(e.id,"yes"),style:{marginRight:6}}),(0,lt.jsx)("span",{style:{color:"yes"===r[e.id]?"#28a745":"#333",fontWeight:"yes"===r[e.id]?"bold":"normal"},children:"\u2705 Yes, I'll attend"})]}),(0,lt.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",gap:6},children:[(0,lt.jsx)("input",{type:"radio",name:`rsvp-${e.id}`,checked:"no"===r[e.id],onChange:()=>f(e.id,"no"),style:{marginRight:6}}),(0,lt.jsx)("span",{style:{color:"no"===r[e.id]?"#dc3545":"#333",fontWeight:"no"===r[e.id]?"bold":"normal"},children:"\u274c No, I can't attend"})]})]}),(0,lt.jsxs)("div",{style:{background:"transparent",padding:"1rem",borderRadius:8},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,lt.jsxs)("span",{children:["Attendees: ",e.attendees,"/",e.maxAttendees]}),(0,lt.jsxs)("span",{children:[Math.round(e.attendees/e.maxAttendees*100),"%"]})]}),(0,lt.jsx)("div",{style:{background:"#e9ecef",height:8,borderRadius:4,overflow:"hidden"},children:(0,lt.jsx)("div",{style:{background:"#007bff",height:"100%",width:e.attendees/e.maxAttendees*100+"%"}})})]})]})]},e.id))})]}),"past"===t&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udcda Past Events Archive"}),(0,lt.jsx)("div",{style:{display:"grid",gap:"1.5rem"},children:gt.map(e=>(0,lt.jsxs)("div",{style:{background:"transparent",borderRadius:12,padding:"2rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",border:"2px solid #6c757d"},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{style:{color:"#222",fontSize:"1.4rem",margin:"0 0 0.5rem 0"},children:e.title}),(0,lt.jsxs)("p",{style:{color:"#28a745",margin:"0 0 0.5rem 0",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:["\ud83d\udcc5 ",p(e.date)]}),(0,lt.jsxs)("p",{style:{color:"#28a745",margin:"0 0 0.5rem 0",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:["\ud83d\udccd ",e.location]}),(0,lt.jsx)("p",{style:{color:"#28a745",margin:"0 0 1rem 0",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:e.description}),(0,lt.jsxs)("p",{style:{color:"#666",margin:"0 0 1rem 0"},children:["\ud83d\udc65 Attendees: ",e.attendees]})]}),(0,lt.jsx)("div",{style:{background:"#6c757d",color:"white",padding:"0.5rem 1rem",borderRadius:20,fontSize:"0.9rem",fontWeight:"bold"},children:"COMPLETED"})]}),e.photos&&(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("h4",{style:{color:"#333",marginBottom:"0.5rem"},children:"\ud83d\udcf8 Event Photos"}),(0,lt.jsx)("div",{style:{display:"flex",gap:"1rem",overflowX:"auto"},children:e.photos.map((t,n)=>(0,lt.jsx)("img",{src:t&&t.trim()?t:"default.jpg",alt:e.title,style:{width:120,height:80,objectFit:"cover",borderRadius:8,cursor:"pointer"}},n))})]}),e.guestbook&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h4",{style:{color:"#333",marginBottom:"0.5rem"},children:"\ud83d\udcac Guestbook Entries"}),(0,lt.jsx)("div",{style:{maxHeight:200,overflowY:"auto"},children:e.guestbook.map((e,t)=>(0,lt.jsxs)("div",{style:{background:"transparent",padding:"0.75rem",borderRadius:8,marginBottom:"0.5rem"},children:[(0,lt.jsx)("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:e.name}),(0,lt.jsx)("div",{children:e.message})]},t))})]})]},e.id))})]})]}),(0,lt.jsx)("div",{style:{textAlign:"center",padding:"2rem 0",marginTop:"calc(2rem - 5px)"},children:(0,lt.jsx)("div",{style:{display:"inline-block",background:"rgba(255,255,255,0.5)",padding:"1rem 2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.3)"},children:(0,lt.jsx)("footer",{style:{color:"rgb(0,0,0)",fontSize:"0.9rem",margin:0,fontWeight:600,textShadow:"0 1px 3px rgba(255,255,255,0.8)"},children:"\xa9 2025 The Moothedath Ancestral House. All rights reserved. | Preserving family heritage and memories for generations to come."})})})]})},bt=[{year:"1980",title:"Temple Addition",description:"Built the family temple in the courtyard, becoming the spiritual center of the house.",image:"https://images.unsplash.com/photo-1513694203232-719a280e022f?w=400"},{year:"2015",title:"Modern Renovation",description:"Updated electrical systems and added modern amenities while preserving traditional architecture.",image:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400"},{year:"2020",title:"Heritage Restoration",description:"Comprehensive restoration project to preserve the house for future generations.",image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400"},{year:"2025",title:"Centenary Celebration",description:"Celebrating 100 years of the ancestral house with a grand family reunion and cultural events.",image:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400"}],wt=[{name:"Thinnai (Front Porch)",description:"Traditional front porch where family members gather for evening conversations and welcome guests.",features:["Traditional wooden pillars","Clay tile roof","Built-in seating","Decorative carvings"],image:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400",yearBuilt:"1920"},{name:"Veranda",description:"Extended veranda added in 1950, serves as a multipurpose space for family activities and celebrations.",features:["Open-air design","Traditional flooring","Ceiling fans","Family gathering space"],image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400",yearBuilt:"1950"},{name:"Kitchen",description:"Traditional kitchen with modern amenities, where family recipes have been passed down for generations.",features:["Wood-burning stove","Modern appliances","Traditional storage","Family dining area"],image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400",yearBuilt:"1920"},{name:"Prayer Room",description:"Sacred space for daily prayers and spiritual activities, decorated with traditional motifs.",features:["Sacred altar","Traditional lamps","Prayer mats","Religious artifacts"],image:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400",yearBuilt:"1920"},{name:"Temple",description:"Family temple built in 1980, serving as the spiritual center for religious ceremonies and festivals.",features:["Traditional architecture","Sacred idols","Bell tower","Courtyard space"],image:"https://images.unsplash.com/photo-1513694203232-719a280e022f?w=400",yearBuilt:"1980"},{name:"Granary",description:"Traditional storage area for grains and agricultural produce, built with natural cooling systems.",features:["Natural ventilation","Traditional storage bins","Cooling system","Agricultural tools"],image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400",yearBuilt:"1920"}],xt=[{title:"The Great Kitchen Renovation of 2005",author:"Grandmother",date:"2005",story:"When we decided to modernize the kitchen, we faced a challenge: how to preserve the traditional charm while adding modern conveniences. We kept the original wood-burning stove as a centerpiece and added modern appliances around it. The result was perfect - we could cook traditional recipes while enjoying modern efficiency.",images:["https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400"]},{title:"Restoring the Temple Courtyard",author:"Father",date:"2020",story:"The temple courtyard had fallen into disrepair over the years. During the 2020 restoration, we discovered original stone carvings that had been hidden under layers of paint. The restoration team carefully preserved these ancient designs while strengthening the structure for future generations.",images:["https://images.unsplash.com/photo-1513694203232-719a280e022f?w=400"]},{title:"The Thinnai Restoration",author:"Uncle",date:"2018",story:"The front porch (thinnai) is where our family has gathered for generations. When we restored it, we found that the wooden pillars were still strong despite being 100 years old. We replaced only the damaged parts and preserved the original design, ensuring that future generations can enjoy the same traditional gathering space.",images:["https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400"]}];const St=function(){const[t,n]=(0,e.useState)("history");return(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{style:{padding:"2rem",maxWidth:1200,width:"100%",margin:"0 auto",background:"rgba(255,255,255,0.5)",borderRadius:"40px 8px 40px 8px",minHeight:"calc(100vh - 120px)",height:"auto"},children:[(0,lt.jsx)("h1",{style:{position:"relative",zIndex:2,color:"#222",fontSize:"2.2rem",marginBottom:"1.5rem"},children:"\ud83e\uddfe About The Moothedath Ancestral House"}),(0,lt.jsx)("p",{style:{color:"#28a745",fontSize:"1.15rem",marginBottom:"2.5rem",position:"relative",zIndex:2,textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:"Discover the rich history, architectural beauty, and family stories that make our ancestral house a living heritage."}),(0,lt.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem"},children:[(0,lt.jsx)("button",{onClick:()=>n("history"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"history"===t?"#007bff":"#f8f9fa",color:"history"===t?"white":"#333",cursor:"pointer",fontWeight:"history"===t?"bold":"normal",position:"relative",zIndex:2},children:"History Timeline"}),(0,lt.jsx)("button",{onClick:()=>n("family"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"family"===t?"#007bff":"#f8f9fa",color:"family"===t?"white":"#333",cursor:"pointer",fontWeight:"family"===t?"bold":"normal"},children:"Family Tree"}),(0,lt.jsx)("button",{onClick:()=>n("architecture"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"architecture"===t?"#007bff":"#f8f9fa",color:"architecture"===t?"white":"#333",cursor:"pointer",fontWeight:"architecture"===t?"bold":"normal"},children:"Architecture"}),(0,lt.jsx)("button",{onClick:()=>n("renovations"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"renovations"===t?"#007bff":"#f8f9fa",color:"renovations"===t?"white":"#333",cursor:"pointer",fontWeight:"renovations"===t?"bold":"normal"},children:"Renovation Stories"})]}),"history"===t&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"2.1rem",marginBottom:"1rem"},children:"\ud83d\udcdc History Timeline"}),(0,lt.jsx)("div",{style:{position:"relative",display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"2rem"},children:bt.map((e,t)=>(0,lt.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",position:"relative"},children:[(0,lt.jsx)("div",{style:{width:100,textAlign:"center",marginRight:"2rem"},children:(0,lt.jsx)("div",{style:{background:"#007bff",color:"white",padding:"0.5rem",borderRadius:8,fontWeight:"bold"},children:e.year})}),(0,lt.jsxs)("div",{style:{flex:"none",width:300,background:"#fff",padding:"1.5rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,lt.jsx)("div",{style:{position:"absolute",left:-10,top:"50%",transform:"translateY(-50%)",width:0,height:0,borderTop:"10px solid transparent",borderBottom:"10px solid transparent",borderRight:"10px solid #fff"}}),(0,lt.jsx)("h3",{style:{color:"#222",margin:"0 0 0.5rem 0",textAlign:"center"},children:e.title}),(0,lt.jsx)("p",{style:{color:"#28a745",margin:"0 0 1rem 0",textAlign:"center",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:e.description}),(0,lt.jsx)("img",{src:e.image&&e.image.trim()?e.image:"/default.jpg",alt:e.title,style:{width:"100%",maxWidth:300,height:200,objectFit:"cover",borderRadius:8}})]})]},t))})]}),"family"===t&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"2.1rem",marginBottom:"1rem",textAlign:"center"},children:"\ud83c\udf33 Family Tree"}),(0,lt.jsx)("div",{style:{textAlign:"center"},children:(0,lt.jsx)("img",{src:"/Family%20Tree.jpg",alt:"Family Tree",style:{maxWidth:"100%",borderRadius:16,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})})]}),"architecture"===t&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"2.1rem",marginBottom:"1rem"},children:"\ud83c\udfdb\ufe0f Architectural Highlights"}),(0,lt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem"},children:wt.map((e,t)=>(0,lt.jsxs)("div",{style:{background:"#fff",borderRadius:12,overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,lt.jsx)("img",{src:e.image&&e.image.trim()?e.image:"/default.jpg",alt:e.name,style:{width:"100%",height:200,objectFit:"cover"}}),(0,lt.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,lt.jsx)("h3",{style:{color:"#222",margin:0},children:e.name}),(0,lt.jsx)("span",{style:{background:"#007bff",color:"white",padding:"0.25rem 0.5rem",borderRadius:4,fontSize:"0.8rem"},children:e.yearBuilt})]}),(0,lt.jsx)("p",{style:{color:"#28a745",margin:"0 0 1rem 0",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:e.description}),(0,lt.jsx)("h4",{style:{color:"#333",marginBottom:"0.5rem"},children:"Key Features:"}),(0,lt.jsx)("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:e.features.map((e,t)=>(0,lt.jsx)("li",{style:{color:"#666",marginBottom:"0.25rem"},children:e},t))})]})]},t))})]}),"renovations"===t&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"2.1rem",marginBottom:"1rem"},children:"\ud83d\udd28 Renovation Stories"}),(0,lt.jsx)("div",{style:{display:"grid",gap:"2rem"},children:xt.map((e,t)=>(0,lt.jsxs)("div",{style:{background:"#fff",borderRadius:12,padding:"2rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[(0,lt.jsx)("h3",{style:{color:"#222",margin:0},children:e.title}),(0,lt.jsxs)("div",{style:{textAlign:"right"},children:[(0,lt.jsxs)("div",{style:{color:"#666",fontSize:"0.9rem"},children:["By ",e.author]}),(0,lt.jsx)("div",{style:{color:"#007bff",fontWeight:"bold"},children:e.date})]})]}),(0,lt.jsx)("p",{style:{color:"#28a745",lineHeight:1.6,marginBottom:"1rem",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:e.story}),e.images&&(0,lt.jsx)("div",{style:{display:"flex",gap:"1rem",overflowX:"auto"},children:e.images.map((t,n)=>(0,lt.jsx)("img",{src:t&&t.trim()?t:"/default.jpg",alt:e.title,style:{width:200,height:150,objectFit:"cover",borderRadius:8,cursor:"pointer"}},n))})]},t))})]})]}),(0,lt.jsx)("div",{style:{textAlign:"center",padding:"2rem 0",marginTop:"calc(2rem - 5px)"},children:(0,lt.jsx)("div",{style:{display:"inline-block",background:"rgba(255,255,255,0.5)",padding:"1rem 2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.3)"},children:(0,lt.jsx)("footer",{style:{color:"rgb(0,0,0)",fontSize:"0.9rem",margin:0,fontWeight:600,textShadow:"0 1px 3px rgba(255,255,255,0.8)"},children:"\xa9 2025 The Moothedath Ancestral House. All rights reserved. | Preserving family heritage and memories for generations to come."})})})]})},kt=[{id:1,title:"Grandmother's Kitchen Secrets",author:"Grandmother Lakshmi",date:"2024-12-15",category:"Cooking Traditions",tags:["recipes","traditional","kitchen","family"],excerpt:"The secrets of our family's traditional cooking methods that have been passed down through generations...",content:"The kitchen in our ancestral house has always been the heart of our family. Every morning, the aroma of freshly ground spices fills the air, and the sound of the traditional stone grinder echoes through the house.\n\nMy grandmother taught me that cooking is not just about following recipes - it's about love, patience, and understanding the ingredients. She would say, \"The rice knows when you're cooking with love, and the curry tastes different when you're in a hurry.\"\n\nOur traditional recipes have been preserved for over a century. The secret to our family's famous fish curry lies not just in the spices, but in the way we prepare them. Each spice is roasted separately, ground fresh, and added at the perfect moment.\n\nThe kitchen also serves as our family's gathering place. While cooking, we share stories, solve family problems, and plan celebrations. It's where the elders pass down wisdom and the young ones learn about our culture.\n\nI remember my grandmother saying, \"This kitchen has seen more family discussions than any other room in the house.\" And she was right. From wedding preparations to festival cooking, every important family event has been planned and celebrated in this sacred space.",image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400",readTime:"5 min read",likes:24,comments:8},{id:2,title:"The Story of Our Temple",author:"Grandfather Rajan",date:"2024-11-20",category:"Family History",tags:["temple","spiritual","history","traditions"],excerpt:"How our family temple came to be and the spiritual significance it holds for our family...",content:"Our family temple was not built overnight. It was a dream that my father carried in his heart for many years. In 1980, after years of saving and planning, we finally began construction.\n\nThe temple was designed following traditional Kerala temple architecture. Every detail, from the stone carvings to the wooden pillars, was chosen with care. My father would spend hours supervising the construction, ensuring that every element was perfect.\n\nThe consecration ceremony was a grand affair that brought together our entire family and the local community. It was a day filled with prayers, traditional music, and the blessings of our ancestors.\n\nToday, the temple serves as the spiritual center of our family. Every morning, we gather here for prayers, and every evening, the sound of temple bells fills the air. It's a place where we find peace, seek guidance, and connect with our spiritual roots.\n\nThe temple has witnessed many important moments in our family's history - from daily prayers to special ceremonies, from family gatherings to individual moments of reflection. It's more than just a place of worship; it's a living part of our family's story.",image:"https://images.unsplash.com/photo-1513694203232-719a280e022f?w=400",readTime:"7 min read",likes:31,comments:12},{id:3,title:"Renovation Diary: Preserving the Past",author:"Father Mohan",date:"2024-10-10",category:"Renovation Diaries",tags:["renovation","preservation","architecture","heritage"],excerpt:"Our journey to restore and preserve the ancestral house while maintaining its traditional charm...",content:"When we decided to renovate our ancestral house, we faced a unique challenge: how to modernize while preserving the traditional character that makes this house special.\n\nThe renovation project began in 2020 and took nearly two years to complete. We worked with architects who specialized in heritage conservation to ensure that every change respected the original design.\n\nOne of the biggest challenges was the electrical system. The old wiring needed to be completely replaced, but we wanted to maintain the traditional look. We found a solution by hiding modern wiring behind traditional wooden panels.\n\nThe roof was another major concern. The original clay tiles were beautiful but had started to leak. Instead of replacing them with modern materials, we sourced traditional tiles from the same region and restored the original pattern.\n\nThroughout the renovation, we discovered many hidden treasures - original carvings that had been painted over, traditional storage spaces that had been forgotten, and architectural details that told the story of our house's evolution.\n\nThe most rewarding part was seeing the house come back to life. Every room now has modern amenities while maintaining its traditional character. The house is ready to serve our family for another century.",image:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400",readTime:"8 min read",likes:45,comments:15},{id:4,title:"Local Culture: Festivals and Traditions",author:"Aunt Meera",date:"2024-09-15",category:"Local Culture",tags:["festivals","traditions","culture","community"],excerpt:"How our family celebrates local festivals and preserves cultural traditions...",content:"Our ancestral house has always been a center for cultural celebrations. Every festival is an opportunity to bring the family together and pass down traditions to the next generation.\n\nPongal is one of our most important celebrations. The entire family gathers in the kitchen to prepare the traditional Pongal dish. The children learn the significance of each ingredient and the proper way to cook it. It's not just about the food; it's about gratitude for nature's bounty.\n\nDuring Onam, our house transforms into a celebration of Kerala's culture. We create traditional flower arrangements, prepare the grand Onam feast, and wear traditional attire. The children participate in cultural programs, learning traditional songs and dances.\n\nThe temple festivals are another highlight. Our family temple becomes the center of community celebrations, with people from surrounding areas joining us for prayers and cultural programs.\n\nThese celebrations are not just about tradition; they're about strengthening family bonds and creating memories that last a lifetime. Every festival brings new stories, new experiences, and new connections with our cultural roots.\n\nI believe that preserving these traditions is essential for maintaining our family's identity and passing on our cultural heritage to future generations.",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400",readTime:"6 min read",likes:28,comments:9},{id:5,title:"Stories from My Childhood",author:"Uncle Suresh",date:"2024-08-20",category:"Family Stories",tags:["childhood","memories","family","nostalgia"],excerpt:"Memories of growing up in the ancestral house and the lessons learned from family elders...",content:"Growing up in this ancestral house was a magical experience. Every corner of the house has a story, every room holds memories of family gatherings and celebrations.\n\nThe thinnai (front porch) was my favorite place as a child. It's where I would sit with my grandfather and listen to stories about our family's history. He would tell me about the people who built this house, the challenges they faced, and the values they lived by.\n\nThe kitchen was another special place. My grandmother would let me help with simple tasks like grinding spices or washing rice. She would tell me that cooking is a form of meditation, a way to show love to your family.\n\nThe courtyard was our playground. We would play traditional games, learn about plants and trees, and spend hours exploring every nook and cranny. The elders would supervise our play, teaching us about respect for nature and family traditions.\n\nThe most important lesson I learned was about family unity. In this house, everyone had a role to play, from the youngest child to the oldest elder. We learned to work together, support each other, and celebrate our differences.\n\nToday, as I watch my own children grow up in the same house, I realize how fortunate we are to have this connection to our past. The house is not just a building; it's a living testament to our family's values and traditions.",image:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400",readTime:"9 min read",likes:52,comments:18}],Et=["All","Cooking Traditions","Family History","Renovation Diaries","Local Culture","Family Stories"];const _t=function(){const[t,n]=(0,e.useState)("All"),[r,i]=(0,e.useState)(""),[o,a]=(0,e.useState)(null),s=kt.filter(e=>{const n="All"===t||e.category===t,i=e.title.toLowerCase().includes(r.toLowerCase())||e.content.toLowerCase().includes(r.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(r.toLowerCase()));return n&&i}),l=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{style:{padding:"2rem",maxWidth:1200,width:"100%",margin:"0 auto",background:"rgba(255,255,255,0.5)",borderRadius:"40px 8px 40px 8px",minHeight:"45vh"},children:[(0,lt.jsx)("h1",{style:{position:"relative",zIndex:10,color:"#222",fontSize:"2rem",marginBottom:"1rem",fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)"},children:"\ud83d\udcdc Blog / Family Journal"}),(0,lt.jsx)("p",{style:{color:"#222",marginBottom:"2rem",position:"relative",zIndex:10,fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)"},children:"Stories from elders, renovation diaries, cooking traditions, and local culture - preserving our family's heritage through words."}),(0,lt.jsxs)("div",{style:{background:"transparent",padding:"1.5rem",borderRadius:12,marginBottom:"2rem",display:"grid",gridTemplateColumns:"1fr auto",gap:"1rem",alignItems:"center"},children:[(0,lt.jsx)("input",{type:"text",placeholder:"Search stories, recipes, traditions...",value:r,onChange:e=>i(e.target.value),style:{padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,fontSize:"1rem"}}),(0,lt.jsx)("select",{value:t,onChange:e=>n(e.target.value),style:{padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,fontSize:"1rem",minWidth:150},children:Et.map(e=>(0,lt.jsx)("option",{value:e,children:e},e))})]}),!o&&(0,lt.jsx)("div",{style:{display:"grid",gap:"2rem"},children:s.map(e=>(0,lt.jsx)("div",{style:{background:"transparent",borderRadius:12,overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:e=>e.target.style.transform="scale(1.02)",onMouseLeave:e=>e.target.style.transform="scale(1)",onClick:()=>a(e),children:(0,lt.jsxs)("div",{style:{display:"flex"},children:[(0,lt.jsx)("img",{src:e.image&&e.image.trim()?e.image:"default.jpg",alt:e.title,style:{width:200,height:200,objectFit:"cover"}}),(0,lt.jsxs)("div",{style:{padding:"1.5rem",flex:1},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[(0,lt.jsx)("span",{style:{background:"#007bff",color:"white",padding:"0.25rem 0.75rem",borderRadius:20,fontSize:"0.8rem"},children:e.category}),(0,lt.jsx)("span",{style:{color:"#666",fontSize:"0.9rem"},children:e.readTime})]}),(0,lt.jsx)("h3",{style:{position:"relative",zIndex:2,color:"#222",fontSize:"1.3rem",margin:"0 0 0.5rem 0"},children:e.title}),(0,lt.jsxs)("p",{style:{position:"relative",zIndex:2,color:"#28a745",margin:"0 0 0.5rem 0",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:["By ",e.author," \u2022 ",l(e.date)]}),(0,lt.jsx)("p",{style:{position:"relative",zIndex:2,color:"#28a745",lineHeight:1.5,margin:"0 0 1rem 0",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:e.excerpt}),(0,lt.jsx)("div",{style:{position:"relative",zIndex:2,display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:e.tags.map(e=>(0,lt.jsxs)("span",{style:{background:"#f8f9fa",color:"#666",padding:"0.25rem 0.5rem",borderRadius:4,fontSize:"0.8rem"},children:["#",e]},e))}),(0,lt.jsxs)("div",{style:{position:"relative",zIndex:2,display:"flex",gap:"1rem",color:"#666",fontSize:"0.9rem"},children:[(0,lt.jsxs)("span",{children:["\u2764\ufe0f ",e.likes]}),(0,lt.jsxs)("span",{children:["\ud83d\udcac ",e.comments]})]})]})]})},e.id))}),o&&(0,lt.jsxs)("div",{style:{background:"transparent",borderRadius:12,padding:"2rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,lt.jsx)("button",{onClick:()=>a(null),style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:"1rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"\u2190 Back to all posts"}),(0,lt.jsx)("div",{style:{marginBottom:"1rem"},children:(0,lt.jsx)("span",{style:{background:"#007bff",color:"white",padding:"0.5rem 1rem",borderRadius:20,fontSize:"0.9rem"},children:o.category})}),(0,lt.jsx)("h1",{style:{position:"relative",zIndex:2,color:"#222",fontSize:"2rem",margin:"0 0 0.5rem 0"},children:o.title}),(0,lt.jsxs)("p",{style:{position:"relative",zIndex:2,color:"#666",margin:"0 0 1rem 0"},children:["By ",o.author," \u2022 ",l(o.date)," \u2022 ",o.readTime]}),(0,lt.jsx)("img",{src:null!==o&&void 0!==o&&o.image&&null!==o&&void 0!==o&&o.image.trim()?o.image:"default.jpg",alt:o.title,style:{width:"100%",maxWidth:600,height:300,objectFit:"cover",borderRadius:8,marginBottom:"1.5rem"}}),(0,lt.jsx)("div",{style:{position:"relative",zIndex:2,lineHeight:1.8,color:"#333",fontSize:"1.1rem",whiteSpace:"pre-line"},children:o.content}),(0,lt.jsxs)("div",{style:{position:"relative",zIndex:2,marginTop:"2rem",paddingTop:"1rem",borderTop:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,lt.jsxs)("div",{style:{position:"relative",zIndex:2,display:"flex",gap:"1rem"},children:[(0,lt.jsxs)("button",{style:{background:"#f8f9fa",border:"1px solid #ddd",padding:"0.5rem 1rem",borderRadius:6,cursor:"pointer"},children:["\u2764\ufe0f Like (",o.likes,")"]}),(0,lt.jsxs)("button",{style:{background:"#f8f9fa",border:"1px solid #ddd",padding:"0.5rem 1rem",borderRadius:6,cursor:"pointer"},children:["\ud83d\udcac Comment (",o.comments,")"]})]}),(0,lt.jsx)("div",{style:{position:"relative",zIndex:2,display:"flex",gap:"0.5rem"},children:o.tags.map(e=>(0,lt.jsxs)("span",{style:{background:"#f8f9fa",color:"#666",padding:"0.25rem 0.5rem",borderRadius:4,fontSize:"0.8rem"},children:["#",e]},e))})]})]}),0===s.length&&!o&&(0,lt.jsxs)("div",{style:{position:"relative",zIndex:2,textAlign:"center",padding:"3rem",color:"#666",background:"transparent",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,lt.jsx)("h3",{children:"No stories found"}),(0,lt.jsx)("p",{children:"Try adjusting your search terms or category filter."})]})]}),(0,lt.jsx)("div",{style:{textAlign:"center",padding:"2rem 0",marginTop:"calc(2rem - 5px)"},children:(0,lt.jsx)("div",{style:{display:"inline-block",background:"rgba(255,255,255,0.5)",padding:"1rem 2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.3)"},children:(0,lt.jsx)("footer",{style:{color:"rgb(0,0,0)",fontSize:"0.9rem",margin:0,fontWeight:600,textShadow:"0 1px 3px rgba(255,255,255,0.8)"},children:"\xa9 2025 The Moothedath Ancestral House. All rights reserved. | Preserving family heritage and memories for generations to come."})})})]})};var Tt=n(970);const Ct=[{id:1,title:"Event Help",description:"Assist with family events, celebrations, and community gatherings",skills:["Event Planning","Cooking","Decoration","Photography"],timeCommitment:"2-4 hours per event",location:"Ancestral House",status:"Open"},{id:2,title:"Temple Maintenance",description:"Help maintain the family temple and assist with daily prayers",skills:["Cleaning","Gardening","Religious Knowledge"],timeCommitment:"1-2 hours weekly",location:"Family Temple",status:"Open"},{id:3,title:"House Cleanup",description:"Regular cleaning and maintenance of the ancestral house",skills:["Cleaning","Organization","Attention to Detail"],timeCommitment:"3-4 hours monthly",location:"Ancestral House",status:"Open"},{id:4,title:"Documentation",description:"Help document family history, stories, and traditions",skills:["Writing","Photography","Interviewing","Research"],timeCommitment:"Flexible",location:"Remote/On-site",status:"Open"}],It=[{id:1,question:"What type of family event would you like to see next?",options:[{id:1,text:"Cultural Workshop",votes:15},{id:2,text:"Family Reunion",votes:23},{id:3,text:"Cooking Class",votes:8},{id:4,text:"Temple Festival",votes:12}],totalVotes:58,endDate:"2025-02-15"},{id:2,question:"Which area of the house needs renovation priority?",options:[{id:1,text:"Kitchen",votes:18},{id:2,text:"Prayer Room",votes:7},{id:3,text:"Veranda",votes:14},{id:4,text:"Temple Courtyard",votes:11}],totalVotes:50,endDate:"2025-01-30"}],Rt=[{id:1,title:"Ayilya Pooja",description:"Support the monthly Ayilya Pooja rituals and offerings at the family temple.",target:0,raised:0,image:"Veluthan.jpg",status:"Active"},{id:2,title:"Maariyamman Festival",description:"Contribute to the annual Maariyamman Festival celebrations and arrangements.",target:0,raised:0,image:"maariyamman.jpg",status:"Active"},{id:3,title:"Others",description:"Donate for other family, temple, or house needs and special occasions.",target:1e4,raised:2500,image:"volunteer.jpg",status:"Active"}];const At=function(t){let{currentUser:n={},isLoggedIn:r=!1}=t;const[i,o]=(0,e.useState)("volunteer"),[a,s]=(0,e.useState)({name:"",email:"",phone:"",opportunity:"",skills:[],availability:"",message:""}),[l,c]=(0,e.useState)({name:"",email:"",amount:"",project:"",anonymous:!1,message:""}),[u,d]=(0,e.useState)({name:"",email:"",category:"",message:""}),[h,f]=(0,e.useState)({}),[p,m]=(0,e.useState)(!1),[g,y]=(0,e.useState)({name:n&&n.name||"",email:n&&n.email||"",photo:n&&n.photoURL||"",mobile:n&&n.mobile||"",amount:"",purpose:"",closingDate:"",remarks:""}),[v,b]=(0,e.useState)(!1),[w,x]=(0,e.useState)([]),[S,k]=(0,e.useState)(!1),[E,_]=(0,e.useState)(""),[T,C]=(0,e.useState)(!1);(0,e.useEffect)(()=>{"requests"===i&&(k(!0),(0,ht.GG)((0,ht.rJ)(dt.db,"donationRequests")).then(e=>{x(e.docs.map(e=>({id:e.id,...e.data()}))),k(!1)}))},[i,v]);const I=e=>{if(e.preventDefault(),l.amount&&l.name&&l.email&&l.project)try{const e=`upi://pay?pa=${"rajeshkumar757575@okicici"}&pn=The%20Moothedath%20Ancestral%20House&am=${l.amount}&tn=${encodeURIComponent(l.project)}&cu=INR`;Tt.toDataURL(e,{width:300,margin:2},(e,t)=>{if(e)return console.error("Error generating QR code:",e),void alert("Error generating QR code. Please try again.");_(t),C(!0)})}catch(t){console.error("Error generating QR code:",t),alert("Error generating payment QR code. Please try again.")}else alert("Please fill all required fields.")},R=(e,t)=>Math.round(e/t*100);return(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{style:{padding:"2rem",maxWidth:"50%",width:"50%",margin:"0 auto",background:"rgba(255,255,255,0.5)",borderRadius:"40px 8px 40px 8px",minHeight:"45vh",display:"grid",gap:"0.5rem",marginBottom:"1rem"},children:[(0,lt.jsx)("h1",{style:{position:"relative",zIndex:10,color:"#222",fontSize:"2rem",marginBottom:"1rem",fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)"},children:"\ud83d\udce5 Contribution Section"}),(0,lt.jsx)("p",{style:{color:"#222",marginBottom:"2rem",position:"relative",zIndex:10,fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)"},children:"Support the preservation and growth of The Moothedath Ancestral House through volunteering, donations, and feedback."}),(0,lt.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem"},children:[(0,lt.jsx)("button",{onClick:()=>o("volunteer"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"transparent",color:"volunteer"===i?"#007bff":"#333",cursor:"pointer",fontWeight:"volunteer"===i?"bold":"normal",position:"relative",zIndex:2,fontSize:"1.25rem"},children:"Volunteer"}),(0,lt.jsx)("button",{onClick:()=>o("donate"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"transparent",color:"donate"===i?"#007bff":"#333",cursor:"pointer",fontWeight:"donate"===i?"bold":"normal",fontSize:"1.25rem"},children:"Donate"}),(0,lt.jsx)("button",{onClick:()=>o("polls"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"transparent",color:"polls"===i?"#007bff":"#333",cursor:"pointer",fontWeight:"polls"===i?"bold":"normal",fontSize:"1.25rem"},children:"Polls"}),(0,lt.jsx)("button",{onClick:()=>o("feedback"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"transparent",color:"feedback"===i?"#007bff":"#333",cursor:"pointer",fontWeight:"feedback"===i?"bold":"normal",fontSize:"1.25rem"},children:"Feedback"}),(0,lt.jsx)("button",{onClick:()=>o("requests"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"transparent",color:"requests"===i?"#007bff":"#333",cursor:"pointer",fontWeight:"requests"===i?"bold":"normal",fontSize:"1.25rem"},children:"Requests"})]}),"volunteer"===i&&(0,lt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem",borderRadius:"40px 8px 40px 8px",background:"transparent"},children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83e\udd1d Volunteer Opportunities"}),(0,lt.jsx)("div",{style:{display:"grid",gap:"1rem"},children:Ct.map(e=>(0,lt.jsxs)("div",{style:{background:"transparent",padding:"1.5rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[(0,lt.jsx)("h3",{style:{color:"#222",margin:0},children:e.title}),(0,lt.jsx)("span",{style:{background:"#28a745",color:"white",padding:"0.25rem 0.5rem",borderRadius:4,fontSize:"0.8rem"},children:e.status})]}),(0,lt.jsx)("p",{style:{color:"#28a745",margin:"0 0 0.5rem 0",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:e.description}),(0,lt.jsxs)("p",{style:{color:"#28a745",fontSize:"0.9rem",margin:"0 0 0.5rem 0",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:[(0,lt.jsx)("strong",{children:"Time:"})," ",e.timeCommitment]}),(0,lt.jsxs)("p",{style:{color:"#28a745",fontSize:"0.9rem",margin:"0 0 0.5rem 0",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:[(0,lt.jsx)("strong",{children:"Location:"})," ",e.location]}),(0,lt.jsx)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:e.skills.map(e=>(0,lt.jsx)("span",{style:{background:"#f8f9fa",color:"#666",padding:"0.25rem 0.5rem",borderRadius:4,fontSize:"0.8rem"},children:e},e))})]},e.id))})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udcdd Volunteer Signup"}),(0,lt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),alert("Thank you for your interest in volunteering! We will contact you soon."),s({name:"",email:"",phone:"",opportunity:"",skills:[],availability:"",message:""})},style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"volunteer-name",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Name *"}),(0,lt.jsx)("input",{id:"volunteer-name",name:"name",type:"text",required:!0,value:a.name,onChange:e=>s(t=>({...t,name:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"volunteer-email",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Email *"}),(0,lt.jsx)("input",{id:"volunteer-email",name:"email",type:"email",required:!0,value:a.email,onChange:e=>s(t=>({...t,email:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"volunteer-phone",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Phone"}),(0,lt.jsx)("input",{id:"volunteer-phone",name:"phone",type:"tel",value:a.phone,onChange:e=>s(t=>({...t,phone:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"volunteer-opportunity",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Opportunity *"}),(0,lt.jsxs)("select",{id:"volunteer-opportunity",name:"opportunity",required:!0,value:a.opportunity,onChange:e=>s(t=>({...t,opportunity:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6},children:[(0,lt.jsx)("option",{value:"",children:"Select an opportunity"}),Ct.map(e=>(0,lt.jsx)("option",{value:e.title,children:e.title},e.id))]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"volunteer-availability",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Availability"}),(0,lt.jsx)("textarea",{id:"volunteer-availability",name:"availability",value:a.availability,onChange:e=>s(t=>({...t,availability:e.target.value})),placeholder:"When are you available to volunteer?",style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,height:80}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"volunteer-message",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Message"}),(0,lt.jsx)("textarea",{id:"volunteer-message",name:"message",value:a.message,onChange:e=>s(t=>({...t,message:e.target.value})),placeholder:"Tell us about your skills and why you'd like to volunteer",style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,height:100}})]}),(0,lt.jsx)("button",{type:"submit",style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem",width:"100%"},children:"Submit Volunteer Application"})]})]})]}),"donate"===i&&(0,lt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem",borderRadius:"40px 8px 40px 8px",background:"transparent"},children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udc9d Donation Projects"}),(0,lt.jsx)("div",{style:{display:"grid",gap:"1.5rem"},children:Rt.map(e=>(0,lt.jsxs)("div",{style:{background:"transparent",borderRadius:12,overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,lt.jsx)("img",{src:e.image&&e.image.trim()?e.image:"/default.jpg",alt:e.title,style:{width:"100%",height:150,objectFit:"cover"}}),(0,lt.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[(0,lt.jsx)("h3",{style:{color:"#222",margin:0},children:e.title}),(0,lt.jsx)("span",{style:{background:"#28a745",color:"white",padding:"0.25rem 0.5rem",borderRadius:4,fontSize:"0.8rem"},children:e.status})]}),(0,lt.jsx)("p",{style:{color:"#28a745",margin:"0 0 1rem 0",fontSize:"0.98rem",textShadow:"0.5px 0.5px 1px rgba(0,0,0,0.8), -0.5px -0.5px 1px rgba(0,0,0,0.8), 0.5px -0.5px 1px rgba(0,0,0,0.8), -0.5px 0.5px 1px rgba(0,0,0,0.8)"},children:e.description}),(0,lt.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},children:[(0,lt.jsxs)("span",{children:["\u20b9",e.raised.toLocaleString()," raised"]}),e.target>0&&(0,lt.jsxs)("span",{children:[R(e.raised,e.target),"%"]})]}),e.target>0&&(0,lt.jsx)("div",{style:{background:"#e9ecef",height:8,borderRadius:4,overflow:"hidden"},children:(0,lt.jsx)("div",{style:{background:"#28a745",height:"100%",width:`${R(e.raised,e.target)}%`}})})]}),e.target>0&&(0,lt.jsxs)("p",{style:{color:"#666",fontSize:"0.9rem",margin:0},children:["Goal: \u20b9",e.target.toLocaleString()]})]})]},e.id))})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udcb3 Make a Donation"}),r?(0,lt.jsxs)("form",{onSubmit:I,style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"donation-name",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Name *"}),(0,lt.jsx)("input",{id:"donation-name",name:"name",type:"text",required:!0,value:l.name,onChange:e=>c(t=>({...t,name:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"donation-email",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Email *"}),(0,lt.jsx)("input",{id:"donation-email",name:"email",type:"email",required:!0,value:l.email,onChange:e=>c(t=>({...t,email:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"donation-project",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Project *"}),(0,lt.jsxs)("select",{id:"donation-project",name:"project",required:!0,value:l.project,onChange:e=>c(t=>({...t,project:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6},children:[(0,lt.jsx)("option",{value:"",children:"Select a project"}),Rt.map(e=>(0,lt.jsx)("option",{value:e.title,children:e.title},e.id))]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"donation-amount",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Amount (\u20b9) *"}),(0,lt.jsx)("input",{id:"donation-amount",name:"amount",type:"number",required:!0,min:"100",value:l.amount,onChange:e=>c(t=>({...t,amount:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6}})]}),(0,lt.jsx)("div",{style:{marginBottom:"1rem"},children:(0,lt.jsxs)("label",{htmlFor:"donation-anonymous",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,lt.jsx)("input",{id:"donation-anonymous",name:"anonymous",type:"checkbox",checked:l.anonymous,onChange:e=>c(t=>({...t,anonymous:e.target.checked}))}),(0,lt.jsx)("span",{children:"Make this donation anonymous"})]})}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"donation-message",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Message (Optional)"}),(0,lt.jsx)("textarea",{id:"donation-message",name:"message",value:l.message,onChange:e=>c(t=>({...t,message:e.target.value})),placeholder:"Leave a message with your donation",style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,height:80}})]}),(0,lt.jsx)("button",{type:"button",onClick:I,style:{background:"#28a745",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem",width:"100%"},children:"Donate Now"}),r&&(0,lt.jsx)("button",{type:"button",onClick:()=>m(!0),style:{background:"#28a745",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem",width:"100%",marginTop:"1rem",fontWeight:400},children:"Request Donation"})]}):(0,lt.jsxs)("div",{style:{background:"rgba(255,255,255,0.8)",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.08)",padding:"2rem",textAlign:"center",marginTop:"2rem"},children:[(0,lt.jsx)("h3",{style:{color:"#dc3545",marginBottom:"1rem"},children:"You must be logged in to make a donation."}),(0,lt.jsx)("button",{onClick:()=>window.location.href="/login",style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 2rem",borderRadius:6,cursor:"pointer",fontSize:"1.1rem",fontWeight:600},children:"Login to Donate"})]})]})]}),"polls"===i&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udcca Active Polls"}),(0,lt.jsx)("div",{style:{display:"grid",gap:"1.5rem"},children:It.map(e=>(0,lt.jsxs)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,lt.jsx)("h3",{style:{color:"#222",margin:"0 0 1rem 0"},children:e.question}),(0,lt.jsx)("div",{style:{display:"grid",gap:"0.5rem",marginBottom:"1rem"},children:e.options.map(t=>{const n=Math.round(t.votes/e.totalVotes*100),r=h[e.id]===t.id;return(0,lt.jsxs)("button",{onClick:()=>{return n=e.id,r=t.id,void(h[n]?alert("You have already voted in this poll."):(f(e=>({...e,[n]:r})),alert("Thank you for voting!")));var n,r},disabled:h[e.id],style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",border:r?"2px solid #007bff":"1px solid #ddd",borderRadius:8,background:r?"#f8f9ff":"#fff",cursor:h[e.id]?"default":"pointer",width:"100%",textAlign:"left"},children:[(0,lt.jsx)("span",{children:t.text}),(0,lt.jsxs)("span",{style:{color:"#666"},children:[t.votes," votes (",n,"%)"]})]},t.id)})}),(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",color:"#666",fontSize:"0.9rem"},children:[(0,lt.jsxs)("span",{children:["Total votes: ",e.totalVotes]}),(0,lt.jsxs)("span",{children:["Ends: ",new Date(e.endDate).toLocaleDateString()]})]})]},e.id))})]}),"feedback"===i&&(0,lt.jsxs)("div",{style:{maxWidth:600,margin:"0 auto"},children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udcac Feedback & Suggestions"}),(0,lt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),alert("Thank you for your feedback! We appreciate your input."),d({name:"",email:"",category:"",message:""})},style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"feedback-name",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Name *"}),(0,lt.jsx)("input",{id:"feedback-name",name:"name",type:"text",required:!0,value:u.name,onChange:e=>d(t=>({...t,name:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"feedback-email",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Email *"}),(0,lt.jsx)("input",{id:"feedback-email",name:"email",type:"email",required:!0,value:u.email,onChange:e=>d(t=>({...t,email:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"feedback-category",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Category *"}),(0,lt.jsxs)("select",{id:"feedback-category",name:"category",required:!0,value:u.category,onChange:e=>d(t=>({...t,category:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6},children:[(0,lt.jsx)("option",{value:"",children:"Select a category"}),(0,lt.jsx)("option",{value:"Website",children:"Website Feedback"}),(0,lt.jsx)("option",{value:"Events",children:"Events & Activities"}),(0,lt.jsx)("option",{value:"House",children:"House & Maintenance"}),(0,lt.jsx)("option",{value:"General",children:"General Suggestions"})]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{htmlFor:"feedback-message",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Message *"}),(0,lt.jsx)("textarea",{id:"feedback-message",name:"message",required:!0,value:u.message,onChange:e=>d(t=>({...t,message:e.target.value})),placeholder:"Share your feedback, suggestions, or ideas...",style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,height:120}})]}),(0,lt.jsx)("button",{type:"submit",style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem",width:"100%"},children:"Submit Feedback"})]})]}),"requests"===i&&(0,lt.jsxs)("div",{style:{maxWidth:800,margin:"2rem auto",background:"rgba(255,255,255,0.7)",borderRadius:16,padding:24},children:[(0,lt.jsx)("h2",{style:{color:"#007bff",marginBottom:24},children:"Donation Requests"}),!S&&w.length>0&&(0,lt.jsxs)("div",{style:{background:"#e9f5ff",color:"#007bff",borderRadius:8,marginBottom:24,padding:"1.5rem",fontWeight:600,fontSize:"1.1rem",boxShadow:"0 2px 8px rgba(0,123,255,0.08)"},children:["There ",1===w.length?"is":"are"," ",(0,lt.jsx)("b",{children:w.length})," active donation request",1===w.length?"":"s",". Please review the details below and consider supporting or recommending them."]}),S?(0,lt.jsx)("p",{children:"Loading..."}):0===w.length?(0,lt.jsx)("p",{children:"No requests yet."}):(0,lt.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:24},children:w.map(e=>{var t,r,i,o;const a=(null===(t=e.recommendedBy)||void 0===t?void 0:t.length)||0,s=(null===(r=e.notRecommendedBy)||void 0===r?void 0:r.length)||0,l=a+s,c=null===n||void 0===n?void 0:n.email,u=null===(i=e.recommendedBy)||void 0===i?void 0:i.includes(c),d=null===(o=e.notRecommendedBy)||void 0===o?void 0:o.includes(c),h=l>0?Math.round(a/l*100):0,f=l>0?Math.round(s/l*100):0;return(0,lt.jsxs)("div",{style:{background:"#fff",borderRadius:12,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",padding:20},children:[(0,lt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:8},children:[e.photo&&e.photo.trim()?(0,lt.jsx)("img",{src:e.photo,alt:e.name,style:{width:64,height:64,borderRadius:"50%",objectFit:"cover",border:"2px solid #007bff"}}):(0,lt.jsx)("img",{src:"default.jpg",alt:e.name,style:{width:64,height:64,borderRadius:"50%",objectFit:"cover",border:"2px solid #007bff"}}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{style:{margin:0,color:"#007bff"},children:e.name}),(0,lt.jsxs)("p",{style:{margin:0,color:"#333",fontWeight:500},children:["Purpose: ",(0,lt.jsx)("b",{children:e.purpose})]}),(0,lt.jsxs)("p",{style:{margin:0,color:"#666",fontSize:14},children:["Requested Amount: ",(0,lt.jsxs)("b",{children:["\u20b9",e.amount]})]}),(0,lt.jsxs)("p",{style:{margin:0,color:"#666",fontSize:13},children:["Closing: ",e.closingDate," | Remarks: ",e.remarks]})]})]}),(0,lt.jsxs)("div",{style:{margin:"12px 0 16px 0"},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13,marginBottom:2},children:[(0,lt.jsxs)("span",{style:{color:"#28a745",fontWeight:600},children:["\ud83d\udc4d ",a," Recommended"]}),(0,lt.jsxs)("span",{style:{color:"#dc3545",fontWeight:600},children:["\ud83d\udc4e ",s," Not Recommended"]})]}),(0,lt.jsxs)("div",{style:{background:"#e9ecef",height:10,borderRadius:5,overflow:"hidden",display:"flex"},children:[(0,lt.jsx)("div",{style:{background:"#28a745",width:`${h}%`,height:"100%"}}),(0,lt.jsx)("div",{style:{background:"#dc3545",width:`${f}%`,height:"100%"}})]})]}),(0,lt.jsxs)("div",{style:{display:"flex",gap:16,alignItems:"center"},children:[(0,lt.jsxs)("button",{disabled:u,onClick:async()=>{await(0,ht.mZ)((0,ht.H9)(dt.db,"donationRequests",e.id),{recommendedBy:(0,ht.hq)(c),notRecommendedBy:(0,ht.C3)(c)}),x(t=>t.map(t=>t.id===e.id?{...t,recommendedBy:[...t.recommendedBy||[],c],notRecommendedBy:(t.notRecommendedBy||[]).filter(e=>e!==c)}:t))},style:{background:u?"#28a745":"#007bff",color:"white",border:"none",borderRadius:6,padding:"0.5rem 1.2rem",cursor:u?"not-allowed":"pointer",fontWeight:600},children:["\ud83d\udc4d Recommend (",a,")"]}),(0,lt.jsxs)("button",{disabled:d,onClick:async()=>{await(0,ht.mZ)((0,ht.H9)(dt.db,"donationRequests",e.id),{notRecommendedBy:(0,ht.hq)(c),recommendedBy:(0,ht.C3)(c)}),x(t=>t.map(t=>t.id===e.id?{...t,notRecommendedBy:[...t.notRecommendedBy||[],c],recommendedBy:(t.recommendedBy||[]).filter(e=>e!==c)}:t))},style:{background:d?"#dc3545":"#6c757d",color:"white",border:"none",borderRadius:6,padding:"0.5rem 1.2rem",cursor:d?"not-allowed":"pointer",fontWeight:600},children:["\ud83d\udc4e Not Recommend (",s,")"]})]})]},e.id)})})]})]}),(0,lt.jsx)("div",{style:{textAlign:"center",padding:"2rem 0",marginTop:"calc(2rem - 5px)"},children:(0,lt.jsx)("div",{style:{display:"inline-block",background:"rgba(255,255,255,0.5)",padding:"1rem 2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.3)"},children:(0,lt.jsx)("footer",{style:{color:"rgb(0,0,0)",fontSize:"0.9rem",margin:0,fontWeight:600,textShadow:"0 1px 3px rgba(255,255,255,0.8)"},children:"\xa9 2025 The Moothedath Ancestral House. All rights reserved. | Preserving family heritage and memories for generations to come."})})}),p&&(0,lt.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(255,255,255,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,lt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await(0,ht.gS)((0,ht.rJ)(dt.db,"donationRequests"),{...g,submittedAt:(0,ht.O5)(),recommendedBy:[],notRecommendedBy:[],user:(null===n||void 0===n?void 0:n.email)||"Anonymous"}),b(!0),m(!1),y({name:(null===n||void 0===n?void 0:n.name)||"",email:(null===n||void 0===n?void 0:n.email)||"",photo:(null===n||void 0===n?void 0:n.photoURL)||"",mobile:(null===n||void 0===n?void 0:n.mobile)||"",amount:"",purpose:"",closingDate:"",remarks:""})}catch(t){alert("Failed to submit request: "+t.message)}},style:{background:"rgba(0,123,255,0.97)",color:"white",padding:32,borderRadius:16,minWidth:350,maxWidth:420,width:"90%",boxShadow:"0 4px 24px rgba(0,0,0,0.2)"},children:[(0,lt.jsx)("h2",{style:{marginTop:0,color:"white"},children:"Request a Donation"}),(0,lt.jsx)("label",{htmlFor:"request-name",children:"Name"}),(0,lt.jsx)("input",{id:"request-name",name:"name",type:"text",value:g.name,onChange:e=>y(t=>({...t,name:e.target.value})),required:!0,style:{width:"100%",marginBottom:8}}),(0,lt.jsx)("label",{htmlFor:"request-email",children:"Email"}),(0,lt.jsx)("input",{id:"request-email",name:"email",type:"email",value:g.email,onChange:e=>y(t=>({...t,email:e.target.value})),required:!0,style:{width:"100%",marginBottom:8}}),(0,lt.jsx)("label",{htmlFor:"request-photo",children:"Photo (URL, optional)"}),(0,lt.jsx)("input",{id:"request-photo",name:"photo",type:"text",value:g.photo,onChange:e=>y(t=>({...t,photo:e.target.value})),style:{width:"100%",marginBottom:8}}),(0,lt.jsx)("label",{htmlFor:"request-mobile",children:"Mobile Number"}),(0,lt.jsx)("input",{id:"request-mobile",name:"mobile",type:"text",value:g.mobile,onChange:e=>y(t=>({...t,mobile:e.target.value})),required:!0,style:{width:"100%",marginBottom:8}}),(0,lt.jsx)("label",{htmlFor:"request-amount",children:"Required Amount (\u20b9)"}),(0,lt.jsx)("input",{id:"request-amount",name:"amount",type:"number",value:g.amount,onChange:e=>y(t=>({...t,amount:e.target.value})),required:!0,style:{width:"100%",marginBottom:8}}),(0,lt.jsx)("label",{htmlFor:"request-purpose",children:"Purpose of the Amount"}),(0,lt.jsx)("textarea",{id:"request-purpose",name:"purpose",value:g.purpose,onChange:e=>y(t=>({...t,purpose:e.target.value})),required:!0,style:{width:"100%",marginBottom:8}}),(0,lt.jsx)("label",{htmlFor:"request-closingDate",children:"Donation Closing Date"}),(0,lt.jsx)("input",{id:"request-closingDate",name:"closingDate",type:"date",value:g.closingDate,min:(new Date).toISOString().split("T")[0],onChange:e=>y(t=>({...t,closingDate:e.target.value})),required:!0,style:{width:"100%",marginBottom:8}}),(0,lt.jsx)("label",{htmlFor:"request-remarks",children:"Remarks (optional)"}),(0,lt.jsx)("textarea",{id:"request-remarks",name:"remarks",value:g.remarks,onChange:e=>y(t=>({...t,remarks:e.target.value})),style:{width:"100%",marginBottom:8}}),(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[(0,lt.jsx)("button",{type:"button",onClick:()=>m(!1),style:{background:"#ccc",border:"none",borderRadius:6,padding:"0.5rem 1rem"},children:"Cancel"}),(0,lt.jsx)("button",{type:"submit",style:{background:"#28a745",color:"white",border:"none",borderRadius:6,padding:"0.5rem 1rem"},children:"Submit"})]})]})}),v&&(0,lt.jsx)("div",{style:{position:"fixed",top:20,right:20,background:"#28a745",color:"white",padding:"1rem 2rem",borderRadius:8,zIndex:2e3},children:"Request submitted successfully!"}),T&&(0,lt.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,lt.jsxs)("div",{style:{background:"white",padding:"2rem",borderRadius:12,textAlign:"center",maxWidth:400,width:"90%"},children:[(0,lt.jsx)("h3",{style:{color:"#007bff",marginBottom:"1rem"},children:"\ud83d\udcf1 UPI Payment QR Code"}),(0,lt.jsx)("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Scan this QR code with any UPI app (Google Pay, PhonePe, Paytm, etc.)"}),(0,lt.jsxs)("div",{style:{background:"#f8f9fa",padding:"1.5rem",borderRadius:8,marginBottom:"1.5rem",border:"1px solid #dee2e6"},children:[(0,lt.jsx)("h4",{style:{color:"#007bff",marginBottom:"1rem"},children:"Quick Payment"}),(0,lt.jsx)("p",{style:{color:"#666",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"Simply scan the QR code below with your preferred UPI app"}),(0,lt.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"1rem",background:"#fff",borderRadius:8,border:"2px solid #007bff"},children:(0,lt.jsx)("img",{src:E,alt:"Payment QR Code",style:{maxWidth:"100%",height:"auto"}})}),(0,lt.jsx)("p",{style:{color:"#28a745",fontSize:"0.9rem",marginTop:"0.5rem",fontWeight:"bold"},children:"\u2705 Valid UPI QR Code - Ready to scan!"})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsxs)("p",{style:{color:"#007bff",fontWeight:"bold",margin:"0 0 0.5rem 0"},children:["Amount: \u20b9",l.amount]}),(0,lt.jsxs)("p",{style:{color:"#666",margin:"0 0 0.5rem 0"},children:["Project: ",l.project]}),(0,lt.jsx)("p",{style:{color:"#666",margin:"0 0 0.5rem 0",fontSize:"0.9rem"},children:(0,lt.jsx)("strong",{children:"Payment Details:"})}),(0,lt.jsxs)("p",{style:{color:"#666",margin:"0 0 0.5rem 0",fontSize:"0.9rem"},children:["\ud83d\udcb3 UPI ID: rajeshkumar757575@okicici",(0,lt.jsx)("br",{}),"\ud83d\udcf1 Mobile: +91-9789655564",(0,lt.jsx)("br",{}),"\ud83d\udcac WhatsApp: +91-7904926096",(0,lt.jsx)("br",{}),"\ud83c\udfe6 Bank: ICICI Bank",(0,lt.jsx)("br",{}),"\ud83d\udce7 Email: family.moothedathhouse@gmail.com"]})]}),(0,lt.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,lt.jsx)("button",{onClick:()=>C(!1),style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 2rem",borderRadius:6,cursor:"pointer",fontSize:"1rem"},children:"Close"})})]})})]})};var jt=n(898);const Pt=[{id:1,name:"Uncle John",message:"Beautiful ancestral house! The temple renovation looks amazing. Blessed to be part of this family heritage.",date:"2024-12-20",type:"guestbook",photo:null},{id:2,name:"Aunt Mary",message:"The Pongal celebration was wonderful. The traditional cooking methods are truly special.",date:"2024-12-18",type:"guestbook",photo:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=200"},{id:3,name:"Cousin Sarah",message:"Thank you for preserving our family history. The blog stories are so inspiring!",date:"2024-12-15",type:"guestbook",photo:null}],Nt=[{id:1,name:"Father",message:"Temple renovation is progressing well. We should plan the consecration ceremony.",time:"10:30 AM",type:"family"},{id:2,name:"Mother",message:"I'll coordinate with the priest for the ceremony date.",time:"10:32 AM",type:"family"},{id:3,name:"Grandmother",message:"Don't forget to invite all family members. This is a special occasion.",time:"10:35 AM",type:"family"}];const Ot=function(){const[t,n]=(0,e.useState)("guestbook"),[r,i]=(0,e.useState)(Pt),[o,a]=(0,e.useState)(Nt),[s,l]=(0,e.useState)({name:"",message:"",photo:null}),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)("family"),[f,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(null),[y,v]=(0,e.useState)(!1),[b,w]=(0,e.useState)(!1),[x,S]=(0,e.useState)(!0),[k,E]=(0,e.useState)(!0),[_,T]=(0,e.useState)(!1),[C,I]=(0,e.useState)([]),[R,A]=(0,e.useState)(""),[j,P]=(0,e.useState)(!1),N=(0,e.useRef)(null),O=(0,e.useRef)(null),D=(0,e.useRef)(null);(0,e.useRef)(null),(0,e.useEffect)(()=>{const e=(0,jt.hg)(dt.auth,e=>{e&&e.emailVerified?(p(!0),g(e)):(p(!1),g(null)),v(!0)});return()=>e()},[]);const L=e=>{if(!e)return"";if(e.displayName&&e.displayName.trim())return e.displayName;if(e.email){const t=e.email.split("@")[0];return t.replace(/[0-9]/g,"").replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()||t}return"User"};return y?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{style:{padding:"2rem",maxWidth:1200,width:"100%",margin:"0 auto",background:"rgba(255,255,255,0.5)",borderRadius:"40px 8px 40px 8px",minHeight:"45vh"},children:[(0,lt.jsx)("h1",{style:{position:"relative",zIndex:10,color:"#222",fontSize:"2rem",marginBottom:"1rem",fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)"},children:"\ud83d\udcac Live Chat & Guestbook"}),(0,lt.jsx)("p",{style:{color:"#222",marginBottom:"2rem",position:"relative",zIndex:10,fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)"},children:"Connect with family members through live chat, video calls, and leave your memories in our ancestral guestbook."}),(0,lt.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[(0,lt.jsx)("button",{onClick:()=>n("guestbook"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"transparent",color:"guestbook"===t?"#007bff":"#333",cursor:"pointer",fontWeight:"guestbook"===t?"bold":"normal"},children:"Guestbook"}),(0,lt.jsxs)("button",{onClick:()=>n("chat"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"transparent",color:"chat"===t?"#007bff":"#333",cursor:"pointer",fontWeight:"chat"===t?"bold":"normal"},children:["Live Chat ",!f&&"\ud83d\udd12"]}),(0,lt.jsxs)("button",{onClick:()=>n("video"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"transparent",color:"video"===t?"#007bff":"#333",cursor:"pointer",fontWeight:"video"===t?"bold":"normal"},children:["Video Chat ",!f&&"\ud83d\udd12"]}),(0,lt.jsx)("button",{onClick:()=>n("whatsapp"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"transparent",color:"whatsapp"===t?"#007bff":"#333",cursor:"pointer",fontWeight:"whatsapp"===t?"bold":"normal"},children:"WhatsApp"})]}),"guestbook"===t&&f&&(0,lt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#000",fontSize:"1.5rem",marginBottom:"1rem",fontWeight:"bold"},children:"\ud83d\udcd6 Ancestral Guestbook"}),(0,lt.jsx)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",maxHeight:600,overflowY:"auto"},children:r.map(e=>{return(0,lt.jsx)("div",{style:{borderBottom:"1px solid #eee",padding:"1rem 0",marginBottom:"1rem"},children:(0,lt.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",marginBottom:"0.5rem"},children:[e.photo&&(0,lt.jsx)("img",{src:e.photo&&e.photo.trim()?e.photo:"default.jpg",alt:e.name,style:{width:50,height:50,objectFit:"cover",borderRadius:"50%",border:"2px solid #007bff",flexShrink:0}}),(0,lt.jsxs)("div",{style:{flex:1},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,lt.jsx)("h4",{style:{color:"#000",margin:0,fontWeight:"bold"},children:e.name}),(0,lt.jsx)("span",{style:{color:"#333",fontSize:"0.9rem",fontWeight:"500"},children:(t=e.date,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]}),(0,lt.jsx)("p",{style:{color:"#000",margin:0,lineHeight:1.5,fontWeight:"500"},children:e.message})]})]})},e.id);var t})})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#000",fontSize:"1.5rem",marginBottom:"1rem",fontWeight:"bold"},children:"\u270d\ufe0f Leave a Message"}),(0,lt.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!s.name||!s.message)return;let t=s.photo;f&&null!==m&&void 0!==m&&m.photoURL&&!s.photo&&(t=m.photoURL);const n={id:Date.now(),name:s.name,message:s.message,photo:t,date:(new Date).toISOString().split("T")[0],type:"guestbook"};i([n,...r]),l({name:"",message:"",photo:null}),alert("Thank you for your message! It has been added to our guestbook.")},style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[f&&(null===m||void 0===m?void 0:m.photoURL)&&(0,lt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem",padding:"1rem",background:"rgba(0,123,255,0.1)",borderRadius:8},children:[(0,lt.jsx)("img",{src:m.photoURL,alt:"Your profile",style:{width:40,height:40,objectFit:"cover",borderRadius:"50%",border:"2px solid #007bff"}}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("p",{style:{margin:0,fontWeight:"bold",color:"#007bff"},children:["Logged in as: ",L(m)]}),(0,lt.jsx)("p",{style:{margin:0,fontSize:"0.9rem",color:"#666"},children:"Your profile photo will be used automatically"})]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",color:"#000"},children:"Your Name *"}),(0,lt.jsx)("input",{type:"text",required:!0,value:s.name,onChange:e=>l(t=>({...t,name:e.target.value})),placeholder:f?L(m):"Enter your name",style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",color:"#000"},children:"Message *"}),(0,lt.jsx)("textarea",{required:!0,value:s.message,onChange:e=>l(t=>({...t,message:e.target.value})),placeholder:"Share your memories, blessings, or thoughts about our ancestral house...",style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,height:120}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",color:"#000"},children:["Photo URL ",f&&null!==m&&void 0!==m&&m.photoURL?"(Optional - will use your profile photo if left empty)":"(Optional)"]}),(0,lt.jsx)("input",{type:"url",value:s.photo||"",onChange:e=>l(t=>({...t,photo:e.target.value})),placeholder:f&&null!==m&&void 0!==m&&m.photoURL?"Leave empty to use your profile photo":"https://example.com/photo.jpg",style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6}})]}),(0,lt.jsx)("button",{type:"submit",style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem",width:"100%"},children:"Add to Guestbook"})]})]})]}),"guestbook"===t&&!f&&(0,lt.jsxs)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",textAlign:"center",margin:"2rem auto",maxWidth:500},children:[(0,lt.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\ud83d\udd12"}),(0,lt.jsx)("h3",{style:{color:"#222",marginBottom:"1rem"},children:"Family Chat Access Required"}),(0,lt.jsx)("p",{style:{color:"#555",marginBottom:"2rem"},children:"This chat is only available to verified family members. Please log in to access the family chat."}),(0,lt.jsx)("button",{onClick:()=>window.location.href="/login",style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem"},children:"\ud83d\udd11 Login to Access Chat"})]}),"chat"===t&&(0,lt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udcad Live Chat"}),f?(0,lt.jsxs)("div",{style:{background:"transparent",padding:"1rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",height:500,display:"flex",flexDirection:"column"},children:[(0,lt.jsx)("div",{style:{background:"#e8f5e8",padding:"0.75rem",borderRadius:8,marginBottom:"1rem",border:"1px solid #28a745"},children:(0,lt.jsxs)("p",{style:{margin:0,color:"#155724",fontSize:"0.9rem"},children:["\ud83d\udc4b Welcome, ",L(m),"! You're now in the family chat."]})}),(0,lt.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",padding:"0.5rem",background:"transparent",borderRadius:8},children:[(0,lt.jsx)("button",{onClick:()=>h("family"),style:{padding:"0.5rem 1rem",border:"none",borderRadius:6,background:"family"===d?"#007bff":"#e9ecef",color:"family"===d?"white":"#333",cursor:"pointer"},children:"Family Only"}),(0,lt.jsx)("button",{onClick:()=>h("public"),style:{padding:"0.5rem 1rem",border:"none",borderRadius:6,background:"public"===d?"#007bff":"#e9ecef",color:"public"===d?"white":"#333",cursor:"pointer"},children:"Public Chat"})]}),(0,lt.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"1rem",background:"transparent",borderRadius:8,marginBottom:"1rem"},children:o.map(e=>(0,lt.jsxs)("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:e.name===L(m)?"#007bff":"#fff",color:e.name===L(m)?"white":"#333",borderRadius:8,maxWidth:"80%",marginLeft:e.name===L(m)?"auto":"0"},children:[(0,lt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.25rem"},children:[(0,lt.jsx)("strong",{children:e.name}),(0,lt.jsx)("span",{style:{fontSize:"0.8rem",opacity:.8},children:e.time})]}),(0,lt.jsx)("div",{children:e.message})]},e.id))}),(0,lt.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!c.trim()||!f)return;const t={id:Date.now(),name:L(m)||"Family Member",message:c,time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:"family"};a([...o,t]),u("")},style:{display:"flex",gap:"0.5rem"},children:[(0,lt.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Type your message...",style:{flex:1,padding:"0.75rem",border:"1px solid #ddd",borderRadius:6}}),(0,lt.jsx)("button",{type:"submit",style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1rem",borderRadius:6,cursor:"pointer"},children:"Send"})]})]}):(0,lt.jsxs)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,lt.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\ud83d\udd12"}),(0,lt.jsx)("h3",{style:{color:"#222",marginBottom:"1rem"},children:"Family Chat Access Required"}),(0,lt.jsx)("p",{style:{color:"#555",marginBottom:"2rem"},children:"This chat is only available to verified family members. Please log in to access the family chat."}),(0,lt.jsx)("button",{onClick:()=>window.location.href="/login",style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem"},children:"\ud83d\udd11 Login to Access Chat"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udcf1 Chat Features"}),(0,lt.jsx)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:f?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,lt.jsx)("h3",{style:{color:"#222",marginBottom:"0.5rem"},children:"Family Chat"}),(0,lt.jsx)("p",{style:{color:"#555",marginBottom:"0.5rem"},children:"Private chat for family members to discuss events, plans, and family matters."}),(0,lt.jsxs)("ul",{style:{color:"#666",paddingLeft:"1.5rem"},children:[(0,lt.jsx)("li",{children:"Real-time messaging"}),(0,lt.jsx)("li",{children:"Family-only access"}),(0,lt.jsx)("li",{children:"Event coordination"}),(0,lt.jsx)("li",{children:"Photo sharing"})]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,lt.jsx)("h3",{style:{color:"#222",marginBottom:"0.5rem"},children:"Public Chat"}),(0,lt.jsx)("p",{style:{color:"#555",marginBottom:"0.5rem"},children:"Open chat for guests and extended family to connect and share."}),(0,lt.jsxs)("ul",{style:{color:"#666",paddingLeft:"1.5rem"},children:[(0,lt.jsx)("li",{children:"Guest-friendly"}),(0,lt.jsx)("li",{children:"Community building"}),(0,lt.jsx)("li",{children:"Cultural exchange"}),(0,lt.jsx)("li",{children:"Moderated content"})]})]}),(0,lt.jsxs)("div",{style:{background:"#e8f5e8",padding:"1rem",borderRadius:8,textAlign:"center",border:"1px solid #28a745"},children:[(0,lt.jsxs)("p",{style:{color:"#155724",margin:"0 0 0.5rem 0"},children:["\u2705 You're logged in as: ",(null===m||void 0===m?void 0:m.displayName)||(null===m||void 0===m?void 0:m.email)]}),(0,lt.jsx)("button",{onClick:()=>dt.auth.signOut(),style:{background:"#dc3545",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:6,cursor:"pointer",fontSize:"0.9rem"},children:"\ud83d\udeaa Logout"})]})]}):(0,lt.jsxs)("div",{style:{textAlign:"center"},children:[(0,lt.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\ud83d\udd12"}),(0,lt.jsx)("h3",{style:{color:"#222",marginBottom:"1rem"},children:"Authentication Required"}),(0,lt.jsx)("p",{style:{color:"#555",marginBottom:"2rem"},children:"Only verified family members can access the chat features. Please log in to continue."}),(0,lt.jsx)("button",{onClick:()=>window.location.href="/login",style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem"},children:"\ud83d\udd11 Login Now"})]})})]})]}),"video"===t&&(0,lt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udcf9 Video Chat"}),f?(0,lt.jsxs)("div",{style:{background:"transparent",padding:"1rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",minHeight:500},children:[(0,lt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem",minHeight:300},children:[(0,lt.jsxs)("div",{style:{background:"#000",borderRadius:8,overflow:"hidden",position:"relative"},children:[(0,lt.jsx)("video",{ref:N,autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",minHeight:200}}),(0,lt.jsx)("div",{style:{position:"absolute",bottom:"0.5rem",left:"0.5rem",background:"rgba(0,0,0,0.7)",color:"white",padding:"0.25rem 0.5rem",borderRadius:4,fontSize:"0.8rem"},children:"You"})]}),(0,lt.jsxs)("div",{style:{background:"#000",borderRadius:8,overflow:"hidden",position:"relative"},children:[(0,lt.jsx)("video",{ref:O,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",minHeight:200}}),(0,lt.jsx)("div",{style:{position:"absolute",bottom:"0.5rem",left:"0.5rem",background:"rgba(0,0,0,0.7)",color:"white",padding:"0.25rem 0.5rem",borderRadius:4,fontSize:"0.8rem"},children:"Family Member"})]})]}),(0,lt.jsx)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",flexWrap:"wrap",marginBottom:"1rem"},children:b?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("button",{onClick:()=>{if(D.current){const e=D.current.getVideoTracks()[0];e&&(e.enabled=!e.enabled,S(e.enabled))}},style:{background:x?"#007bff":"#dc3545",color:"white",border:"none",padding:"0.75rem 1rem",borderRadius:6,cursor:"pointer"},children:[x?"\ud83d\udcf9":"\ud83d\udeab"," Video"]}),(0,lt.jsxs)("button",{onClick:()=>{if(D.current){const e=D.current.getAudioTracks()[0];e&&(e.enabled=!e.enabled,E(e.enabled))}},style:{background:k?"#007bff":"#dc3545",color:"white",border:"none",padding:"0.75rem 1rem",borderRadius:6,cursor:"pointer"},children:[k?"\ud83c\udfa4":"\ud83d\udeab"," Audio"]}),(0,lt.jsxs)("button",{onClick:async()=>{try{if(_)N.current&&D.current&&(N.current.srcObject=D.current),T(!1);else{const e=await navigator.mediaDevices.getDisplayMedia({video:!0});N.current&&(N.current.srcObject=e),T(!0)}}catch(e){console.error("Error sharing screen:",e),alert("Unable to share screen.")}},style:{background:_?"#ffc107":"#007bff",color:"white",border:"none",padding:"0.75rem 1rem",borderRadius:6,cursor:"pointer"},children:["\ud83d\udda5\ufe0f"," Screen"]}),(0,lt.jsx)("button",{onClick:()=>{D.current&&(D.current.getTracks().forEach(e=>e.stop()),D.current=null),N.current&&(N.current.srcObject=null),w(!1),P(!1),I([]),A("")},style:{background:"#dc3545",color:"white",border:"none",padding:"0.75rem 1rem",borderRadius:6,cursor:"pointer"},children:"\ud83d\udeab End Call"})]}):(0,lt.jsx)("button",{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});D.current=e,N.current&&(N.current.srcObject=e),w(!0),I([{id:"local",name:(null===m||void 0===m?void 0:m.displayName)||(null===m||void 0===m?void 0:m.email),stream:e}]);const t=Math.random().toString(36).substring(2,15);A(t)}catch(e){console.error("Error accessing camera/microphone:",e),alert("Unable to access camera/microphone. Please check permissions.")}},style:{background:"#28a745",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem"},children:"\ud83d\udcf9 Start Video Chat"})}),b&&(0,lt.jsxs)("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:8,marginBottom:"1rem"},children:[(0,lt.jsx)("h4",{style:{margin:"0 0 0.5rem 0",color:"#333"},children:"Room Management"}),(0,lt.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:[(0,lt.jsx)("input",{type:"text",value:R,onChange:e=>A(e.target.value),placeholder:"Enter room ID to join",style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:4,minWidth:150}}),(0,lt.jsx)("button",{onClick:()=>{R.trim()?(P(!0),alert(`Joining room: ${R}`)):alert("Please enter a room ID")},style:{background:"#007bff",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:4,cursor:"pointer"},children:"Join Room"})]}),R&&(0,lt.jsxs)("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.9rem",color:"#666"},children:["Room ID: ",(0,lt.jsx)("strong",{children:R})," (Share this with family members)"]})]})]}):(0,lt.jsxs)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,lt.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\ud83d\udd12"}),(0,lt.jsx)("h3",{style:{color:"#222",marginBottom:"1rem"},children:"Video Chat Access Required"}),(0,lt.jsx)("p",{style:{color:"#555",marginBottom:"2rem"},children:"Video chat is only available to verified family members. Please log in to access video calls."}),(0,lt.jsx)("button",{onClick:()=>window.location.href="/login",style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem"},children:"\ud83d\udd11 Login to Access Video Chat"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udcf9 Video Features"}),(0,lt.jsx)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:f?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,lt.jsx)("h3",{style:{color:"#222",marginBottom:"0.5rem"},children:"Video Chat Features"}),(0,lt.jsxs)("ul",{style:{color:"#666",paddingLeft:"1.5rem"},children:[(0,lt.jsx)("li",{children:"HD video and audio"}),(0,lt.jsx)("li",{children:"Screen sharing"}),(0,lt.jsx)("li",{children:"Room-based calls"}),(0,lt.jsx)("li",{children:"Privacy controls"}),(0,lt.jsx)("li",{children:"Family-only access"})]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,lt.jsx)("h3",{style:{color:"#222",marginBottom:"0.5rem"},children:"How to Use"}),(0,lt.jsxs)("ol",{style:{color:"#666",paddingLeft:"1.5rem"},children:[(0,lt.jsx)("li",{children:'Click "Start Video Chat"'}),(0,lt.jsx)("li",{children:"Allow camera/microphone access"}),(0,lt.jsx)("li",{children:"Share room ID with family"}),(0,lt.jsx)("li",{children:"Use controls to manage call"})]})]}),(0,lt.jsxs)("div",{style:{background:"#e8f5e8",padding:"1rem",borderRadius:8,textAlign:"center",border:"1px solid #28a745"},children:[(0,lt.jsxs)("p",{style:{color:"#155724",margin:"0 0 0.5rem 0"},children:["\u2705 Video chat ready for: ",(null===m||void 0===m?void 0:m.displayName)||(null===m||void 0===m?void 0:m.email)]}),(0,lt.jsx)("p",{style:{color:"#155724",margin:0,fontSize:"0.9rem"},children:"Make sure your camera and microphone are working"})]})]}):(0,lt.jsxs)("div",{style:{textAlign:"center"},children:[(0,lt.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\ud83d\udd12"}),(0,lt.jsx)("h3",{style:{color:"#222",marginBottom:"1rem"},children:"Authentication Required"}),(0,lt.jsx)("p",{style:{color:"#555",marginBottom:"2rem"},children:"Only verified family members can access video chat. Please log in to continue."}),(0,lt.jsx)("button",{onClick:()=>window.location.href="/login",style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem"},children:"\ud83d\udd11 Login Now"})]})})]})]}),"whatsapp"===t&&(0,lt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udcf1 WhatsApp Integration"}),(0,lt.jsxs)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,lt.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[(0,lt.jsx)("div",{style:{fontSize:"4rem",marginBottom:"1rem",color:"#25d366"},children:"\ud83d\udcac"}),(0,lt.jsx)("h3",{style:{color:"#222",marginBottom:"0.5rem"},children:"Connect via WhatsApp"}),(0,lt.jsx)("p",{style:{color:"#555"},children:"Get instant responses and stay connected with family members through WhatsApp."})]}),(0,lt.jsxs)("div",{style:{display:"grid",gap:"1rem"},children:[(0,lt.jsxs)("a",{href:"https://wa.me/917904926096?text=Hello%20from%20Moothedath%20Ancestral%20House%20website!",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"1rem",background:"#25d366",color:"white",padding:"1rem",borderRadius:8,textDecoration:"none",textAlign:"center",justifyContent:"center"},children:[(0,lt.jsx)("span",{style:{fontSize:"1.5rem"},children:"\ud83d\udcf1"}),(0,lt.jsx)("span",{children:"Chat with Family"})]}),(0,lt.jsxs)("a",{href:"https://wa.me/917904926096?text=I%20would%20like%20to%20volunteer%20for%20the%20ancestral%20house%20events",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"1rem",background:"#007bff",color:"white",padding:"1rem",borderRadius:8,textDecoration:"none",textAlign:"center",justifyContent:"center"},children:[(0,lt.jsx)("span",{style:{fontSize:"1.5rem"},children:"\ud83e\udd1d"}),(0,lt.jsx)("span",{children:"Volunteer Interest"})]}),(0,lt.jsxs)("a",{href:"https://wa.me/917904926096?text=I%20would%20like%20to%20make%20a%20donation%20to%20the%20ancestral%20house",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"1rem",background:"#28a745",color:"white",padding:"1rem",borderRadius:8,textDecoration:"none",textAlign:"center",justifyContent:"center"},children:[(0,lt.jsx)("span",{style:{fontSize:"1.5rem"},children:"\ud83d\udc9d"}),(0,lt.jsx)("span",{children:"Make a Donation"})]})]})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udcde Contact Information"}),(0,lt.jsxs)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,lt.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,lt.jsx)("h3",{style:{color:"#222",marginBottom:"0.5rem"},children:"Family Contact"}),(0,lt.jsxs)("p",{style:{color:"#222",marginBottom:"0.5rem",fontSize:"16px",marginLeft:"20px"},children:[(0,lt.jsx)("strong",{children:"Phone:"})," +91 97896 55564"]}),(0,lt.jsxs)("p",{style:{color:"#222",marginBottom:"0.5rem",fontSize:"16px",marginLeft:"20px"},children:[(0,lt.jsx)("strong",{children:"Email:"})," family.moothedathhouse@gmail.com"]}),(0,lt.jsxs)("p",{style:{color:"#222",marginBottom:"0.5rem",fontSize:"16px",marginLeft:"20px"},children:[(0,lt.jsx)("strong",{children:"Address:"})," Moothedath Ancestral House, Kerala, India"]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,lt.jsx)("h3",{style:{color:"#222",marginBottom:"0.5rem"},children:"WhatsApp Groups"}),(0,lt.jsxs)("div",{style:{display:"grid",gap:"0.5rem"},children:[(0,lt.jsxs)("div",{style:{background:"transparent",padding:"0.75rem",borderRadius:6},children:[(0,lt.jsx)("strong",{children:"Family Group:"})," Moothedath Family"]}),(0,lt.jsxs)("div",{style:{background:"transparent",padding:"0.75rem",borderRadius:6},children:[(0,lt.jsx)("strong",{children:"Events Group:"})," Ancestral House Events"]}),(0,lt.jsxs)("div",{style:{background:"transparent",padding:"0.75rem",borderRadius:6},children:[(0,lt.jsx)("strong",{children:"Volunteers Group:"})," House Volunteers"]})]})]}),(0,lt.jsx)("div",{style:{background:"transparent",padding:"1rem",borderRadius:8,textAlign:"center"},children:(0,lt.jsxs)("p",{style:{color:"#666",margin:0},children:[(0,lt.jsx)("strong",{children:"Response Time:"})," Usually within 2-4 hours"]})})]})]})]})]}),(0,lt.jsx)("div",{style:{textAlign:"center",padding:"2rem 0",marginTop:"calc(2rem - 5px)"},children:(0,lt.jsx)("div",{style:{display:"inline-block",background:"rgba(255,255,255,0.5)",padding:"1rem 2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.3)"},children:(0,lt.jsx)("footer",{style:{color:"rgb(0,0,0)",fontSize:"0.9rem",margin:0,fontWeight:600,textShadow:"0 1px 3px rgba(255,255,255,0.8)"},children:"\xa9 2025 The Moothedath Ancestral House. All rights reserved. | Preserving family heritage and memories for generations to come."})})})]}):(0,lt.jsxs)("div",{style:{padding:"2rem",textAlign:"center"},children:[(0,lt.jsx)("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"\u23f3"}),(0,lt.jsx)("p",{children:"Loading chat..."})]})};var Dt=n(147);const Lt=["All Family","Father","Mother","Grandfather","Grandmother","Uncle","Aunt","Children","Community"];const Mt=function(t){let{media:n,setMedia:r}=t;const[i,o]=(0,e.useState)(!1),[a,s]=(0,e.useState)(null);(0,e.useEffect)(()=>{const e=(0,jt.hg)(dt.auth,e=>{e&&e.emailVerified?(o(!0),s(e)):(o(!1),s(null))});return()=>e()},[]);const[l,c]=(0,e.useState)({title:"",type:"image",file:null,event:"",location:"",people:[],caption:"",tags:[],setAsProfilePhoto:!1}),[u,d]=(0,e.useState)(""),[h,f]=(0,e.useState)("All"),[p,m]=(0,e.useState)("All"),g=ee();return n.filter(e=>{const t=e.title.toLowerCase().includes(u.toLowerCase())||e.caption.toLowerCase().includes(u.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(u.toLowerCase())),n="All"===h||e.event===h,r="All"===p||e.location===p;return t&&n&&r}),i?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("div",{style:{position:"relative"},children:(0,lt.jsx)("div",{style:{padding:"2rem",maxWidth:1200,margin:"0 auto",background:"rgba(255,255,255,0.5)",borderRadius:"40px 8px 40px 8px"},children:(0,lt.jsxs)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",marginTop:"2rem",width:"50%",marginLeft:"auto",marginRight:"auto"},children:[(0,lt.jsx)("h2",{style:{position:"relative",zIndex:2,color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udce4 Upload Photo or Video"}),(0,lt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l.file)if("image"===l.type&&l.file.size>10485760)alert("Photo must be less than 10MB");else if("video"===l.type&&l.file.size>104857600)alert("Video must be less than 100MB");else try{const e=(0,Dt.ref)(dt.storage,`uploads/${Date.now()}_${l.file.name}`);await(0,Dt.uploadBytes)(e,l.file);const t=await(0,Dt.getDownloadURL)(e);await(0,ht.gS)((0,ht.rJ)(dt.db,"media"),{title:l.title||l.file.name,type:l.type,url:t,uploadedBy:a?a.email:"Anonymous",uploadDate:(0,ht.O5)(),event:l.event,location:l.location,caption:l.caption,tags:l.tags||[]}),"image"===l.type&&l.setAsProfilePhoto&&dt.auth.currentUser?(await(0,jt.r7)(dt.auth.currentUser,{photoURL:t}),setAppCurrentUser&&setAppCurrentUser(e=>({...e,photoURL:t})),alert("Profile photo updated!")):alert("Media uploaded successfully!"),c({title:"",type:"image",file:null,event:"",location:"",people:[],caption:"",tags:[],setAsProfilePhoto:!1})}catch(t){alert("Upload failed: "+t.message)}else alert("Please select a file.")},children:[(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:2,display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Title *"}),(0,lt.jsx)("input",{type:"text",value:l.title,onChange:e=>c(t=>({...t,title:e.target.value})),required:!0,style:{position:"relative",zIndex:2,width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6},placeholder:"Enter a title for your photo or video"})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:2,display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Select Type *"}),(0,lt.jsxs)("select",{value:l.type,onChange:e=>c(t=>({...t,type:e.target.value})),style:{position:"relative",zIndex:2,width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6},children:[(0,lt.jsx)("option",{value:"image",children:"Photo (JPEG, PNG, WebP, max 10MB)"}),(0,lt.jsx)("option",{value:"video",children:"Video (MP4, MOV, max 100MB)"})]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:2,display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Event *"}),(0,lt.jsxs)("select",{value:l.event,onChange:e=>c(t=>({...t,event:e.target.value})),style:{position:"relative",zIndex:2,width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6},required:!0,children:[(0,lt.jsx)("option",{value:"",children:"Select an event"}),(0,lt.jsx)("option",{value:"Family Gathering",children:"Family Gathering"}),(0,lt.jsx)("option",{value:"Temple Festival",children:"Temple Festival"}),(0,lt.jsx)("option",{value:"Wedding",children:"Wedding"}),(0,lt.jsx)("option",{value:"Pongal",children:"Pongal"}),(0,lt.jsx)("option",{value:"Onam",children:"Onam"}),(0,lt.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:2,display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Location"}),(0,lt.jsxs)("select",{value:l.location,onChange:e=>c(t=>({...t,location:e.target.value})),style:{position:"relative",zIndex:2,width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6},children:[(0,lt.jsx)("option",{value:"",children:"Select a location"}),(0,lt.jsx)("option",{value:"Thinnai",children:"Thinnai"}),(0,lt.jsx)("option",{value:"Veranda",children:"Veranda"}),(0,lt.jsx)("option",{value:"Kitchen",children:"Kitchen"}),(0,lt.jsx)("option",{value:"Prayer Room",children:"Prayer Room"}),(0,lt.jsx)("option",{value:"Temple",children:"Temple"}),(0,lt.jsx)("option",{value:"Granary",children:"Granary"}),(0,lt.jsx)("option",{value:"Courtyard",children:"Courtyard"}),(0,lt.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:2,display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"People"}),(0,lt.jsx)("select",{multiple:!0,value:l.people,onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);c(e=>({...e,people:t}))},style:{position:"relative",zIndex:2,width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,minHeight:"60px"},children:Lt.map(e=>(0,lt.jsx)("option",{value:e,children:e},e))}),(0,lt.jsx)("div",{style:{marginTop:"0.5rem",color:"#666",fontSize:"0.95em"},children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple people."})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:2,display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Caption"}),(0,lt.jsx)("textarea",{value:l.caption,onChange:e=>c(t=>({...t,caption:e.target.value})),style:{position:"relative",zIndex:2,width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,minHeight:"60px"},placeholder:"Add a caption or description (optional)"})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:2,display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Tags"}),(0,lt.jsx)("input",{type:"text",value:l.tagsInput||"",onChange:e=>c(t=>({...t,tagsInput:e.target.value})),onKeyDown:e=>{"Enter"===e.key&&l.tagsInput&&(e.preventDefault(),l.tags.includes(l.tagsInput.trim())||c(e=>({...e,tags:[...e.tags,e.tagsInput.trim()],tagsInput:""})))},style:{position:"relative",zIndex:2,width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6},placeholder:"Type a tag and press Enter"}),(0,lt.jsx)("div",{style:{marginTop:"0.5rem",display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:l.tags&&l.tags.map((e,t)=>(0,lt.jsxs)("span",{style:{background:"#007bff",color:"white",borderRadius:12,padding:"0.3em 1em",fontSize:"0.95em",display:"inline-flex",alignItems:"center"},children:[e,(0,lt.jsx)("button",{type:"button",onClick:()=>c(t=>({...t,tags:t.tags.filter(t=>t!==e)})),style:{marginLeft:6,background:"none",border:"none",color:"white",cursor:"pointer",fontWeight:"bold"},children:"\xd7"})]},t))})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:2,display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"File *"}),(0,lt.jsx)("input",{type:"file",required:!0,accept:"image"===l.type?"image/*":"video/*",onChange:e=>{const t=e.target.files[0];t&&("image"===l.type&&t.size>10485760?alert("Photo must be less than 10MB"):"video"===l.type&&t.size>104857600?alert("Video must be less than 100MB"):c(e=>({...e,file:t})))},style:{position:"relative",zIndex:2,width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6}})]}),(0,lt.jsx)("div",{style:{marginBottom:"1rem"},children:(0,lt.jsxs)("label",{style:{fontWeight:"bold"},children:[(0,lt.jsx)("input",{type:"checkbox",checked:l.setAsProfilePhoto,onChange:e=>c(t=>({...t,setAsProfilePhoto:e.target.checked})),style:{marginRight:8}}),"Set as profile photo"]})}),(0,lt.jsx)("button",{type:"submit",style:{position:"relative",zIndex:2,background:"#28a745",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem",width:"100%"},children:"Upload"})]})]})})}),(0,lt.jsx)("div",{style:{textAlign:"center",padding:"2rem 0",marginTop:"calc(2rem - 5px)"},children:(0,lt.jsx)("div",{style:{display:"inline-block",background:"rgba(255,255,255,0.5)",padding:"1rem 2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.3)"},children:(0,lt.jsx)("footer",{style:{color:"rgb(0,0,0)",fontSize:"0.9rem",margin:0,fontWeight:600,textShadow:"0 1px 3px rgba(255,255,255,0.8)"},children:"\xa9 2025 The Moothedath Ancestral House. All rights reserved. | Preserving family heritage and memories for generations to come."})})})]}):(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("div",{style:{padding:"2rem",maxWidth:"1200px",width:"100%",margin:"0 auto",background:"rgba(255,255,255,0.5)",borderRadius:"40px 8px 40px 8px"},children:[(0,lt.jsx)("h1",{style:{color:"#222",fontSize:"2rem",marginBottom:"1rem"},children:"Photo & Video Upload Portal"}),(0,lt.jsx)("p",{style:{color:"#222",marginBottom:"2rem",fontWeight:"bold",fontSize:"1.15rem",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)"},children:"Secure family login to upload and manage photos and videos from our ancestral house."}),(0,lt.jsxs)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem"},children:"\ud83d\udd10 Authentication Required"}),(0,lt.jsx)("p",{style:{marginBottom:"2rem",fontSize:"1.1rem",fontWeight:"bold",textShadow:"0 1px 2px rgba(0,0,0,0.3)",animation:"pulse 2s ease-in-out infinite, rainbow 4s linear infinite"},children:"You need to be logged in to access the Upload Portal. Please log in or register first."}),(0,lt.jsx)("style",{children:"\n              @keyframes pulse {\n                0% { opacity: 0.7; transform: scale(1); }\n                50% { opacity: 1; transform: scale(1.02); }\n                100% { opacity: 0.7; transform: scale(1); }\n              }\n              @keyframes rainbow {\n                0% { color: #ff0000; }\n                14% { color: #ff8000; }\n                28% { color: #ffff00; }\n                42% { color: #00ff00; }\n                56% { color: #0080ff; }\n                70% { color: #8000ff; }\n                84% { color: #ff0080; }\n                100% { color: #ff0000; }\n              }\n            "}),(0,lt.jsx)("button",{onClick:()=>g("/upload"),style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem",fontWeight:"bold",marginRight:"1rem"},children:"\ud83d\udd11 Go to Login / Register"}),(0,lt.jsx)("button",{onClick:()=>g("/home"),style:{background:"#6c757d",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"\ud83c\udfe0 Back to Home"})]})]}),(0,lt.jsx)("div",{style:{textAlign:"center",marginTop:"2rem"},children:(0,lt.jsx)("footer",{style:{color:"rgb(0,0,0)",fontSize:"0.9rem",margin:0,fontWeight:600,textShadow:"0 1px 3px rgba(255,255,255,0.8)"},children:"\xa9 2025 The Moothedath Ancestral House. All rights reserved. | Preserving family heritage and memories for generations to come."})})]})};const zt=function(){const[t,n]=(0,e.useState)({name:"",email:"",phone:"",subject:"",message:""}),[r,i]=(0,e.useState)(!1),o=e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))};return(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{style:{padding:"2rem",maxWidth:1200,width:"100%",margin:"0 auto",background:"rgba(255,255,255,0.5)",borderRadius:"40px 8px 40px 8px",height:"auto",paddingBottom:"120px"},children:[(0,lt.jsx)("h1",{style:{position:"relative",zIndex:10,color:"#222",fontSize:"2.2rem",marginBottom:"1.5rem",fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)"},children:"\ud83d\udcde Contact Us"}),(0,lt.jsx)("p",{style:{color:"#222",fontSize:"1.15rem",marginBottom:"2.5rem",position:"relative",zIndex:10,fontWeight:"bold",textShadow:"0 2px 8px rgba(255,255,255,0.7), 0 1px 2px rgba(0,0,0,0.15)"},children:"Get in touch with the Moothedath family. We'd love to hear from you!"}),(0,lt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"3rem",marginBottom:"2rem"},children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1.5rem"},children:"\ud83d\udccd Contact Information"}),(0,lt.jsxs)("div",{style:{background:"rgba(255,255,255,0.5)",padding:"1.5rem",borderRadius:"12px",marginBottom:"1.5rem",border:"2px solid rgb(40, 167, 69)"},children:[(0,lt.jsx)("h3",{style:{color:"#007bff",fontSize:"1.2rem",marginBottom:"1rem"},children:"\ud83c\udfe0 Address"}),(0,lt.jsx)("p",{style:{color:"#000",lineHeight:1.6,margin:0,fontSize:"1.35rem"},children:"The Moothedath House, Kallanthara, Erattakkulam Post, Para-Elappulli Via, Palakkad - 678 622. Kerala, India."})]}),(0,lt.jsxs)("div",{style:{background:"rgba(255,255,255,0.5)",padding:"1.5rem",borderRadius:12,marginBottom:"1.5rem",border:"2px solid rgb(255, 193, 7)"},children:[(0,lt.jsx)("h3",{style:{color:"#28a745",fontSize:"1.2rem",marginBottom:"1rem"},children:"\ud83d\udcde Phone Numbers"}),(0,lt.jsx)("style",{children:"\n                    .rainbow-text {\n                      background: linear-gradient(270deg, red, orange, yellow, green, blue, indigo, violet, red);\n                      background-size: 1400% 1400%;\n                      -webkit-background-clip: text;\n                      -webkit-text-fill-color: transparent;\n                      background-clip: text;\n                      text-fill-color: transparent;\n                      font-weight: bold;\n                      animation: rainbow-animate 6s ease-in-out infinite;\n                      font-size: 1.25rem;\n                    }\n                    @keyframes rainbow-animate {\n                      0% { background-position: 0% 50%; }\n                      50% { background-position: 100% 50%; }\n                      100% { background-position: 0% 50%; }\n                    }\n                  "}),(0,lt.jsxs)("div",{style:{color:"#fff",lineHeight:1.6},children:[(0,lt.jsxs)("p",{style:{margin:"0.5rem 0"},children:[(0,lt.jsx)("strong",{style:{fontSize:"20px",WebkitTextStroke:"0.5px #000",color:"#fff"},children:"Main House:"})," ",(0,lt.jsx)("span",{className:"rainbow-text",style:{marginLeft:"9px"},children:"Mr. SIVAN - Karanavar : +91 93631 10446"})]}),(0,lt.jsxs)("p",{style:{margin:"0.5rem 0"},children:[(0,lt.jsx)("strong",{style:{fontSize:"20px",WebkitTextStroke:"0.5px #000",color:"#fff"},children:"Family Office:"})," ",(0,lt.jsx)("span",{className:"rainbow-text",children:"Mrs. Sathya Bama : +91 86085 82519"})]}),(0,lt.jsxs)("p",{style:{margin:"0.5rem 0"},children:[(0,lt.jsx)("strong",{style:{fontSize:"20px",WebkitTextStroke:"0.5px #000",color:"#fff"},children:"Support:"})," ",(0,lt.jsx)("span",{className:"rainbow-text",children:"Mr. Rajesh Kumar S : +91 97896 55564"})]})]})]}),(0,lt.jsxs)("div",{style:{background:"rgba(255,255,255,0.5)",padding:"1.5rem",borderRadius:12,marginBottom:"1.5rem",border:"2px solid rgb(255, 193, 7)"},children:[(0,lt.jsx)("h3",{style:{color:"#ffc107",fontSize:"1.2rem",marginBottom:"1rem"},children:"\u2709\ufe0f Email"}),(0,lt.jsx)("div",{style:{color:"#fff",lineHeight:1.6},children:(0,lt.jsxs)("p",{style:{margin:"0.5rem 0"},children:[(0,lt.jsx)("strong",{children:"Support:"}),(0,lt.jsx)("br",{}),(0,lt.jsx)("a",{href:"mailto:family.moothedathhouse@gmail.com",style:{color:"#007bff",textDecoration:"none"},children:"family.moothedathhouse@gmail.com"})]})})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1.5rem"},children:"\ud83d\udcdd Send us a Message"}),r&&(0,lt.jsx)("div",{style:{background:"#d4edda",color:"#155724",padding:"1rem",borderRadius:8,marginBottom:"1.5rem",border:"1px solid #c3e6cb"},children:"\u2705 Thank you for your message! We'll get back to you soon."}),(0,lt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Contact form submitted:",t),i(!0),n({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>i(!1),3e3)},style:{background:"transparent",padding:"1.5rem",borderRadius:12,border:"2px solid #6c757d"},children:[(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"bold"},children:"Full Name *"}),(0,lt.jsx)("input",{type:"text",name:"name",value:t.name,onChange:o,required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,fontSize:"1rem",background:"rgba(255,255,255,0.8)"}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"bold"},children:"Email Address *"}),(0,lt.jsx)("input",{type:"email",name:"email",value:t.email,onChange:o,required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,fontSize:"1rem",background:"rgba(255,255,255,0.8)"}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"bold"},children:"Phone Number"}),(0,lt.jsx)("input",{type:"tel",name:"phone",value:t.phone,onChange:o,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,fontSize:"1rem",background:"rgba(255,255,255,0.8)"}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lt.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"bold"},children:"Subject *"}),(0,lt.jsxs)("select",{name:"subject",value:t.subject,onChange:o,required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,fontSize:"1rem",background:"rgba(255,255,255,0.8)"},children:[(0,lt.jsx)("option",{value:"",children:"Select a subject"}),(0,lt.jsx)("option",{value:"general",children:"General Inquiry"}),(0,lt.jsx)("option",{value:"family-event",children:"Family Event"}),(0,lt.jsx)("option",{value:"visit",children:"Visit Request"}),(0,lt.jsx)("option",{value:"support",children:"Technical Support"}),(0,lt.jsx)("option",{value:"feedback",children:"Feedback"}),(0,lt.jsx)("option",{value:"other",children:"Other"})]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,lt.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"bold"},children:"Message *"}),(0,lt.jsx)("textarea",{name:"message",value:t.message,onChange:o,required:!0,rows:"5",style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,fontSize:"1rem",resize:"vertical",background:"rgba(255,255,255,0.8)"},placeholder:"Please share your message with us..."})]}),(0,lt.jsx)("button",{type:"submit",style:{background:"#007bff",color:"white",padding:"0.75rem 2rem",border:"none",borderRadius:6,fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>e.target.style.background="#0056b3",onMouseLeave:e=>e.target.style.background="#007bff",children:"Send Message"})]})]})]}),(0,lt.jsxs)("div",{style:{marginTop:"3rem"},children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1.5rem"},children:"\ud83d\uddfa\ufe0f Location"}),(0,lt.jsxs)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,border:"2px solid #17a2b8",textAlign:"center"},children:[(0,lt.jsx)("p",{style:{color:"#000",fontSize:"1.1rem",marginBottom:"1rem"},children:"The Moothedath Ancestral House is located in the heart of Kerala, surrounded by the beautiful landscapes and rich cultural heritage of the region."}),(0,lt.jsxs)("div",{style:{background:"#f8f9fa",padding:"2rem",borderRadius:8,border:"1px dashed #6c757d",marginTop:"1rem",textAlign:"center"},children:[(0,lt.jsx)("iframe",{title:"Google Map - The Moothedath House",width:"100%",height:"350",frameBorder:"0",style:{border:0,borderRadius:8},src:"https://www.google.com/maps?q=QQ2R%2BR67,+Chittur-Thathamangalam,+Kerala+678622&output=embed",allowFullScreen:!0}),(0,lt.jsxs)("p",{style:{color:"#000",fontSize:"1rem",margin:"1rem 0 0 0"},children:["\ud83d\udccd ",(0,lt.jsx)("strong",{children:"The Moothedath House"}),(0,lt.jsx)("br",{}),"The Moothedath House, Kallanthara, Erattakkulam Post, Para-Elappulli Via, Palakkad - 678 622. Kerala, India."]})]})]})]})]}),(0,lt.jsx)("div",{style:{textAlign:"center",padding:"2rem 0",marginTop:"calc(2rem - 5px)"},children:(0,lt.jsx)("div",{style:{display:"inline-block",background:"rgba(255,255,255,0.5)",padding:"1rem 2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.3)"},children:(0,lt.jsx)("footer",{style:{color:"rgb(0,0,0)",fontSize:"0.9rem",margin:0,fontWeight:600,textShadow:"0 1px 3px rgba(255,255,255,0.8)"},children:"\xa9 2025 The Moothedath Ancestral House. All rights reserved. | Preserving family heritage and memories for generations to come."})})})]})},Ft=()=>(0,lt.jsx)("div",{style:{minHeight:"100vh",background:"transparent"}}),Ut={position:"fixed",top:0,left:0,minWidth:"100vw",minHeight:"100vh",width:"auto",height:"auto",zIndex:9999,objectFit:"cover"},Bt={position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, calc(-50% - 40px))",color:"pink",WebkitTextStroke:"2px black",textStroke:"2px black",fontSize:"100px",fontFamily:"Segoe UI, Arial, sans-serif",letterSpacing:"2px",zIndex:1e4,display:"none",textTransform:"uppercase",textDecoration:"underline",textDecorationColor:"red",textUnderlineOffset:"0.15em",whiteSpace:"nowrap",cursor:"pointer",textShadow:"0 2px 8px rgba(0,0,0,0.7),\n    2px 0 0 #fff,\n    -2px 0 0 #fff,\n    0 2px 0 #fff,\n    0 -2px 0 #fff,\n    4px 4px 0 #b30000,\n    8px 8px 16px #000,\n    1px 1px 0 #800000,\n    2px 2px 2px #333"};const Vt=function(){const t=(0,e.useRef)(null),n=(0,e.useRef)(null),r=ee();(0,e.useEffect)(()=>{n.current&&n.current.play().catch(e=>{console.log("Autoplay prevented:",e),i()})},[]);const i=()=>{if(document.body.style.background="black",n.current&&(n.current.style.display="none"),t.current){t.current.style.display="block",t.current.classList.add("zoom-out-center");const e=()=>{t.current.classList.remove("zoom-out-center"),t.current.classList.add("float-center"),t.current.removeEventListener("animationend",e)};t.current.addEventListener("animationend",e)}};return(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("style",{children:["@keyframes zoomOutCenter {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, calc(-50% - 40px)) scale(0.1);\n  }\n  60% {\n    opacity: 1;\n    transform: translate(-50%, calc(-50% - 40px)) scale(1.2);\n  }\n  100% {\n    opacity: 1;\n    transform: translate(-50%, calc(-50% - 40px)) scale(1);\n  }\n}@keyframes floatText {\n  0% {\n    transform: translate(-50%, calc(-50% - 40px)) scale(1);\n  }\n  50% {\n    transform: translate(-50%, calc(-52% - 40px)) scale(1.04);\n  }\n  100% {\n    transform: translate(-50%, calc(-50% - 40px)) scale(1);\n  }\n}@keyframes colorChange {\n  0% { color: #ff0000; }\n  14% { color: #ff8000; }\n  28% { color: #ffff00; }\n  42% { color: #00ff00; }\n  56% { color: #0080ff; }\n  70% { color: #8000ff; }\n  84% { color: #ff0080; }\n  100% { color: #ff0000; }\n}",".zoom-out-center { \n        animation: zoomOutCenter 1.2s cubic-bezier(0.23, 1.01, 0.32, 1) forwards, colorChange 8s ease-in-out infinite !important; \n      }",".float-center { \n        animation: floatText 2.5s ease-in-out infinite, colorChange 8s ease-in-out infinite !important; \n      }","#bottom-center-text.zoom-out-center,\n        #bottom-center-text.float-center,\n        .moothedath-text.zoom-out-center,\n        .moothedath-text.float-center {\n        animation: zoomOutCenter 1.2s cubic-bezier(0.23, 1.01, 0.32, 1) forwards, colorChange 8s ease-in-out infinite !important;\n      }","#bottom-center-text.float-center,\n        .moothedath-text.float-center {\n        animation: floatText 2.5s ease-in-out infinite, colorChange 8s ease-in-out infinite !important;\n      }"]}),(0,lt.jsxs)("video",{id:"bg-video",ref:n,autoPlay:!0,muted:!0,playsInline:!0,preload:"auto",onEnded:i,onError:()=>{console.log("Video failed to load, showing text immediately"),document.body.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)",i()},onLoadStart:()=>{console.log("Video loading started")},onCanPlay:()=>{console.log("Video can play")},style:Ut,onClick:()=>{n.current&&(n.current.muted=!1,n.current.play().catch(e=>{console.log("Audio enable failed:",e)}))},children:[(0,lt.jsx)("source",{src:"/main-wall.mp4",type:"video/mp4"}),(0,lt.jsx)("source",{src:"/Wallpaper-1.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,lt.jsx)("div",{id:"bottom-center-text",className:"moothedath-text",ref:t,style:Bt,onClick:()=>{r("/home")},children:"The Moothedath"})]})};const $t=function(){return(0,lt.jsxs)("div",{style:{padding:"2rem",textAlign:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"100vh",color:"white"},children:[(0,lt.jsx)("h1",{style:{fontSize:"3rem",marginBottom:"2rem"},children:"\ud83c\udf08 Rainbow Animation Test"}),(0,lt.jsxs)("div",{style:{margin:"2rem 0"},children:[(0,lt.jsx)("h2",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"Test 1: Basic Rainbow Text"}),(0,lt.jsx)("p",{style:{fontSize:"2.5rem",fontWeight:"bold",animation:"rainbow 3s linear infinite",margin:"1rem 0"},children:"This text should change colors!"})]}),(0,lt.jsxs)("div",{style:{margin:"2rem 0"},children:[(0,lt.jsx)("h2",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"Test 2: Developer Text Style"}),(0,lt.jsx)("div",{style:{display:"inline-block",background:"rgba(0,0,0,0.3)",padding:"1rem 2rem",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)",border:"2px solid rgba(255,255,255,0.2)",animation:"pulse 2s ease-in-out infinite"},children:(0,lt.jsx)("p",{style:{fontSize:"1.5rem",margin:0,fontWeight:"bold",animation:"rainbow 4s linear infinite",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:"Developed by Rajesh Kumar Menon Moothedath"})})]}),(0,lt.jsxs)("div",{style:{margin:"2rem 0"},children:[(0,lt.jsx)("h2",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"Test 3: Simple Color Change"}),(0,lt.jsx)("p",{style:{fontSize:"2rem",fontWeight:"bold",animation:"simpleRainbow 2s linear infinite",margin:"1rem 0"},children:"Simple rainbow effect"})]}),(0,lt.jsx)("style",{children:"\n          @keyframes rainbow {\n            0% { color: #ff0000; }\n            14% { color: #ff8000; }\n            28% { color: #ffff00; }\n            42% { color: #00ff00; }\n            56% { color: #0080ff; }\n            70% { color: #8000ff; }\n            84% { color: #ff0080; }\n            100% { color: #ff0000; }\n          }\n          \n          @keyframes simpleRainbow {\n            0% { color: red; }\n            16% { color: orange; }\n            32% { color: yellow; }\n            48% { color: green; }\n            64% { color: blue; }\n            80% { color: indigo; }\n            96% { color: violet; }\n            100% { color: red; }\n          }\n          \n          @keyframes pulse {\n            0% { transform: scale(1); }\n            50% { transform: scale(1.05); }\n            100% { transform: scale(1); }\n          }\n        "})]})};var Wt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ht=e.createContext&&e.createContext(Wt),qt=["attr","size","title"];function Kt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gt(){return Gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gt.apply(this,arguments)}function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach(function(t){Jt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(t){return t&&t.map((t,n)=>e.createElement(t.tag,Yt({key:n},t.attr),Xt(t.child)))}function Zt(t){return n=>e.createElement(en,Gt({attr:Yt({},t.attr)},n),Xt(t.child))}function en(t){var n=n=>{var r,{attr:i,size:o,title:a}=t,s=Kt(t,qt),l=o||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",Gt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Yt(Yt({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==Ht?e.createElement(Ht.Consumer,null,e=>n(e)):n(Wt)}function tn(e){return Zt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function nn(e){return Zt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}const rn=function(t){let{setIsLoggedIn:n,setCurrentUser:r,...i}=t;const[o,a]=(0,e.useState)(!1),[s,l]=(0,e.useState)(null),[c,u]=(0,e.useState)({email:"",password:""}),[d,h]=(0,e.useState)("login"),[f,p]=(0,e.useState)({fullName:"",email:"",profilePhoto:null,password:"",confirmPassword:"",agree:!1}),[m,g]=(0,e.useState)({email:""}),[y,v]=(0,e.useState)(""),[b,w]=(0,e.useState)(""),[x,S]=(0,e.useState)(""),[k,E]=(0,e.useState)(""),[_,T]=(0,e.useState)(!1),[C,I]=(0,e.useState)(""),[R,A]=(0,e.useState)(!1),[j,P]=(0,e.useState)(null),[N,O]=(0,e.useState)(!1),[D,L]=(0,e.useState)(!1),[M,z]=(0,e.useState)(!1),F=e=>{if(!e)return"";if(e.displayName&&e.displayName.trim())return e.displayName;if(e.email){const t=e.email.split("@")[0];return t.replace(/[0-9]/g,"").replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()||t}return"User"};(0,e.useEffect)(()=>{const e=(0,jt.hg)(dt.auth,e=>{if(e){const t={email:e.email,uid:e.uid,photoURL:e.photoURL||"",displayName:e.displayName||"",phoneNumber:e.phoneNumber||"",providerId:e.providerId||""};l(t),a(!0),n&&n(!0),r&&r(t)}else a(!1),l(null),n&&n(!1),r&&r(null)});return()=>e()},[n,r]);const U=async()=>{await(0,jt.CI)(dt.auth),a(!1),l(null),u({email:"",password:""}),n&&n(!1),r&&r(null)};return o?(0,lt.jsx)("div",{style:{position:"relative"},children:(0,lt.jsx)("div",{style:{padding:"2rem",maxWidth:"1200px",width:"100%",margin:"0 auto",background:"rgba(255,255,255,0.5)",borderRadius:"40px 8px 40px 8px",position:"relative",zIndex:100,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"80vh"},children:(0,lt.jsxs)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",position:"relative",zIndex:102,width:"100%",maxWidth:700,textAlign:"center"},children:[(0,lt.jsx)("h1",{style:{color:"#222",fontSize:"2rem",marginBottom:"1rem"},children:"\ud83c\udf89 Welcome Back!"}),(0,lt.jsxs)("p",{style:{color:"#28a745",fontSize:"1.1rem",marginBottom:"2rem",textShadow:"1px 1px 2px rgba(0,0,0,0.8), -1px -1px 2px rgba(0,0,0,0.8), 1px -1px 2px rgba(0,0,0,0.8), -1px 1px 2px rgba(0,0,0,0.8)",fontWeight:"bold"},children:["You are successfully logged in as: ",(0,lt.jsx)("strong",{children:F(s)})]}),(0,lt.jsx)("div",{style:{marginBottom:"2rem"},children:(0,lt.jsx)("p",{style:{color:"#28a745",marginBottom:"1rem",textShadow:"1px 1px 2px rgba(0,0,0,0.8), -1px -1px 2px rgba(0,0,0,0.8), 1px -1px 2px rgba(0,0,0,0.8), -1px 1px 2px rgba(0,0,0,0.8)",fontWeight:"bold"},children:"You can now access the Upload Portal to share family photos and videos."})}),(0,lt.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[(0,lt.jsx)("button",{onClick:()=>window.location.href="/upload-portal",style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"\ud83d\udce4 Go to Upload Portal"}),(0,lt.jsx)("button",{onClick:U,style:{background:"#dc3545",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"\ud83d\udeaa Logout"})]})]})})}):(0,lt.jsxs)("div",{style:{position:"relative"},children:[(0,lt.jsx)("div",{style:{padding:"2rem",maxWidth:"1200px",width:"100%",margin:"0 auto",background:"rgba(255,255,255,0.5)",borderRadius:"40px 8px 40px 8px",position:"relative",zIndex:100,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},children:(0,lt.jsxs)("div",{style:{background:"transparent",padding:"2rem",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",position:"relative",zIndex:102,width:"100%",maxWidth:700,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,lt.jsx)("h1",{style:{position:"relative",zIndex:102,color:"#222",fontSize:"2rem",marginBottom:"1rem",textAlign:"left",width:"100%"},children:"Login / Registration"}),(0,lt.jsx)("p",{style:{position:"relative",zIndex:102,color:"#000",fontWeight:"bold",marginBottom:"2rem",textAlign:"left",width:"100%"},children:"Secure family login to upload and manage photos and videos from our ancestral house."}),(0,lt.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",position:"relative",zIndex:101},children:[(0,lt.jsx)("button",{onClick:()=>h("login"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"login"===d?"#007bff":"transparent",color:"login"===d?"white":"#333",cursor:"pointer",fontWeight:"login"===d?"bold":"normal",position:"relative",zIndex:102},children:"Login"}),(0,lt.jsx)("button",{onClick:()=>h("register"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"register"===d?"#007bff":"transparent",color:"register"===d?"white":"#333",cursor:"pointer",fontWeight:"register"===d?"bold":"normal",position:"relative",zIndex:102},children:"Register"}),(0,lt.jsx)("button",{onClick:()=>h("forgot-password"),style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:8,background:"forgot-password"===d?"#007bff":"transparent",color:"forgot-password"===d?"white":"#333",cursor:"pointer",fontWeight:"forgot-password"===d?"bold":"normal",position:"relative",zIndex:102},children:"Forgot Password"})]}),"login"===d&&(0,lt.jsxs)("div",{style:{background:"transparent",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",width:"100%",position:"relative",zIndex:101},children:[(0,lt.jsx)("h2",{style:{color:"#333",fontSize:"1.5rem",marginBottom:"1rem",textAlign:"left",width:"100%",padding:"0 1rem"},children:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66 Family Login"}),(0,lt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(await(0,jt.x9)(dt.auth,c.email,c.password)).user;if(!e.emailVerified)return await(0,jt.CI)(dt.auth),void alert("Please verify your email before logging in. Check your inbox for a verification link.");const t={email:e.email,uid:e.uid,photoURL:e.photoURL||"",displayName:e.displayName||"",phoneNumber:e.phoneNumber||"",providerId:e.providerId||""};l(t),a(!0),n&&n(!0),r&&r(t),alert(`Welcome back, ${F(e)}!`)}catch(t){alert("Login failed: "+t.message)}},style:{display:"flex",flexDirection:"column",alignItems:"center",position:"relative",zIndex:102,padding:"0 1rem"},children:[(0,lt.jsxs)("div",{style:{marginBottom:"1rem",position:"relative",zIndex:103,width:"100%"},children:[(0,lt.jsx)("label",{htmlFor:"login-email",style:{position:"relative",zIndex:104,display:"block",marginBottom:"0.5rem",fontWeight:"bold",textAlign:"left",width:"100%"},children:"Family Email *"}),(0,lt.jsx)("input",{id:"login-email",name:"email",type:"email",required:!0,value:c.email,onChange:e=>u(t=>({...t,email:e.target.value})),placeholder:"Enter your family email",style:{position:"relative",zIndex:105,padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,width:"100%",textAlign:"left",boxSizing:"border-box"}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem",position:"relative",zIndex:103,width:"100%"},children:[(0,lt.jsx)("label",{htmlFor:"login-password",style:{position:"relative",zIndex:104,display:"block",marginBottom:"0.5rem",fontWeight:"bold",textAlign:"left",width:"100%"},children:"Password *"}),(0,lt.jsx)("input",{id:"login-password",name:"password",type:"password",required:!0,value:c.password,onChange:e=>u(t=>({...t,password:e.target.value})),placeholder:"Enter your password",style:{position:"relative",zIndex:105,padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,width:"100%",textAlign:"left",boxSizing:"border-box"}})]}),(0,lt.jsx)("button",{type:"submit",style:{position:"relative",zIndex:105,background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem",width:"100%",boxSizing:"border-box"},children:"Login to Family Portal"})]})]}),"register"===d&&(0,lt.jsxs)("div",{style:{background:"transparent",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",width:"100%",position:"relative",zIndex:101},children:[(0,lt.jsx)("h2",{style:{position:"relative",zIndex:102,color:"#333",fontSize:"1.5rem",marginBottom:"1rem",padding:"0 1rem"},children:"\ud83d\udcdd Register"}),(0,lt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v(""),w(""),f.fullName&&f.email&&f.password&&f.confirmPassword)if(f.password===f.confirmPassword)if(f.agree)try{const e=(await(0,jt.eJ)(dt.auth,f.email,f.password)).user;let t="";if(f.profilePhoto){const n=(0,Dt.ref)(dt.storage,`profilePhotos/${e.uid}`);await(0,Dt.uploadBytes)(n,f.profilePhoto),t=await(0,Dt.getDownloadURL)(n)}await(0,jt.r7)(e,{displayName:f.fullName,photoURL:t||e.photoURL}),await(0,ht.BN)((0,ht.H9)(dt.db,"users",e.uid),{fullName:f.fullName,email:f.email,profilePhoto:t,createdAt:(new Date).toISOString()}),await(0,jt.gA)(e),w("Registration successful! Please check your email to verify your account before logging in."),p({fullName:"",email:"",profilePhoto:null,password:"",confirmPassword:"",agree:!1}),h("login")}catch(t){v("Registration failed: "+t.message)}else v("You must agree to the Terms & Conditions.");else v("Passwords do not match.");else v("Please fill in all required fields.")},style:{display:"flex",flexDirection:"column",alignItems:"center",position:"relative",zIndex:102,padding:"0 1rem"},children:[(0,lt.jsxs)("div",{style:{marginBottom:"1rem",position:"relative",zIndex:103,width:"100%"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:104,display:"block",marginBottom:"0.5rem",fontWeight:"bold",textAlign:"left",width:"100%"},children:"Full Name *"}),(0,lt.jsx)("input",{type:"text",required:!0,value:f.fullName,onChange:e=>p(t=>({...t,fullName:e.target.value})),placeholder:"Enter your full name",style:{position:"relative",zIndex:105,padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,width:"100%",textAlign:"left",boxSizing:"border-box"}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem",position:"relative",zIndex:103,width:"100%"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:104,display:"block",marginBottom:"0.5rem",fontWeight:"bold",textAlign:"left",width:"100%"},children:"Email *"}),(0,lt.jsx)("input",{type:"email",required:!0,value:f.email,onChange:e=>p(t=>({...t,email:e.target.value})),placeholder:"Enter your email",style:{position:"relative",zIndex:105,padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,width:"100%",textAlign:"left",boxSizing:"border-box"}})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem",position:"relative",zIndex:103,width:"100%"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:104,display:"block",marginBottom:"0.5rem",fontWeight:"bold",textAlign:"left",width:"100%"},children:"Profile Photo"}),(0,lt.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&p(e=>({...e,profilePhoto:t}))},style:{position:"relative",zIndex:105,padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,width:"100%",textAlign:"left",boxSizing:"border-box"}}),(0,lt.jsx)("small",{style:{color:"#666",fontSize:"0.8rem"},children:"Optional: Upload a profile photo"})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem",position:"relative",zIndex:103,width:"100%"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:104,display:"block",marginBottom:"0.5rem",fontWeight:"bold",textAlign:"left",width:"100%"},children:"Password *"}),(0,lt.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,lt.jsx)("input",{type:D?"text":"password",required:!0,value:f.password,onChange:e=>p(t=>({...t,password:e.target.value})),placeholder:"Enter your password",style:{position:"relative",zIndex:105,padding:"0.75rem 2.5rem 0.75rem 0.75rem",border:"1px solid #ddd",borderRadius:6,width:"100%",textAlign:"left",boxSizing:"border-box"}}),(0,lt.jsx)("span",{onClick:()=>L(e=>!e),style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",cursor:"pointer",zIndex:106},tabIndex:0,"aria-label":D?"Hide password":"Show password",children:D?(0,lt.jsx)(tn,{}):(0,lt.jsx)(nn,{})})]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem",position:"relative",zIndex:103,width:"100%"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:104,display:"block",marginBottom:"0.5rem",fontWeight:"bold",textAlign:"left",width:"100%"},children:"Confirm Password *"}),(0,lt.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,lt.jsx)("input",{type:M?"text":"password",required:!0,value:f.confirmPassword,onChange:e=>p(t=>({...t,confirmPassword:e.target.value})),placeholder:"Confirm your password",style:{position:"relative",zIndex:105,padding:"0.75rem 2.5rem 0.75rem 0.75rem",border:"1px solid #ddd",borderRadius:6,width:"100%",textAlign:"left",boxSizing:"border-box"}}),(0,lt.jsx)("span",{onClick:()=>z(e=>!e),style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",cursor:"pointer",zIndex:106},tabIndex:0,"aria-label":M?"Hide password":"Show password",children:M?(0,lt.jsx)(tn,{}):(0,lt.jsx)(nn,{})})]})]}),(0,lt.jsxs)("div",{style:{marginBottom:"1rem",position:"relative",zIndex:103,width:"100%",display:"flex",alignItems:"center"},children:[(0,lt.jsx)("input",{type:"checkbox",id:"agree-terms",checked:f.agree,onChange:e=>p(t=>({...t,agree:e.target.checked})),style:{marginRight:"0.5rem"}}),(0,lt.jsx)("label",{htmlFor:"agree-terms",style:{position:"relative",zIndex:104,fontSize:"0.9rem"},children:"I agree to the Terms & Conditions *"})]}),(0,lt.jsx)("button",{type:"submit",style:{position:"relative",zIndex:105,background:"#28a745",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem",width:"100%",boxSizing:"border-box"},children:"Register"}),(0,lt.jsx)("div",{id:"recaptcha-container"}),y&&(0,lt.jsx)("div",{style:{color:"red",marginTop:"1rem",position:"relative",zIndex:105},children:y}),b&&(0,lt.jsx)("div",{style:{color:"green",marginTop:"1rem",position:"relative",zIndex:105},children:b})]})]}),"forgot-password"===d&&(0,lt.jsxs)("div",{style:{background:"transparent",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",width:"100%",position:"relative",zIndex:101},children:[(0,lt.jsx)("h2",{style:{position:"relative",zIndex:102,color:"#333",fontSize:"1.5rem",marginBottom:"1rem",padding:"0 1rem"},children:"\ud83d\udd11 Forgot Password"}),(0,lt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),S(""),E(""),m.email)try{await(0,jt.J1)(dt.auth,m.email),E("Password reset email sent! Please check your inbox and follow the instructions."),g({email:""})}catch(t){S("Failed to send password reset email: "+t.message)}else S("Please enter your email address.")},style:{display:"flex",flexDirection:"column",alignItems:"center",position:"relative",zIndex:102,padding:"0 1rem"},children:[(0,lt.jsxs)("div",{style:{marginBottom:"1rem",position:"relative",zIndex:103,width:"100%"},children:[(0,lt.jsx)("label",{style:{position:"relative",zIndex:104,display:"block",marginBottom:"0.5rem",fontWeight:"bold",textAlign:"left",width:"100%"},children:"Email Address *"}),(0,lt.jsx)("input",{type:"email",required:!0,value:m.email,onChange:e=>g(t=>({...t,email:e.target.value})),placeholder:"Enter your email address",style:{position:"relative",zIndex:105,padding:"0.75rem",border:"1px solid #ddd",borderRadius:6,width:"100%",textAlign:"left",boxSizing:"border-box"}})]}),(0,lt.jsx)("button",{type:"submit",style:{position:"relative",zIndex:105,background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:6,cursor:"pointer",fontSize:"1rem",width:"100%",boxSizing:"border-box"},children:"Send Password Reset Link"}),x&&(0,lt.jsx)("div",{style:{color:"red",marginTop:"1rem",position:"relative",zIndex:105},children:x}),k&&(0,lt.jsx)("div",{style:{color:"green",marginTop:"1rem",position:"relative",zIndex:105},children:k}),(0,lt.jsx)("div",{style:{marginTop:"1rem",position:"relative",zIndex:105},children:(0,lt.jsx)("button",{type:"button",onClick:()=>h("login"),style:{background:"transparent",color:"#007bff",border:"1px solid #007bff",padding:"0.5rem 1rem",borderRadius:6,cursor:"pointer",fontSize:"0.9rem",textDecoration:"none"},children:"\u2190 Back to Login"})})]})]})]})}),(0,lt.jsx)("div",{style:{textAlign:"center",padding:"2rem 0",marginTop:"calc(2rem - 5px)"},children:(0,lt.jsx)("div",{style:{display:"inline-block",background:"rgba(255,255,255,0.5)",padding:"1rem 2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.3)"},children:(0,lt.jsx)("footer",{style:{color:"rgb(0,0,0)",fontSize:"0.9rem",margin:0,fontWeight:600,textShadow:"0 1px 3px rgba(255,255,255,0.8)"},children:"\xa9 2025 The Moothedath Ancestral House. All rights reserved. | Preserving family heritage and memories for generations to come."})})})]})},on=[{id:1,type:"image",url:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400",title:"Family Gathering 2024",year:2024,event:"Family Reunion",person:"All Family",location:"Thinnai",caption:"Annual family reunion in the traditional thinnai"},{id:2,type:"image",url:"https://images.unsplash.com/photo-1513694203232-719a280e022f?w=400",title:"Temple Festival",year:2023,event:"Temple Festival",person:"Community",location:"Temple",caption:"Traditional temple festival celebration"},{id:3,type:"image",url:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400",title:"Wedding Ceremony",year:2023,event:"Wedding",person:"Newlyweds",location:"Veranda",caption:"Beautiful wedding ceremony in the ancestral house"},{id:4,type:"image",url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400",title:"Pongal Celebration",year:2024,event:"Pongal",person:"Family",location:"Kitchen",caption:"Traditional Pongal cooking in the ancestral kitchen"},{id:5,type:"image",url:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=400",title:"Onam Festivities",year:2024,event:"Onam",person:"Family",location:"Courtyard",caption:"Onam flower carpet and celebrations in the courtyard"},{id:6,type:"image",url:"https://images.unsplash.com/photo-1464983953574-0892a716854b?w=400",title:"Other Family Moments",year:2023,event:"Other",person:"Family",location:"Garden",caption:"Candid family moments in the garden"}];function an(t){let{media:n,setMedia:r}=t;const i=J(),o=ee(),a="/logo-test"===i.pathname,s="/"===i.pathname||"/Intro"===i.pathname||"/Home/Intro"===i.pathname,[l,c]=(0,e.useState)(!0),[u,d]=(0,e.useState)(!1),[h,f]=(0,e.useState)(!1),p=(0,e.useRef)(null),[m,g]=(0,e.useState)(!1),[y,v]=(0,e.useState)({});(0,e.useEffect)(()=>{if("localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname&&window.location.search.includes("?/"))try{const e="/"+window.location.search.replace("?/","").replace(/~and~/g,"&").split("&")[0];e!==i.pathname&&"/"!==e?o(e,{replace:!0}):"/"===e&&o("/",{replace:!0})}catch(e){console.error("Error handling GitHub Pages redirect:",e),o("/",{replace:!0})}},[o,i.pathname]),(0,e.useEffect)(()=>{const e=(0,jt.hg)(dt.auth,e=>{e?(g(!0),v({email:e.email,uid:e.uid,photoURL:e.photoURL||"",displayName:e.displayName||"",phoneNumber:e.phoneNumber||"",providerId:e.providerId||""})):(g(!1),v({}))});return()=>e()},[]);return(0,lt.jsxs)("div",{style:{fontFamily:"Arial, sans-serif",background:"transparent",minHeight:"100vh",margin:0},children:[!a&&!s&&(0,lt.jsxs)(lt.Fragment,{children:[h&&(0,lt.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",zIndex:-2}}),!u&&!h&&(0,lt.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1e3,color:"white",fontSize:"1.2rem",textAlign:"center",background:"rgba(0,0,0,0.7)",padding:"1rem 2rem",borderRadius:"8px"},children:[(0,lt.jsx)("div",{style:{marginBottom:"1rem"},children:"\ud83c\udfa5"}),"Loading background video..."]}),(0,lt.jsxs)("video",{ref:p,autoPlay:!0,loop:!0,muted:l,playsInline:!0,onLoadStart:()=>console.log("Video loading started"),onCanPlay:()=>{d(!0),f(!1)},onError:e=>{console.error("Video loading error:",e),f(!0),d(!1),document.body.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},style:{position:"fixed",top:0,left:0,minWidth:"100vw",minHeight:"100vh",width:"100%",height:"100%",objectFit:"cover",zIndex:-1,opacity:u?1:0,transition:"opacity 0.5s ease-in-out"},children:[(0,lt.jsx)("source",{src:"/Wallpaper-1.mp4",type:"video/mp4"}),(0,lt.jsx)("source",{src:"/main-wall.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})]}),(0,lt.jsx)("div",{style:{position:"relative",zIndex:2e3},children:!a&&!s&&(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("button",{onClick:()=>{c(e=>{const t=!e;return p.current&&(p.current.muted=t),t})},style:{position:"fixed",bottom:32,right:32,zIndex:10001,background:"rgba(0,0,0,0.6)",color:"#fff",border:"none",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",fontSize:28,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.18)"},"aria-label":l?"Unmute background video":"Mute background video",title:l?"Unmute":"Mute",children:l?(0,lt.jsx)("span",{role:"img","aria-label":"muted",children:"\ud83d\udd07"}):(0,lt.jsx)("span",{role:"img","aria-label":"unmuted",children:"\ud83d\udd0a"})}),(0,lt.jsx)("nav",{style:{background:"rgba(128,128,128,0.5)",padding:"1rem",display:"flex",gap:"1.2rem",alignItems:"center",flexWrap:"wrap",overflowX:"visible",whiteSpace:"normal",minWidth:0,width:"100%",boxSizing:"border-box"},children:(0,lt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1.2rem",marginLeft:"32px"},children:[(0,lt.jsx)("img",{src:"/Logo.png",alt:"Logo",className:"logo-animation",style:{height:96,borderRadius:18,transition:"all 0.3s ease-in-out",cursor:"pointer"},onMouseEnter:e=>{e.target.style.transform="scale(1.1) rotate(5deg)",e.target.style.boxShadow="0 8px 25px rgba(0,0,0,0.3)",e.target.style.animationPlayState="paused"},onMouseLeave:e=>{e.target.style.transform="scale(1) rotate(0deg)",e.target.style.boxShadow="none",e.target.style.animationPlayState="running"}}),(0,lt.jsxs)("span",{style:{fontWeight:"bold",fontSize:"2.1rem",lineHeight:1.1,display:"flex",flexDirection:"column",alignItems:"flex-start",whiteSpace:"normal",animation:"rainbow 6s linear infinite",textShadow:"2px 2px 0px #000, -2px -2px 0px #000, 2px -2px 0px #000, -2px 2px 0px #000, 1px 1px 0px #000, -1px -1px 0px #000, 1px -1px 0px #000, -1px 1px 0px #000"},children:["The Moothedath",(0,lt.jsx)("br",{}),"Ancestral House"]}),(0,lt.jsx)(tt,{to:"/home",style:{color:"#fff",textDecoration:"none",fontSize:"18px",marginLeft:"8px",marginRight:0},children:"Home"}),(0,lt.jsx)(tt,{to:"/about",style:{color:"#fff",textDecoration:"none",fontSize:"18px",marginLeft:"8px",marginRight:0},children:"About"}),(0,lt.jsx)(tt,{to:"/gallery",style:{color:"#fff",textDecoration:"none",fontSize:"18px",marginLeft:"8px",marginRight:0},children:"Gallery"}),(0,lt.jsx)(tt,{to:"/events",style:{color:"#fff",textDecoration:"none",fontSize:"18px",marginLeft:"8px",marginRight:0},children:"Events"}),(0,lt.jsx)(tt,{to:"/upload",style:{color:"#fff",textDecoration:"none",fontSize:"18px",marginLeft:"8px",marginRight:0},children:"Login / Register"}),(0,lt.jsx)(tt,{to:"/upload-portal",style:{color:"#fff",textDecoration:"none",fontSize:"18px",marginLeft:"8px",marginRight:0},children:"Upload Portal"}),(0,lt.jsx)(tt,{to:"/chat",style:{color:"#fff",textDecoration:"none",fontSize:"18px",marginLeft:"8px",marginRight:0},children:"Chat"}),(0,lt.jsx)(tt,{to:"/blog",style:{color:"#fff",textDecoration:"none",fontSize:"18px",marginLeft:"8px",marginRight:0},children:"Blog"}),(0,lt.jsx)(tt,{to:"/contribute",style:{color:"#fff",textDecoration:"none",fontSize:"18px",marginLeft:"8px",marginRight:0},children:"Contribute"}),(0,lt.jsx)(tt,{to:"/contact",style:{color:"#fff",textDecoration:"none",fontSize:"18px",marginLeft:"8px",marginRight:0},children:"Contact Us"})]})}),(0,lt.jsx)(ln,{isLoggedIn:m,currentUser:y,setCurrentUser:v})]})}),(0,lt.jsx)("style",{children:"\n        nav a {\n          transition: background 0.2s, color 0.2s, box-shadow 0.2s;\n          border-radius: 8px;\n          padding: 0.3em 1.1em;\n          display: inline-block;\n        }\n        nav a:hover {\n          background: #28a745 !important;\n          color: #fff !important;\n          box-shadow: 0 2px 8px rgba(40,167,69,0.15);\n          text-decoration: none !important;\n        }\n        \n        @keyframes logoFloat {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-3px); }\n        }\n        \n        .logo-animation {\n          animation: logoFloat 3s ease-in-out infinite;\n        }\n        \n        @keyframes rainbow {\n          0% { color: #ff0000; }\n          14% { color: #ff8000; }\n          28% { color: #ffff00; }\n          42% { color: #00ff00; }\n          56% { color: #0080ff; }\n          70% { color: #8000ff; }\n          84% { color: #ff0080; }\n          100% { color: #ff0000; }\n        }\n      "}),(0,lt.jsxs)(ve,{children:[(0,lt.jsx)(ge,{path:"/",element:(0,lt.jsx)(Vt,{})}),(0,lt.jsx)(ge,{path:"/Intro",element:(0,lt.jsx)(Vt,{})}),(0,lt.jsx)(ge,{path:"/Home",element:(0,lt.jsx)(ut,{})}),(0,lt.jsx)(ge,{path:"/home",element:(0,lt.jsx)(ut,{})}),(0,lt.jsx)(ge,{path:"/gallery",element:(0,lt.jsx)(pt,{media:n})}),(0,lt.jsx)(ge,{path:"/events",element:(0,lt.jsx)(vt,{})}),(0,lt.jsx)(ge,{path:"/about",element:(0,lt.jsx)(St,{})}),(0,lt.jsx)(ge,{path:"/blog",element:(0,lt.jsx)(_t,{})}),(0,lt.jsx)(ge,{path:"/upload",element:(0,lt.jsx)(rn,{media:n,setMedia:r,setIsLoggedIn:g,setCurrentUser:v})}),(0,lt.jsx)(ge,{path:"/upload-portal",element:(0,lt.jsx)(Mt,{media:n,setMedia:r,setIsLoggedIn:g,setCurrentUser:v})}),(0,lt.jsx)(ge,{path:"/chat",element:(0,lt.jsx)(Ot,{})}),(0,lt.jsx)(ge,{path:"/contribute",element:(0,lt.jsx)(At,{isLoggedIn:m,currentUser:y})}),(0,lt.jsx)(ge,{path:"/contact",element:(0,lt.jsx)(zt,{})}),(0,lt.jsx)(ge,{path:"/logo-test",element:(0,lt.jsx)(Ft,{})}),(0,lt.jsx)(ge,{path:"/rainbow-test",element:(0,lt.jsx)($t,{})}),(0,lt.jsx)(ge,{path:"*",element:(0,lt.jsx)(me,{to:"/",replace:!0})})]})]})}const sn=function(){const[t,n]=(0,e.useState)(on);return(0,lt.jsx)(Ze,{children:(0,lt.jsx)(an,{media:t,setMedia:n})})};function ln(t){let{isLoggedIn:r,currentUser:i,setCurrentUser:o}=t;const a=e.useRef(),[s,l]=e.useState(!1);return(0,lt.jsxs)("div",{style:{width:80,height:100,border:"2px solid #888",borderRadius:6,background:"#f8f8f8",display:"flex",alignItems:"center",justifyContent:"center",fontSize:10,color:"#888",margin:"12px 0 0 32px",position:"relative",zIndex:1e3,overflow:"hidden",cursor:!r||i&&i.photoURL?"default":"pointer",boxShadow:!r||i&&i.photoURL?void 0:"0 0 0 2px #007bff"},title:!r||i&&i.photoURL?"":"Click to upload profile photo",onClick:()=>{!r||i&&i.photoURL||a.current.click()},children:[r&&i&&i.photoURL?(0,lt.jsx)("img",{src:i.photoURL,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.target.style.display="none"}}):s?"Uploading...":r?"Click to upload Photo":"Passport Photo",(0,lt.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},ref:a,onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))if(t.size>10485760)alert("Photo must be less than 10MB");else{l(!0);try{const{storage:e,auth:r}=await Promise.resolve().then(n.bind(n,253)),{ref:i,uploadBytes:a,getDownloadURL:s}=await Promise.resolve().then(n.bind(n,147)),l=i(e,`profile_photos/${Date.now()}_${t.name}`);await a(l,t);const c=await s(l);await(0,jt.r7)(r.currentUser,{photoURL:c}),o(e=>({...e,photoURL:c})),alert("Profile photo updated!")}catch(r){alert("Failed to upload profile photo: "+r.message)}l(!1)}else alert("Please select an image file.")}})]})}const cn=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)})};t.createRoot(document.getElementById("root")).render((0,lt.jsx)(e.StrictMode,{children:(0,lt.jsx)(sn,{})})),cn()})()})();
//# sourceMappingURL=main.5573e82b.js.map